{"version":3,"sources":["assets/check.png","assets/cancel-icon.png","assets/duplicate.png","assets/zoomIn.png","assets/zoomOut.png","assets/new-button.png","assets/brightness.png","assets/skipTitle.png","assets/skipTitleOff.png","assets/bookmark.png","assets/lock.png","assets/unlock.png","assets/deleteX.png","assets/expandDown.png","assets/upload.png","assets/left-arrow.png","assets/right-arrow.png","assets/fontSizeUP.png","assets/fontSizeDOWN.png","assets/color-picker.png","assets/color-picker-close.png","assets/textbox_full.png","assets/textbox_leftHalf.png","assets/textbox_lowerThird.png","assets/textbox_match.png","assets/textbox_midThird.png","assets/textbox_rightHalf.png","assets/textbox_upperThird.png","assets/playVerse.png","assets/checkOn.png","assets/open.png","assets/bibleIcon.png","assets/songIcon.png","assets/allItemsIcon.png","assets/timerIcon.png","assets/live_streaming_icon.png","assets/announcementsIcon.png","assets/undo.png","assets/redo.png","assets/collapseUp.png","assets/addItem.png","DisplayElements/Display_Words.jsx","DisplayElements/Display_Background.jsx","DisplayElements/DisplayBox.jsx","DisplayElements/DisplayWindow.jsx","DisplayElements/Presentation.jsx","DisplayElements/RemotePresentation.jsx","DisplayElements/LocalPresentation.jsx","Controller/SlideInList.jsx","HelperFunctions/Sort.js","LyricElements/SongArrangements.jsx","LyricElements/SongSection.jsx","LyricElements/SongSectionsArea.jsx","LyricElements/SongOrderArea.jsx","LyricElements/LyricsBox.jsx","HelperFunctions/SlideCreation.js","Controller/ItemSlides.jsx","HelperFunctions/MakeUnique.js","CreateName.jsx","Controller/ItemInList.jsx","Controller/ItemList.jsx","Controller/DisplayEditor.jsx","Controller/Backgrounds.jsx","Controller/FullView.jsx","Login.jsx","HelperFunctions/DateFunctions.js","HelperFunctions/DBUpdater.js","HelperFunctions/DBGetter.js","HelperFunctions/Overflow.js","HelperFunctions/SlideUpdate.js","Home.jsx","Mobile/MobileSlideInList.jsx","Mobile/MobileSlides.jsx","Mobile/MobileItemInList.jsx","Mobile/MobileItemList.jsx","Mobile/MobileDisplay.jsx","Mobile/MobileListChanger.jsx","Mobile/MobileView.jsx","ToolbarElements/FormatEditor.jsx","DeleteConfirmation.jsx","ToolbarElements/ItemListEditor.jsx","ToolbarElements/UserSettings.jsx","ToolbarElements/TextBoxEditor.jsx","ToolbarElements/ProjectorControl.jsx","ToolbarElements/Bible.jsx","ToolbarElements/ExistingItems.jsx","ToolbarElements/Announcements.jsx","ToolbarElements/Songs.jsx","ToolbarElements/Timer.jsx","ToolbarElements/AllItems.jsx","ToolbarElements/LiveStreamingHelper.jsx","ToolbarElements/ToolBar.jsx","Loading.jsx","Firebase.js","App.js","HelperFunctions/DBSetup.js","HelperFunctions/ItemUpdate.js","HelperFunctions/Formatter.js","registerServiceWorker.js","index.js","assets/closeIcon.png","assets/blank.png","assets/edit.png","assets/on.png","assets/off.png"],"names":["module","exports","__webpack_require__","p","Display_Words","_Component","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","computeWordsStyle","fontSize","fsDivider","fontColor","extraPadding","presentation","nextPosition","actualfontSize","fs","strokeRadius","concat","props","editor","SS","position","marginT_B","topMargin","marginL_R","sideMargin","width","height","textAlign","background","resize","outline","border","whiteSpace","color","fontFamily","margin","textShadow","zIndex","top","left","WebkitTextStroke","overflow","wordBreak","state","prevWords","prevWordsStyle","wordUpdaterIndex","_inherits","_createClass","key","value","nextProps","nextState","_this$props","words","animate","setState","box","document","getElementById","title","box_prev","text","innerHTML","newText","i","length","charAt","fontcolor","prevProps","setTimeout","bind","_this$props2","id","index","_this$state","wordsStyle","React","createElement","Transition","from","opacity","enter","leave","styles","style","_objectSpread","onChange","handleTextChange","Component","Display_Background","computeBackgroundStyle","img","brightness","level","backgroundStyle","backgroundSize","filter","maxHeight","transparent","backgroundImage","prevBackgroundStyle","backgroundUpdaterIndex","video1","loop","video2","JSON","stringify","muted","isVideo","asset","videoStyle","preload","autoPlay","src","video","type","DisplayWindow","_React$Component","updatePosition","maxW","parseFloat","substring","window","innerWidth","maxH","innerHeight","x","y","box_width","box_height","maxWidth","onBoxDragStop","updateBoxPosition","onBoxResize","e","direction","ref","delta","setBoxIndex","_this$state2","onBoxResizeStop","_this$state3","handleBoxChange","toggleDragLock","lockBox","prevBox","addEventListener","_this2","_this$state4","lockStyle","Rnd","size","onDragStop","onResize","onResizeStop","enableUserSelectHack","minWidth","minHeight","bounds","disableDragging","enableResizing","right","bottom","topRight","bottomRight","bottomLeft","topLeft","onMouseDown","alt","lock","onClick","unlock","DisplayWords","DisplayBackground","prevSlide","_this$props$backgroun","backgrounds","slide","_this$props$width","_this$props$title","_this$props$titleSize","titleSize","boxes","colorCodes","titleStyle","padding","borderRadius","boxSizing","match","containerStyle","map","blank","showBackground","some","name","find","image","DisplayBox","Presentation","isFullScreen","elem","requestFullScreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","goFullScreen","undefined","fullScreenElement","msFullscreenElement","mozFullScreen","webkitIsFullScreen","Element","ALLOW_KEYBOARD_INPUT","fullScreen","fullScreenHandler","updateDimensions","isMobileBrowser","navigator","userAgent","screen","availWidth","availHeight","updateStorage","val","parse","newValue","localSlide","localTime","time","_this$props$currentIn","currentInfo","sixteenByNine","Math","round","fourByThree","aspectRatio","abs","display","alignItems","justifyContent","backgroundColor","marginBottom","Link","to","RemotePresentation","apply","arguments","LocalPresentation","SlideInList","moving","divStyle","sortNamesInList","list","sort","a","b","nameA","toUpperCase","nameB","localeCompare","numeric","sortList","SongArrangements","cancelArrangement","editingIndex","confirmName","preventDefault","arrangements","updateArrangements","duplicateArrangement","element","obj","formattedLyrics","songOrder","slides","push","editName","event","target","selectToEdit","deleteArrangement","splice","selectArrangement","selectedArrangement","arrStyle","arrSelected","Object","assign","imageButtonStyle","arrangementEditor","selectedToEdit","selected","moreThanOne","onSubmit","className","edit","duplicate","deleteX","check","cancel","marginRight","overflowX","SongSection","_getPrototypeOf2","_len","args","Array","_key","changeSectionType","setSectionIndex","item","sectionTypes","deleteSection","changeSectionText","sectionWidth","sectionIndex","sectionsPresent","numSongSections","Sort","allSections","pos","indexOf","buttonStyle","marginLeft","SongSectionsArea","updateFormattedLyrics","replace","findIndex","updateSections","decreaseRows","_this$props3","deleteSectionFromOrder","increaseRows","newSection","_this$props4","that","fullArray","row","j","lastRow","marginTop","fontWeight","paddingTop","newButton","paddingBottom","borderBottom","zoomIn","zoomOut","paddingLeft","SongOrderArea","addSection","songIndex","newType","updateSongOrder","updateSongIndex","changeNewType","updateNewType","releaseElement","clearTimeout","checkHeld","indexBeingDragged","mouseDown","setElement","_assertThisInitialized","setTarget","insertSongIntoOrder","updateMouse","mouseX","clientX","mouseY","clientY","songStyle","borderColor","borderStyle","songDraggedStyle","songOrderDiv","userSelect","songOrderSelected","SO","beingDragged","onMouseOver","onMouseMove","onMouseUp","onMouseLeave","LyricsBox","autoFormatLyrics","updateItem","setWordIndex","close","targetIndex","song","submitText","createSections","params","sections","sectionUpdates","sectionCounter","t","max","counter","changed","newName","section","oldName","newIndex","focus","handlers","undo","redo","lyrics","lines","split","_loop","_this$state5","HotKeys","newSlide","slideIndex","textFontSize","excludeFromOverflow","duration","ItemSlides","insertWords","wordIndex","openLBox","lBoxOpen","closeLBox","updateDuration","num","addSlide","SlideCreation","deleteSlide","slidesPerRow","nextSlide","updateTimerHours","_this$props5","parseInt","isNaN","numAsString","hours","toString","updateTimerMinutes","_this$props6","minutes","updateTimerSeconds","_this$props7","seconds","_this$props8","boxIndex","freeSlides","widthNumber","fullHeight","slideWidth","slideStyle","slideSelectedStyle","slideDraggedStyle","ROWtest","subElement","deleteEnable","currentSlide","formatSong","setSlideBackground","makeUnique","property","_id","CreateName","makeNameUnique","addMedia","nameChange","submitName","option","allItems","MakeUnique","console","log","message","submit","textbox","select","boxShadow","fontStyle","ItemInList","nameColor","ItemList","setItemIndex","insertItemIntoList","editItem","nameOpen","nextItem","itemList","itemIndex","prevItem","itemStyle","itemSelectedStyle","itemDraggedStyle","SL","deleteItemFromList","duplicateItem","overflowY","DisplayEditor","handleKeyUp","updateTextChange","selectionStart","cursor","enterPressed","newWords","start","end","slideSpan","selectionEnd","scrollTop","updating","throttle","blankStyle","onKeyUp","onKeyDown","overrideUndoRedo","itemID","Backgrounds","closeName","openName","componentDidMount","selectBackground","displayImage","selectedBackground","updateCurrent","displayDirect","setItemBackground","allOpen","openUploader","user","BCKS","pic","itemSelected","paddingRight","backgroundsRowStyle","backgroundTableStyle","upload","transform","expandDown","FullView","_this$props$parent","parent","addItem","handleFileChange","_this$props$parent$st","mode","db","PouchDB","process","Login","usernameChange","username","passwordChange","password","login","isMobile","get","then","doc","logins","database","upload_preset","wrongCred","history","getDateofNextDay","dayOfWeek","serviceDay","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","date","Date","now","setDate","getDate","getDay","toLocaleDateString","month","day","year","updaterInterval","addImages","put","_props$parent","updateState","addItemToList","_props$parent$state","itemObj","catch","items","deleteItem","_props$parent$state2","allItemLists","selectedItemList","remove","_props$parent2","updateHistory","_props$parent$state3","deleteItemList","selectItemList","itemLists","duplicateList","_props$parent3","_props$parent$state4","lastID","newID","DateFunctions","newListFull","newList","updateAllItemLists","updateItemLists","err","putInList","_props$parent4","_props$parent$state5","updateAllItems","_loop2","error","_props$obj","upsert","info","updateImageList","newBackgrounds","_toConsumableArray","skipTitle","updateItemList","_loop3","doc2","updateItemStructure","clearInterval","setInterval","temp","k","box1","box2","updateUserSetting","userSetting","_props$parent5","_props$parent$state6","userSettings","settings","updateUserSettings","getItem","newItemIndex","historyToState","retrieveImages","cloud","getSuccess","getAttempted","tag","imgData","url","lastIndexOf","Image","setAttribute","category","newSlides","lastSlide","lastBoxes","fLyrics","currentBoxes","maxLines","lineHeight","lineCounter","boxWords","_getMaxLines","getMaxLines","lineCount","getNumLines","formatSection","formatLyrics","songOrderCounter","formatBible","verses","fit","formatBibleVerses","_getMaxLines2","formattedVerses","fitProcessing","verse","update","trim","verseLoop","_getMaxLines3","_getMaxLines4","topMarg","singleSpan","body","appendChild","offsetHeight","removeChild","floor","sideMarg","textSpan","textSpanHeight","timer","countdown","scrollTo","mElement","scrollIntoView","behavior","block","inline","lastBox","clearTimer","clearCountdown","updateSlide","freeze","isBible","isAnnouncement","minutesString","secondsString","nextOnFinish","Home","rel","href","isLoggedIn","logout","MobileSlideInList","MobileSlides","clickSlide","_ref","MobileItemInList","MobileItemList","MobileDisplay","MobileListChanger","listNameStyle","selectedStyle","MobileView","openArrangeLyrics","arrangeLyricsOpen","closeArrangeLyrics","openItemSelect","itemSelectOpen","closeItemSelect","openMenu","menuOpen","closeMenu","toggleFreeze","buttonLoggedIn","menuItem","off","on","FormatEditor","openColors","cPickerOpen","closeColors","changeBrightness","colorChange","rgb","updateFontColor","updateFont","updateFontSize","fontSizeUP","fontSizeDOWN","fontSizeChange","updateSkipTitle","updateNextOnFinish","prevState","stringToRGB","r","g","showSkipTitle","cPicker","cPickerClose","ChromePicker","String","fsUP","fsDOWN","brightness_img","Slider","min","onAfterChange","updateBrightness","skipTitleOff","DeleteConfirmation","wordStyle","nameStyle","messageStyle","miniStyle","confirm","ItemListEditor","addToList","needsUpdate","mes","msg","messageDisplay","selectedIndex","deleteOverlay","deleteIndex","indexAll","deleteList","duplicateOutline","newItemList","newNumber","openConfirmation","setAsOutline","updateAilsSearch","ailsSearch","updateIlsSearch","ilsSearch","outlineName","outlineStyle","filteredILS","filteredAILS","ele","toLowerCase","includes","slice","ils","bookmark","ails","add","closeIcon","float","UserSettings","changeSetting","selectedSetting","showDelete","defaultBibleBackground","setting","_this$props$state","sectionWords","sectionStyle","selectedSectionStyle","loadedSetting","getBackgroundStyle","borderWidth","TextBoxEditor","textboxFull","applyAll","textboxLeftHalf","textboxRightHalf","textboxMatch","textboxLowerThird","textboxMidThird","textboxUpperThird","applySelected","textbox_full","textbox_leftHalf","textbox_rightHalf","textbox_match","textbox_lowerThird","textbox_midThird","textbox_upperThird","readOnly","checked","ProjectorControl","defaultScreenBackground","defaultWelcomeBackground","defaultFarewellBackground","blankBackgroundStyle","screenBackgroundStyle","welcomeBackgroundStyle","farewellBackgroundStyle","Bible","resetState","initialState","selectVersion","version","bibles","bookSearch","currentBook","currentChapter","startVerse","endVerse","allBooks","books","filteredBooks","allChapters","chapters","chapter","filteredChapters","allVerses","filteredVersesStart","filteredVersesEnd","filterBooks","selectBook","selectChapter","selectStartVerse","selectEndVerse","createVersesItem","verseNum","functions","nextField","activeElement","displayNextVerse","displayedVerse","nextVerse","displayVerse","displayPrevVerse","_this$state6","filterChapters","chapterSearch","_this$state7","filterVersesStart","verseStartSearch","_this$state8","filterVersesEnd","verseEndSearch","_this$state9","_this$state10","_this$state11","_this$state12","updateBook","updateChapter","updateStartVerse","_this$state13","updateEndVerse","_this$state14","bibleSelection","selectedVerses","versions","kjv","nkjv","niv","nlt","stateNotEmpty","keys","bibleWindow","prevBook","prevChapter","prevEnd","prevStart","_this$state15","updateBibleSelection","_this$state16","_this$props$functions","displayText","playVerse","tStyle","sStyle","versesStart","versesEnd","freezeButton","tabIndex","ExistingItems","updateText","filteredList","imageStyle","borderRight","Announcements","updateName","nameToDelete","formatAnnouncements","defaultAnnouncementsBackground","_props$slide$boxes$","currentSection","currentSectionNumber","_getMaxLines5","filteredLines","cleanLine","trimmed","test","line","ceil","linesPerSlide","linesNum","sectionMaxLines","sentences","Overflow","newAnnouncements","firstSlide","blankSlides","unshift","firebaseSetAnnouncements","_this$props$state2","allAnnouncements","Songs","newSong","defaultSongBackground","allSongs","Timer","newTimer","defaultTimerBackground","allTimers","AllItems","tab","tabStyle","borderLeft","tabSelected","tabs","LiveStreamingHelper","insertElement","oldIndex","overlayQueue","getFromQueue","firebaseUpdateOverlayPresets","addToQueue","queue","newItem","removeFromQueue","isPreset","getFromPresets","overlayPresets","sendOverlay","firebaseUpdateOverlay","action","sent","clearOverlay","updatePreset","heading","subHeading","toggleDelete","overlayInfo","infoNotEmpty","_this$props5$overlayQ","currentIndex","stickyActive","floatingActive","buttonActiveStyle","previewStyle","stickyStyle","floatingStyle","Preview","floating","textTransform","sticky","disabled","visibility","checkOn","qShowDelete","beingDraggedStyle","borderTop","presets","_ref2","flexWrap","Toolbar","openLiveStreamHelper","liveStreamHelper","closeLiveStreamHelper","openAllItems","allItemsOpen","closeAllItems","menuMousedOver","openItemLists","itemListsOpen","closeItemLists","openSettings","settingsOpen","closeSettings","openPresentation","location","origin","open","undoReady","redoReady","modeButton","modeButtonSelected","undoRedo","undoRedoDisabled","hash","undoButton","redoButton","bibleIcon","songIcon","allItemsIcon","announcementsIcon","timerIcon","liveStreamingIcon","Loading","retrieved","percent","toFixed","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","getDatabase","plugin","require","conn","cloudinary","Cloudinary","cloud_name","api_key","api_secret","secure","remoteDB","attempted","undoHistory","undoProperties","undoIndex","historyUpdating","App","firebaseCurrent","query1","firebaseDatabase","onValue","snap","query2","query3","_snap$val","_snap$val$presets","_snap$val$queue","query","set","arr","presetQuery","DBUpdater","DBReplicate","localDB","opts","live","retry","replicate","listCount","dateString","SLists","reload","DBSetup","DBGetter","getTime","changes","since","include_docs","timeout","change","sync","finished","onLine","alert","getSelectedListId","getItemId","updateInterval","newState","_defineProperty","u","init","first","remoteURL","skip_setup","destroy","ItemUpdate","localStorage","setItem","uploadWidget","ctrlKey","shiftKey","updateUndoIndex","signIntoFirebase","auth","getAuth","signInWithEmailAndPassword","SlideUpdate","fetch","method","number","headers","Accept","Content-Type","response","json","data","hasOwnProperty","func","_props$position","Formatter","_props$isBible","_props$name","_props$isAnnouncement","send","c","currentVal","updateNow","prop","runBibleConvert","newNLT","currentVerse","newId","newListId","connectorInterval","reactLoaded","sLoggedIn","sUser","sDatabase","sUploadPreset","success","createUploadWidget","cloudName","uploadPreset","result","_result$info","resultType","public_id","_this$state4$currentI","keyMap","Switch","Route","path","render","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","HashRouter","URL","status","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"6EAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wwkpKCAxCH,EAAAC,QAAA,w2NCAAD,EAAAC,QAAA,8xQCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kECAxCH,EAAAC,QAAA,ovBCAAD,EAAAC,QAAA,ohCCAAD,EAAAC,QAAA,ovBCAAD,EAAAC,QAAA,wjECAAD,EAAAC,QAAA,owBCAAD,EAAAC,QAAA,ohCCAAD,EAAAC,QAAA,4yu9UCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAA,snECAAD,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,mECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,kHCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,+ECAxCH,EAAAC,QA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","file":"static/js/main.41c78b62.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/check.95f3183d.png\";","module.exports = __webpack_public_path__ + \"static/media/cancel-icon.3f3181ae.png\";","module.exports = __webpack_public_path__ + \"static/media/duplicate.31a866aa.png\";","module.exports = __webpack_public_path__ + \"static/media/zoomIn.f8d3d91c.png\";","module.exports = __webpack_public_path__ + \"static/media/zoomOut.a729a116.png\";","module.exports = __webpack_public_path__ + \"static/media/new-button.a2d553d6.png\";","module.exports = __webpack_public_path__ + \"static/media/brightness.13d2cf9e.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAABaCAYAAABaK68tAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuMWMqnEsAABPeSURBVHhe3V1psB1FGZ37bt4LRlFKRVCxFFA2LcuCQrSQQi3c8lwQf7jrD0soFAJYpVVqWRBAlJKwhE12BQmEJQn7voOgEhAVApSAIUAIIJCXTZK8PM/pnp7pnumZ6Z7bc+9cvqpTs/R0z9dnzvT0MjMdOVhnxozonSMjIz/C+qXAy8AUMTLSmZo2bRqWI+uxfRdwArA30AVej7YV8ntgt9uZj/UXAcEDEXOxEct/YPts4JPAKPB6sxnAfrjm3yKw/hnAL59jY2M7gKyru92RSWwmJBKpqDrGfhk28nC32/0y1l8vxL6/0+mcgfyuBxe2/BZxsQz7Z2E5Bgy7vQf4A7AeXIj8alw8A/wEqLze0xH5JETe4EkkTtZFWHeKJ8f2bcAOwLAaBTELeVmXITKB4iLOrwHFBdbvBD4EDKvtCrwAiHzKa5/nAmHXYrkZYLUtcMCtRZFdiOx0jP2rgO8CHWCY7E3ADWVEVnFBaPtWA78A3gAMk70dqBSVxsUV2M7Z5gh4MhCRApozLL1YnA6DbQ782ZHIXFgZF9i/eHQ02g3bw2KsN+vXMZcvCxczgcRmIOC+0ERm0uNd+w1gBGirsWRd6ElkAkcuXgOOAtpeirPUnijjgtUDCxcLAGkIOLZBInVsQt3saiy3Adpo+9cgMg7z5uIhNJB2xrKttkvaSPPi4r+AaP3tggNwwRsnUuyL02Pdi83VNtlWIHJ1ke8NcbEB6z8HWleKIz8zpe+2/NL3pJGWgPVr7N+E9ShC5EU+RMaR6xKpp0cHWNl7FzBw63Y7c8qJDMeFJb0lwEeA1hjyNG7nwmj5J5D5TbiItkTGeYGNg/pApBbWfQlxvo31Qdp0+LeyByItYd5cbEBarHu1pYOZlXDDRw8uogNUoEIdInlBaopKT28RwApj3w0+7FvkX3gubOkZN+z9wIeBQZshrJSLdB+RcmHkN7pI29AiFxGZJysl0nZhiogsvDAvYd9+WPa7xTQXMHyhb4QjkQIUUzEXXiLlMNnRwCD7vRJhKS7UtoL03dp5LJ7tYsMn8g7vi6YO/3E0teO2MiwAkQKxSDfhGDZZ3wr0y24GEj9cuVA8cKlElc0vkXJh7k+5sN+wiPco1vcABmFCWFVc2EpmIFrDlarI2Yyfe0z08tSj0dS/ropWHn6QJFYPZ1p1iJSOJhdmOcAxx6ZbTKzTLAbEeV2JZJ5f/ku0ijzceG60Zuft8zcR4cstkSn51gG/BfpdTZjpyoWOeF89Rd51YfQ0CVVYeEr0mhJXVXoOROqYRFp8m2BroCmbDjwPeHHBkkrngCI7cla0Sb/JeuGCx2TClmD/Xlj2xcbGxsZduVBQvrPS6kykAvfdPc8UFvH4DdGrRxzcmdppu3ycmkQK3+KSjyPoXwKasOlIf4UsSd25yApL4fqzo7UUV11uy7gA2O91MvAWoFHDuXKtQmff62YcwlpqI5W45MRog37X9kikvo+v77CxsSUQ0qbjPC/4csGbyJZ/4qX7oonZszpG6UUE5OJJgG8dNGmGsNKqSt53FhgZ380DyjKuRy4TFvHINah7sVK7LZvRQYgUkP51VyDsq9gOZRSW8eIeUUXk7INHrHnXcfN50RolrjJua3LBasJvsN7Ue2+JsFIubP5ZfU8PKMt4NnKVsBQuObGzgS3HbHr1RZX4x07d04AQzXHWscSrIQoudycbLbY8Z/HSvdHEETiWlXtbegG4WArsCYQ2ISzln11U9pY/IFdciNQjuwqLYN1LNckZNwCROpbj+M9h2YtRWCsAkWY5kQyTRBbVsYpw6x/T0stMLwgXrCacCDAvoWxmORfF3UlY1lOkj7AUWPfaaTtJSgAiBWLfJ3EM3xt6M1DHEmH5cOErLOKVv0arj5oVTVJgRaJiFw3PU4+L7tNY/xjQcwczzj9u849IuTD3S//gtw+RCtyGsHKtQhcsuTZayceCfuf2RqSR8SeAfQDffi8hLEt6CWxE1hGWwr3zo1U7bz+SO5fMrz8XGZFuBE4C6t5owuDDeBEXZf7RF77ZkMscoSLbFTlt6q6awlJYeEr0P4pLpmd3lGJ3JFIHK7SnY+nTmTgd53ihiovsftc6VhFQeq1SpRfT640LWwEQPYW0Pov1uh3Mue6GIi6k75p/PkSqyMxInUdhFk/cFK1Ek3yKj8fsuWoSKfbHvj8FfBpwMb7Z8KIvFy6tQhfccUG0Wraeea58fsmB5MLun52LRKSse50J1On3MoRVxoXlWpkHuUYOISyFK0+XpZc6V49E6vvZmXgWsAVQZvwqyWgVElVcHHFQcT+WL1Y9EK05+tC09FIIyAVbjr6NHCEs3rBVXGRERaQbPpFDCot4+jZZ91KD2lmyCPrmQaRAXPItwzortEVmtAoJFy56qWMVQZResbiUqMq5MPenXNhKvs5GpPcnrPPLGxebWcatzkU2DJArLkTq+0MLS+GGc6K1fCzo5yJqEhn7Li4MK7THA28EspYIK/M4NZDloglhESvvR+l1SDTZ4KA2x0W/AlTZzDqiEuf3IVJHdhA6JJ66xWw5BiBSx1Ls3x1L3YSwZHruXDQlLAVwnJReClVc2K6V4oLHaPvZwXwqYLvRhBUNQqc3bP5cvBYMQ6uwniLrdjf4YMHJ0Wsc0C7zr0xUGSIFmBbyzNLrWECRyjpW4SB0EZFNC4tY8/doXdrvFUxUAnF6HMr6ApAzhOVahSo9yw2LtBgWl7I2R10U2dSjMIunb4/HHLU7txciZcaTfY8ArHuhVchBaFt66lz59MoGoUMDfK8qe2ukDhfatWfpxf8y8ENd3QxhqfTsosrVf80DyojUFdkvYSlccZre79UzkQlw7HrsPxZ5eyUbVkXk7D4Ki1j9YLT2qEOijeoma4CLF8fGul/Duuq1T4RVlV5GVER6QBWReuR+C4tYipbj0Yd2NjU0qG3AhcheO0jrYvGCaKLsrRH1VKnJBUuv84B3AEJYLtxmG1WAXHEhUo88CGEpXHeWfJEu9a+/olLp9aOOVQSWXsccZr73Jv2j77nSQ1w7Ty6eA+a4cqEjPrbe3T5IYRHL744mWKmVg9pBiBTw4WKQwlK4b340oeqgxaKSHDXJhYJKLxmE9o0MYTXeKnSBrd9LZq55ItsgLIWLj+9s9B3UTuvTeS56fgrUjdzrIHRIPH9PNKE+YugnkYOqYxXhgQVmCzrlwnYTKS5s+SUX9qeA8w3rQ6QeedCPQhv4Ih3v2nIii0TlT2SoQejQmDcHLce4cm/nQt5EdlFZW3jxtXcUlYR+gLsi2ygsgi/SHXGQ+QlWU0SGHIQOjb9dFk2wny1buVdcZPNL1OGi5IaVK17FHNBWYSlce2a0jqSGFpVOZJvqWEW4aE7acnQTlbk/5cJW8iku8ukB9RTZdmER8SdY4ksh3XeimshqLoZBWMSDCzn22hEfcxSJypZfyUW9x6moY1UTmY/cpsp7FW48x/yIQRFpF5U7kcMiLAWUXkmvvYLiQt9HuHBRJFLqSbQK6yiyLd0NruAnWLLfK9yg9rAJi3j4mvTNkSpRMd/ZMBdRiRu2riKH4VFow+3n519FqUtkPwehQ2P+CZ0NDQ5qE+YBrpGHVVgE+72UuHohcpiFRehvqxIBRUWkGz6Rh1lYBB9jvRI5jI/CLJgHmd9iLvhU8xQVIVd8FTnMwoLvq0K8HTDswuKbuiyxqkWVb02yHmXThQwTx7oTqWNYhcW3UncM9MrJMAvr6jNc+vmKRcX9RaJieqLy7isqHgthDVWr8Jk7zK+AQhA5jMJSPFSLSrXwslyQv3JRiRvWJioXRQ5TP5b6bjE0kW0bhK6CeguXvisusvklUi7M/WVc5B6nPkTKMBl5GB6FrEOwVNFFVU6kOxcksq2D0Fnw3TXFg/S9rqiK+vmULoz00gOqiFSi4nbbhRXu7iwmko8U27nbBJ0H6Xs5F7ZrXy4qmV5GVIRcKScyH7mtwlJfVLuKqhci21zHyn6bqftehwvGzYaVpQe4EZmN3EZhLdT+3FzmOxGCyLYKa0GGB4LXtkkudIi06kZuU+UddYjc3dkPItsmrGfuBA8HmzwQkgtbHbK6keari4TbupHb0t2Q/VON9K8/RLZJWItO7Yj+Od0/gnm1c8H8NiQqbteNPOhHIb8xtN+d/SOyDWOF6h9joUSVbaTp8HwKZA9wizxIYV2FUqoNRA5aWJfPjdaXvbwnuTD3p1zYbiLFRZJe8nV4jadAuuGjyEEIiy2d+m+EOhGZoIgLnchBPQofu54zgMjfe7tcKwXJhVO3AefumQVwJhCRll1Uitv8uQC54kKkvr/fwmJLp5+v1tqJNLkYhLAuPj4S/823XSuiFy7i9DhX4gcBmpikyVdUMadKVNVE6uiXsJ67i1+bNHp3rgR+AIhfRfoQ2U9hqZk+ehGV7XGviWottn8GJIa0xiUXZpyUC1t68lziN0auRCowMoTVeKtw4SmsSzVGJH9+cQnAORHFj9dSLsw4KRdmev0SlpqbSBYAwbng3JD3YHtHwDCkN46FEUelV3nD+hBJqMhNllhqipCGJhvgMfzZGOdBVFY5SZONi6a/K1xybTqjhxSVrQDoiYtVWB6G7SIz/o/lyK3aZx5QRqSKHJdYjQgrnZKtmEgp+lpEcgYLztzKX/ToZp2kqSq9JgehWZdSXSnMq50L+ufPBbjdhLDbxsbGPoDtMkuEVcUFwzL+pQf4RA4trGfZaxz3njdAJMM45w5/KmYzPgqN33G7cNHEazPsl1KlFM9VhwtVzynw/eXR0dEfYn0aUGVCWC5cZP0D5Ipv5JDC0nvPQxMJUU0i7GKsl/1A3/gdtysXoetYl82N1iseiJQL04eUi2L/RD3HDNuEsDuw3AZwtfh33N6iIuopMoSw4jcRkv8sBCaSYc+OjYkZ8aum/NB+x+3ORShh8Vs/vZQiyIXtJlL+eXKxEmEHYuk19QnOP7OIi/gpkHBhhsFvHyJ19DoIzXfPGyRystvtXIDl2wAX037H7U5kCGHNO87/62TPa3UdkK1TOhl8GC/mwvZU0eq/PkSmYfUHoflNX/5NhKBE/gf4POAzrdp0iFNM0uTDRS91rAcXoZTK8EAE5IL9c98DeplezmgVEvStUlTc50OkHrnOozBbShEBiWS/1DygzlRqYpIm2+O07O6s+9fkC4/rTBYNSwXi4hYg+2vtOmYIi77ZuaB/Od/TAwinYg7bPsJ6Tmvx6WkGJJJdBS5TeBRZ4SRNZUT6DkIvvjyaYBdFg6J6FTgACGWJsFIuTB8UFxbf040qIvXIrsIS/0rIEEnnmJbFmfhczkRyyrRzgMJpOxzNaBUSLlz41LHmzeHcOLZ/hPbUL6fSY2nNutR7gZAmhKWuVbGo8v4BciUl0jygKHKVsJ6/2/5vqjQ9PyItj+dngU8BIcwQVjmRaUPCRVgPXcH3xvhvqsZ+PLsc+A7QhIlB6LJrZRNV7HNKpB5IlEUum6TpmjOideGJTEoPzkF4PsAxvlCWCMuHiyphXYgWH//oIn23pcdz2S6M4sLkj9C4YGl9JfBuoBErmqRJcWG7VtzHMDEIXSeyrVXI3nNWaKWozDjlREpnHCrPTwJs8YU2ISxfLoqEpf693su/uOxcJI9nTgv3daDulLxOhvPlWoVFXBDKd3GtfIgkVOTso5DfrzVI5GvY9p3n2ccqB6FtXNgGodUYH9PyTU9xwWOyYTEXk7hhL8K2a/9cr2YIy9P3aL0KJFwjXzY3ep5ELr1VtviqROXoTIKYSISJuZ05M32TRmEZlXeiyne+I8ZJK8kD57dhKdWUqAC2fH3753q1RFhlvsunSs53MWeK2PDJOAlUwzENEck5BX8PNFVK6dYFHgASH8p814nUeZBhwbngmwiXYr1O/1yvJoSV1vmcRUVEdNqZyHxYI6J6HOufAPppNwGxf63h4kVgX6wPymamXNj8o+9J/TdBXL+OZreISL6JwFnnNwP6bZxxVRAofS8iMu87iSTBvlyUcYvjF2HJRsXADPkZL+Yiqf8a+2V+wcPoaLSbb8brElkhqueAputSZban8q8Okb5clIhqBY7/JpYDN+RpvOBauXCBNutI51EVqFCHyPRu9yJyI9Kai+UoMEgbRb6WWvxriItceuyXmg9sDbTFct0NKRfm/pSLJL/Cvg8kB1UTaSuNFJG2C2MlkmC/1EeBVhj8m42F4aMHkQlqlHx8I6OXsc6mzBAWfSf0fYTkItedlNg/gSSyncie+qL0/eyXOg0oe6tzEMaWF8We+O5BpIDiIpNfAQsXbPmyThlyFCGkcXb7xPcyLiwlc2K7I+KGZog09i8B9gbaamyFTdYgspKLTHrLAJYI/eyX8jVeJ5vvAiVcsG80tWnTxKdAxkEBieQHkb8DZgBttg78nu1JpA8XLKXOBkK8L9W0bQG/N/lz0bkPy5wl4gooqseAjwPDYhyD4wcYSR4CcfEEsBcwLDaKp5SoIumo4gL5PQbrVtsfkTcGIJJvIswBBtEv1avx86gjAX4p3Kuo2OI7Dxhov1RN+yLA971EntJGWp4LVpUQtmLGjBnFLVscwH4d3mG2yC6iegjYFRh22wf1xGUlRFZxwRbfIPvnQhgbWi6iYh3daaSAjwT+zubfgCuRiwGqvM2VUl8jDz8FOCAe59fOhdZ5TM4OARp9taVPNg1i+iXyu7Gk5b8MS153P2MPPSIeDSKvxybfD+djjliOk16OsKOwvhvwerc9wMExIPlyLPlGBDlghZzvSJGHXyOsNX1zge19wInAIwDzvRbX/mbk91dY3wKILYr+D4f5t8lQtJN+AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/bookmark.2dcd6e89.png\";","module.exports = __webpack_public_path__ + \"static/media/lock.824cba3c.png\";","module.exports = __webpack_public_path__ + \"static/media/unlock.5e8893b4.png\";","module.exports = __webpack_public_path__ + \"static/media/deleteX.da6302ed.png\";","module.exports = __webpack_public_path__ + \"static/media/expandDown.7dfc39db.png\";","module.exports = __webpack_public_path__ + \"static/media/upload.e09f5651.png\";","module.exports = __webpack_public_path__ + \"static/media/left-arrow.ccdf909e.png\";","module.exports = __webpack_public_path__ + \"static/media/right-arrow.ce180c74.png\";","module.exports = __webpack_public_path__ + \"static/media/fontSizeUP.26ce9441.png\";","module.exports = __webpack_public_path__ + \"static/media/fontSizeDOWN.81c507c4.png\";","module.exports = __webpack_public_path__ + \"static/media/color-picker.95b9f007.png\";","module.exports = __webpack_public_path__ + \"static/media/color-picker-close.24c77d97.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAABhElEQVR4Xu3RMREAQRCEwJX2/lV9MJg4ig5JuSTv+6LD2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYO7SIsHZoEWHt0CLC2qFFhLVDiwhrhxYR1g4tIqwdWkRYm+RZdz9jKVBK3aGHHwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAACXUlEQVR4Xu3RQQHDABACwUirf1PNgzERuHEA+5xzvu+3599O2jB6iRt6SRtGL3FDL2nD6CVu6CVtGL3EDb2kDaOXuKGXtGH0Ejf0kjaMXuKGXtKG0Uvc0EvaMHqJG3pJG0YvcUMvacPoJW7oJW0YvcQNvaQNo5e4oZe0YfQSN/SSNoxe4oZe0obRS9zQS9oweokbekkbRi9xQy9pw+glbuglbRi9xA29pA2jl7ihl7Rh9BI39JI2jF7ihl7ShtFL3NBL2jB6iRt6SRtGL3FDL2nD6CVu6CVtGL3EDb2kDaOXuKGXtGH0Ejf0kjaMXuKGXtKG0Uvc0EvaMHqJG3pJG0YvcUMvacPoJW7oJW0YvcQNvaQNo5e4oZe0YfQSN/SSNoxe4oZe0obRS9zQS9oweokbekkbRi9xQy9pw+glbuglbRi9xA29pA2jl7ihl7Rh9BI39JI2jF7ihl7ShtFL3NBL2jB6iRt6SRtGL3FDL2nD6CVu6CVtGL3EDb2kDaOXuKGXtGH0Ejf0kjaMXuKGXtKG0Uvc0EvaMHqJG3pJG0YvcUMvacPoJW7oJW0YvcQNvaQNo5e4oZe0YfQSN/SSNoxe4oZe0obRS9zQS9oweokbekkbRi9xQy9pw+glbuglbRi9xA29pA2jl7ihl7Rh9BI39JI2jF7ihl7ShtFL3NBL2jB6iRt6SRtGL3FDL2nD6CVu6CVtGL3EDb2kDaOXuKGXtGH0Ejf0kjaMXuKGXtKG0Uvc0EvaMHqJG3pJG0YvcUMvacPoJW7oJW0YvcQNvaQNo5e4oZe055zPep4XvF64fK7+DZAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAABhElEQVR4Xu3RMREAMQCEwEh7/6Y+xWEiDFvScpK8748Oa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtr5osPaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwNsmzzrndTFkjXTvwlwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAABkUlEQVR4Xu3bsRHAMACDQI+W/ZeKC7GEOb5US62T5H1/dEg7bBEh7bBFhLTDFhHSDltESDtsESHtsEWEtMMWEdIOW0RIO2wRIe2wRYS0wxYR0g5bREg7bBEh7bBFhLTDFhHSDltESDtsESHtsEWEtMMWEdIOW0RIO2wRIe2wRYS0wxYR0g5bREg7bBEh7bBFhLTzRYe0wxYR0g5bREg7bBEh7bBFhLTDFhHSDltESDtsESHtsEWEtMMWEdIOW0RIO2wRIe2wRYS0wxYR0g5bREg7bBEh7bBFhLTDFhHSDltESDtsESHtsEWEtMMWEdIOW0RIO2wRIe2wRYS0wxYR0g5bREg7bBEh7bBFhLTDFhHSDltESDtcSiNC2mGLCGmHLSKkHbaIkHbYIkLaYYsIaYctIqQdtoiQdtgiQtphiwhphy0ipB22iJB22CJC2mGLCGmHLSKkHbaIkHbYIkLaYYsIaYctIqQdtoiQdtgiQtphiwhphy0ipB22iJB22CJC2mGLCGmHLSKkHbaIkDbJs865W6NZI5sQwNAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAACXUlEQVR4Xu3RQQHDABACwUirf1PNgzERuHEA+5xzvu/f7rdH2nBDL6OXSBtu6GX0EmnDDb2MXiJtuKGX0UukDTf0MnqJtOGGXkYvkTbc0MvoJdKGG3oZvUTacEMvo5dIG27oZfQSacMNvYxeIm24oZfRS6QNN/Qyeom04YZeRi+RNtzQy+gl0oYbehm9RNpwQy+jl0gbbuhl9BJpww29jF4ibbihl9FLpA039DJ6ibThhl5GL5E23NDL6CXShht6Gb1E2nBDL6OXSBtu6GX0EmnDDb2MXiJtuKGX0UukDTf0MnqJtOGGXkYvkTbc0MvoJdKGG3oZvUTacEMvo5dIG27oZfQSacMNvYxeIm24oZfRS6QNN/Qyeom04YZeRi+RNtzQy+gl0oYbehm9RNpwQy+jl0gbbuhl9BJpww29jF4ibbihl9FLpA039DJ6ibThhl5GL5E23NDL6CXShht6Gb1E2nBDL6OXSBtu6GX0EmnDDb2MXiJtuKGX0UukDTf0MnqJtOGGXkYvkTbc0MvoJdKGG3oZvUTacEMvo5dIG27oZfQSacMNvYxeIm24oZfRS6QNN/Qyeom04YZeRi+RNtzQy+gl0oYbehm9RNpwQy+jl0gbbuhl9BJpww29jF4ibbihl9FLpA039DJ6ibThhl5GL5E23NDL6CXShht6Gb1E2nBDL6OXSBtu6GX0EmnDDb2MXiJtuKGX0UukDTf0MnqJtOGGXkYvkTbc0MvoJdKGG3oZvUTacEMvo5dIG27oZfQSacMNvYxeIm24oZfRS6QNN/Qyeom055zPep4XqaG4fNuFqFoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABaCAIAAACwpMoFAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAABhElEQVR4Xu3RMREAMQCEwEh7/6Y+xWEiDFvScpK874sOa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtqhRYS1Q4sIa4cWEdYOLSKsHVpEWDu0iLB2aBFh7dAiwtr5o8PaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwdmgRYe3QIsLaoUWEtUOLCGuHFhHWDi0irB1aRFg7tIiwNsmzzrlnuFkjwGNXugAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/playVerse.d7a46a16.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/open.d276bd03.png\";","module.exports = __webpack_public_path__ + \"static/media/bibleIcon.d3aec49d.png\";","module.exports = __webpack_public_path__ + \"static/media/songIcon.3093c1dc.png\";","module.exports = __webpack_public_path__ + \"static/media/allItemsIcon.7c3d4167.png\";","module.exports = __webpack_public_path__ + \"static/media/timerIcon.2a5d6fbd.png\";","module.exports = __webpack_public_path__ + \"static/media/live_streaming_icon.0df8f53f.png\";","module.exports = __webpack_public_path__ + \"static/media/announcementsIcon.30ad16e3.png\";","module.exports = __webpack_public_path__ + \"static/media/undo.121db4c8.png\";","module.exports = __webpack_public_path__ + \"static/media/redo.d9710744.png\";","module.exports = __webpack_public_path__ + \"static/media/collapseUp.6dfb8b2e.png\";","module.exports = __webpack_public_path__ + \"static/media/addItem.264eb30d.png\";","import React, {Component} from 'react';\r\nimport { Transition } from 'react-spring'\r\n\r\nexport default class Display_Words extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      prevWords: '',\r\n      prevWordsStyle: {},\r\n      wordUpdaterIndex: 0,\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    let {words, position, animate} = this.props;\r\n    if(animate){\r\n      if((words !== nextProps.words) || (position !== nextProps.position) ){\r\n        let {fontSize, presentation, fsDivider, fontColor, extraPadding} = nextProps;\r\n        let nextPosition = nextProps.position;\r\n        this.setState({\r\n          prevWords: nextProps.words,\r\n          prevWordsStyle: this.computeWordsStyle(fontSize, fsDivider, fontColor, extraPadding, presentation, nextPosition),\r\n          wordUpdaterIndex: 0})\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidMount(){\r\n    let box = document.getElementById(`background-text-${this.props.title}-${this.props.words}`);\r\n    let box_prev = document.getElementById(`background-text-${this.props.title}-${this.props.words}-prev`);\r\n\r\n    if(box){\r\n      let text = box.innerHTML;\r\n      let newText = \"\";\r\n      for (let i = 0; i < text.length; ++i){\r\n        if(text[i-1] === '{' && text[i+1] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=1;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+2] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=2;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+3] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+2).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=3;\r\n        }\r\n        else if(text[i]!== '{'){\r\n          newText+= text[i]\r\n        }\r\n      }\r\n      box.innerHTML = newText;\r\n    }\r\n\r\n    if(box_prev){\r\n      let text = box_prev.innerHTML;\r\n      let newText = \"\";\r\n      for (let i = 0; i < text.length; ++i){\r\n        if(text[i-1] === '{' && text[i+1] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=1;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+2] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=2;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+3] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+2).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=3;\r\n        }\r\n        else if(text[i]!== '{'){\r\n          newText+=text[i]\r\n        }\r\n      }\r\n      box_prev.innerHTML = newText;\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n      let {animate} = this.props;\r\n    if(animate){\r\n      if(prevProps.words !== this.props.words){\r\n        setTimeout(function(){\r\n          this.setState({wordUpdaterIndex: 1})\r\n        }.bind(this),10)\r\n      }\r\n    }\r\n    let box = document.getElementById(`background-text-${this.props.title}-${this.props.words}`);\r\n    let box_prev = document.getElementById(`background-text-${this.props.title}-${this.props.words}-prev`);\r\n\r\n    if(box){\r\n      let text = box.innerHTML;\r\n      let newText = \"\";\r\n      for (let i = 0; i < text.length; ++i){\r\n        if(text[i-1] === '{' && text[i+1] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=1;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+2] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=2;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+3] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\")\r\n          newText += text.charAt(i+2).fontcolor(\"#f6ff00\")\r\n          newText += ' ';\r\n          i+=3;\r\n        }\r\n        else if(text[i]!== '{'){\r\n          newText+= text[i]\r\n        }\r\n      }\r\n      box.innerHTML = newText;\r\n    }\r\n\r\n    if(box_prev){\r\n      let text = box_prev.innerHTML;\r\n      let newText = \"\";\r\n      for (let i = 0; i < text.length; ++i){\r\n        if(text[i-1] === '{' && text[i+1] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=1;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+2] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=2;\r\n        }\r\n        else if(text[i-1] === '{' && text[i+3] === '}'){\r\n          newText += ' ';\r\n          newText += text.charAt(i).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+1).fontcolor(\"#f6ff00\");\r\n          newText += text.charAt(i+2).fontcolor(\"#f6ff00\");\r\n          newText += ' ';\r\n          i+=3;\r\n        }\r\n        else if(text[i]!== '{'){\r\n          newText+=text[i]\r\n        }\r\n      }\r\n      box_prev.innerHTML = newText;\r\n    }\r\n  }\r\n\r\n  computeWordsStyle = (fontSize, fsDivider, fontColor, extraPadding, presentation, nextPosition) => {\r\n    let actualfontSize = fontSize*fsDivider + \"vw\";\r\n    let fs = fontSize*fsDivider/40;\r\n\r\n    let strokeRadius = `calc(${fs*1.25}vw)`;\r\n    if(!presentation && !this.props.editor)\r\n      strokeRadius = `calc(${fs*0.35}vw)`;\r\n    let strokeColor = \"#000\";\r\n    let SS = `${fs*1.25}vw`;\r\n    if(!presentation && !this.props.editor)\r\n      SS = `${fs*4}vw`;\r\n\r\n    let {position} = this.props;\r\n    let marginT_B = position.topMargin || 3;\r\n    let marginL_R = position.sideMargin || 4;\r\n    if(extraPadding)\r\n      marginT_B*=5;\r\n    let top = 0;\r\n    let left = 0;\r\n    let width =  100 - (marginL_R*2) + '%';\r\n    let height = 100 - (marginT_B*2) + '%';\r\n\r\n    // if(nextPosition && nextPosition.width){\r\n    //   width = .9*nextPosition.width + '%';\r\n    //   height = .86*nextPosition.height + '%';\r\n    //   top = Math.max((nextPosition.y - (marginT_B/2)),0) + '%';\r\n    //   left = Math.max((nextPosition.x - (marginL_R/2)),0) + '%';\r\n    // }\r\n    // // else if(!this.props.editor && position.width){\r\n    // //   width = .9*position.width + '%';\r\n    // //   height = .86*position.height + '%';\r\n    // //   top = Math.max((position.y - (marginT_B/2)),0)+ '%';\r\n    // //   left = Math.max((position.x - (marginL_R/2)),0)+ '%';\r\n    // // }\r\n\r\n    let textAlign = position.textAlign ? position.textAlign : 'center'\r\n\r\n    let wordsStyle = {\r\n      textAlign: textAlign, background: 'transparent', resize:'none', outline: 'none', border: 'none',\r\n      whiteSpace:'pre-wrap', color: fontColor, fontSize: actualfontSize, fontFamily: \"Verdana\",\r\n      margin: `${marginT_B}% ${marginL_R}%`, textShadow: `${SS} ${SS} ${SS} black, ${SS} ${SS} ${SS} black`,\r\n      width: width, height: height, position: 'absolute', zIndex: this.props.zIndex+1, top: top, left: left,\r\n      WebkitTextStroke: `${strokeRadius} ${strokeColor}`, overflow: 'hidden', wordBreak: 'break-word'\r\n    }\r\n\r\n    return wordsStyle;\r\n\r\n  }\r\n\r\n  render(){\r\n    let {id, words, fontSize, presentation, fsDivider, fontColor, extraPadding, animate, editor, index} = this.props;\r\n    let {prevWords, wordUpdaterIndex, prevWordsStyle} = this.state;\r\n\r\n    let wordsStyle = this.computeWordsStyle(fontSize, fsDivider, fontColor, extraPadding, presentation)\r\n\r\n    return(\r\n      <div>\r\n        {(animate && !editor) &&\r\n          <Transition from={{ opacity: 0 }} enter={{ opacity: 1 }} leave={{ opacity: 0 }}>\r\n            {wordUpdaterIndex\r\n              ? styles => <div id={id+'-prev'} style={{...styles, ...prevWordsStyle}}>{prevWords}</div>\r\n              : styles => <div id={id} style={{...styles, ...wordsStyle}}>{words}</div>\r\n            }\r\n          </Transition>\r\n        }\r\n        {(!animate && !editor) &&\r\n          <div id={id} style={wordsStyle}>{words}</div>\r\n        }\r\n        {editor && <textarea id={`displayEditor-${index}`} style={wordsStyle} value={words}\r\n          onChange={this.props.handleTextChange}/>}\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Transition } from 'react-spring'\r\n\r\nexport default class Display_Background extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      prevBackgroundStyle: {},\r\n      backgroundUpdaterIndex: 0,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    let video1 = document.getElementById('background-video-mini-1');\r\n    if(video1)\r\n      video1.loop = true;\r\n    let video2 = document.getElementById('background-video-mini-2');\r\n    if(video2)\r\n      video2.loop = true;\r\n  }\r\n\r\n\r\n  shouldComponentUpdate(nextProps, nextState){\r\n    let {animate} = this.props;\r\n    if(animate){\r\n      if(this.props.img !== nextProps.img || this.props.brightness !== nextProps.brightness ||\r\n      JSON.stringify(this.props.position) !== JSON.stringify(nextProps.position)){\r\n        let {img, brightness, position} = nextProps;\r\n        this.setState({\r\n          prevBackgroundStyle: this.computeBackgroundStyle(img, brightness, position),\r\n          backgroundUpdaterIndex: 0})\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    let {title, presentation, animate, img} = this.props;\r\n    if(animate){\r\n      if(prevProps.img !== img || prevProps.title !== title){\r\n        setTimeout(function(){\r\n          this.setState({backgroundUpdaterIndex: 1})\r\n        }.bind(this),10)\r\n      }\r\n      let video1 = document.getElementById('background-video-mini-1');\r\n      if(video1){\r\n        video1.loop = true;\r\n        if(presentation)\r\n          video1.muted = false\r\n      }\r\n      let video2 = document.getElementById('background-video-mini-2');\r\n      if(video2){\r\n        video2.loop = true;\r\n        if(presentation)\r\n          video2.muted = false\r\n      }\r\n    }\r\n  }\r\n\r\n  computeBackgroundStyle = (img, brightness, position) => {\r\n\r\n    let level = \"100%\";\r\n    if(brightness)\r\n      level = brightness+\"%\"\r\n\r\n    let backgroundStyle= { position:'absolute', backgroundSize: '100% 100%',\r\n      filter: `brightness(${level})`, width: '100%', height: '100%',\r\n      maxHeight:'80vw', zIndex: this.props.zIndex}\r\n    if(position && position.transparent)\r\n      backgroundStyle.background = 'transparent';\r\n    else\r\n      backgroundStyle.backgroundImage = 'url('+img+')'\r\n\r\n    return backgroundStyle;\r\n\r\n  }\r\n\r\n  render(){\r\n    let {img, brightness, position, isVideo, asset, animate} = this.props;\r\n    let {backgroundUpdaterIndex, prevBackgroundStyle} = this.state;\r\n\r\n    let backgroundStyle = this.computeBackgroundStyle(img, brightness, position);\r\n    let videoStyle = {width:'100%', height:'100%', position:'absolute', zIndex:'-1'}\r\n\r\n    return(\r\n      <div>\r\n        {(animate && !isVideo) &&\r\n          <Transition from={{ opacity: 0 }} enter={{ opacity: 1 }} leave={{ opacity: 0 }}>\r\n            {backgroundUpdaterIndex\r\n              ? styles => <div style={{...styles, ...prevBackgroundStyle}}></div>\r\n              : styles => <div style={{...styles, ...backgroundStyle}}></div>\r\n            }\r\n          </Transition>\r\n        }\r\n        {isVideo &&\r\n          <Transition from={{ opacity: 0 }}  enter={{ opacity: 1 }} leave={{ opacity: 0 }}>\r\n            {backgroundUpdaterIndex\r\n              ? styles => <video loop muted preload=\"true\" autoPlay id=\"background-video-mini-1\"\r\n                          style={{...styles, ...videoStyle}}>\r\n                            <source src={asset.video.src} type=\"video/mp4\"/>\r\n                          </video>\r\n              : styles => <video loop muted preload=\"true\" autoPlay id=\"background-video-mini-2\"\r\n                          style={{...styles, ...videoStyle}}>\r\n                            <source src={asset.video.src} type=\"video/mp4\"/>\r\n                          </video>\r\n            }\r\n          </Transition>\r\n        }\r\n        {!animate &&\r\n          <div style={backgroundStyle}></div>\r\n        }\r\n      </div>\r\n    )\r\n\r\n  }\r\n}\r\n","import React from 'react';\r\nimport DisplayWords from './Display_Words'\r\nimport DisplayBackground from './Display_Background'\r\nimport lock from '../assets/lock.png';\r\nimport unlock from '../assets/unlock.png';\r\nimport {Rnd} from 'react-rnd';\r\n\r\nexport default class DisplayWindow extends React.Component{\r\n\r\n  constructor (){\r\n    super();\r\n    this.state = {\r\n      width: '100%',\r\n      height: '100%',\r\n      x: 0,\r\n      y: 0,\r\n      maxHeight: '100%',\r\n      maxWidth:'100%',\r\n      lockBox: true,\r\n      prevBox: {}\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    window.addEventListener(\"resize\", this.updatePosition);\r\n    this.updatePosition();\r\n  }\r\n\r\n  updatePosition = () => {\r\n    let {box, width, height} = this.props;\r\n\r\n    let maxW = width;\r\n    maxW = parseFloat(maxW.substring(0, maxW.length-2),10);\r\n    maxW/=100;\r\n    maxW*=window.innerWidth;\r\n\r\n    let maxH = height;\r\n    maxH = parseFloat(maxH.substring(0, maxH.length-2),10);\r\n    maxH/=100;\r\n    if(!this.props.presentation)\r\n      maxH*=window.innerWidth;\r\n    else\r\n      maxH*=window.innerHeight;\r\n    let x = box.x ? box.x*.01*maxW : 0;\r\n    let y = box.y ? box.y*.01*maxH : 0;\r\n    let box_width = box.width ? box.width*.01*maxW+'px' : maxW+ 'px';\r\n    let box_height = box.height ? box.height*.01*maxH+'px' : maxH+'px';\r\n\r\n    this.setState({\r\n      maxWidth: maxW+'px',\r\n      maxHeight: maxH+'px',\r\n      width: box_width,\r\n      height: box_height,\r\n      x: x,\r\n      y: y,\r\n    })\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    if(!this.props.box || !prevProps.box)\r\n      return;\r\n    if(JSON.stringify(this.props.box) !== this.state.prevBox || this.props.width !== prevProps.width){\r\n      this.updatePosition()\r\n      this.setState({prevBox: JSON.stringify(this.props.box)})\r\n    }\r\n    if(this.props.index !== prevProps.index){\r\n      this.setState({lockBox: true})\r\n    }\r\n  }\r\n\r\n  onBoxDragStop = (position) => {\r\n    let {width, height} = this.state;\r\n    this.updateBoxPosition(position.x, position.y, width, height)\r\n  }\r\n\r\n  onBoxResize = (e, direction, ref, delta, position, index) => {\r\n    this.setBoxIndex(index)\r\n    let {x, y, width, height} = this.state;\r\n    x = position.x;\r\n    y = position.y;\r\n    width = ref.style.width;\r\n    height = ref.style.height;\r\n    this.setState({width: width, height: height, x: x, y: y})\r\n  }\r\n\r\n  onBoxResizeStop = (e, direction, ref, delta, position) => {\r\n    this.updateBoxPosition(position.x, position.y, ref.style.width, ref.style.height)\r\n  }\r\n\r\n  updateBoxPosition = (x, y, width, height) => {\r\n    let {maxWidth, maxHeight} = this.state;\r\n\r\n    let maxW = parseFloat(maxWidth.substring(0, maxWidth.length-2), 10);\r\n    let maxH = parseFloat(maxHeight.substring(0, maxHeight.length-2), 10);\r\n\r\n    width = parseFloat(width.substring(0, width.length-2), 10)/maxW*100;\r\n    height = parseFloat(height.substring(0, height.length-2), 10)/maxH*100;\r\n    x = x/maxW*100;\r\n    y = y/maxH*100;\r\n\r\n    this.props.handleBoxChange(x, y, width, height);\r\n  }\r\n\r\n  setBoxIndex = (index) => {\r\n    if(this.props.editor)\r\n      this.props.setBoxIndex(index)\r\n  }\r\n\r\n  toggleDragLock = () => {\r\n    this.setState({lockBox: !this.state.lockBox})\r\n  }\r\n\r\n  render() {\r\n    let {box, img, asset, isVideo, fsDivider, animate, title, index, id, zIndex, editor, extraPadding, presentation} = this.props;\r\n    let {x, y, width, height, lockBox, maxWidth, maxHeight} = this.state;\r\n\r\n    let lockStyle = {width:'1.25vw', height:'1.25vw',\r\n      top:'-0.5vw', left:'-0.5vw', position: 'absolute', zIndex: zIndex+1}\r\n\r\n    return (\r\n      <div>\r\n        {editor && <div style={{width: '100%', height: '100%', position: 'absolute'}}>\r\n          <Rnd size={{width: width, height: height}}\r\n            position={{x: x, y: y}}\r\n          onDragStop={(e, position) => this.onBoxDragStop(position)}\r\n          onResize={(e, direction, ref, delta, position) =>\r\n            {this.onBoxResize(e, direction, ref, delta, position, index)}}\r\n          onResizeStop={(e, direction, ref, delta, position) =>\r\n            {this.onBoxResizeStop(e, direction, ref, delta, position)}}\r\n          enableUserSelectHack={!lockBox} maxWidth={maxWidth} maxHeight={maxHeight}\r\n          minWidth={'7.5%'} minHeight={'7.5%'} bounds={'parent'}\r\n          style={editor ? {zIndex: zIndex, outline: '0.15vw solid #FFF'} :\r\n          {zIndex: zIndex, outline: '0'}}\r\n          disableDragging={lockBox}\r\n          enableResizing={{ top:!lockBox, right:!lockBox, bottom:!lockBox,\r\n            left:!lockBox, topRight:!lockBox, bottomRight:!lockBox,\r\n            bottomLeft:!lockBox, topLeft:!lockBox }}\r\n            onMouseDown={() => this.setBoxIndex(index)}\r\n          >\r\n          {(lockBox && editor) && <img style={lockStyle}\r\n             alt=\"lock\" src={lock}\r\n            onClick={this.toggleDragLock}\r\n            />}\r\n          {(!lockBox && editor)&& <img style={lockStyle}\r\n             alt=\"unlock\" src={unlock}\r\n            onClick={this.toggleDragLock}\r\n            />}\r\n          <DisplayWords id={id} words={box.words} fontSize={box.fontSize} index={index}\r\n            fontColor={box.fontColor} fsDivider={fsDivider} position={box} title={title}\r\n            editor={editor} handleTextChange={this.props.handleTextChange} animate={animate}\r\n            zIndex={zIndex} presentation={presentation} extraPadding={extraPadding}>\r\n          </DisplayWords>\r\n          <DisplayBackground img={img} brightness={box.brightness} title={title} isVideo={isVideo}\r\n            asset={asset} animate={animate} zIndex={zIndex} position={box} presentation={presentation}>\r\n          </DisplayBackground>\r\n        </Rnd>\r\n      </div>}\r\n      {!editor && <div style={{top: y, left: x, width: width, height: height, position: 'absolute'}}>\r\n        <DisplayWords id={id} words={box.words} fontSize={box.fontSize} index={index}\r\n          fontColor={box.fontColor} fsDivider={fsDivider} position={box} title={title}\r\n          editor={editor} handleTextChange={this.props.handleTextChange} animate={animate}\r\n          zIndex={zIndex} presentation={presentation} extraPadding={extraPadding}>\r\n        </DisplayWords>\r\n        <DisplayBackground img={img} brightness={box.brightness} title={title} isVideo={isVideo}\r\n          asset={asset} animate={animate} zIndex={zIndex} position={box} presentation={presentation}>\r\n        </DisplayBackground>\r\n      </div>}\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport DisplayBox from './DisplayBox';\r\nimport blank from '../assets/blank.png';\r\n\r\nexport default class DisplayWindow extends React.Component{\r\n\r\n\tconstructor (){\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n\t\t\tprevSlide: {},\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet {backgrounds = [], slide, width ='25vw', title = '', titleSize = '5vw', presentation, extraPadding, editor, type} = this.props;\r\n\r\n\t\tif(!slide || (slide && !slide.boxes)){\r\n\t\t\tslide = {boxes: [{words: '', background: '', style: {}}]};\r\n\t\t}\r\n\r\n\t\tlet colorCodes = {\r\n\t\t\tVerse: '#0043ff',\r\n\t\t\tChorus: '#ff3200',\r\n\t\t\tBridge: '#009e02',\r\n\t\t};\r\n\r\n\t\tlet titleStyle = {padding:'.25vw', fontSize: titleSize, whiteSpace: 'nowrap', overflow:'hidden',\r\n\t\t\tbackground: '#F2F2F2', border: '.1vw solid #ccc', borderRadius: '.2vw/.4vw', textAlign: 'center',\r\n\t\t\twidth: width, boxSizing:'border-box', color: 'black'\r\n\t\t};\r\n\r\n\t\tif(title.match(/Verse\\s?\\d*$/) ){\r\n\t\t\ttitleStyle.background = colorCodes.Verse;\r\n\t\t\ttitleStyle.color = '#FFF';\r\n\t\t}\r\n\t\tif(title.match(/Bridge\\s?\\d*$/)){\r\n\t\t\ttitleStyle.background = colorCodes.Bridge;\r\n\t\t\ttitleStyle.color = '#FFF';\r\n\t\t}\r\n\t\tif(title.match(/Chorus\\s?\\d*$/)){\r\n\t\t\ttitleStyle.background = colorCodes.Chorus;\r\n\t\t\ttitleStyle.color = '#FFF';\r\n\t\t}\r\n\r\n\t\tif(title.length > 25){\r\n\t\t\ttitle = title.substring(0, 26);\r\n\t\t\ttitle+='...';\r\n\t\t}\r\n\r\n\t\tlet height = (parseFloat(width.substring(0, width.length-2),10)*.5625)+'vw';\r\n\t\tif(presentation)\r\n\t\t\theight = '100vh';\r\n\t\tlet tWidth = parseFloat(width.substring(0, width.length-2), 10);\r\n\t\tlet fsDivider = tWidth/(42.5);\r\n\r\n\t\tlet containerStyle = {width:width, height:height, position:'relative'};\r\n\r\n\t\tlet boxes = slide.boxes.map((box, index) => {\r\n\t\t\tlet img = blank, asset;\r\n\t\t\tlet isVideo = false;\r\n\t\t\tlet zIndex = index+1;\r\n\t\t\tlet background = box.background;\r\n\t\t\tlet words = box.words || '';\r\n\t\t\tconst showBackground = !slide.type || slide.type === 'Image' || type !== 'local';\r\n\t\t\tlet id = `background-text-${title}-${words}`;\r\n\t\t\tif(showBackground && backgrounds.some(e => e.name === background)){\r\n\t\t\t\tasset = backgrounds.find(e => e.name === background);\r\n\t\t\t\timg = asset.image.src;\r\n\t\t\t\tif(asset.type === 'video' && (title === 'Presentation' || presentation || editor))\r\n\t\t\t\t\tisVideo = true;\r\n\t\t\t}\r\n\t\t\tlet animate = presentation || title === 'Presentation' || editor || title === 'Presentation ';\r\n\t\t\treturn(\r\n\t\t\t\t<DisplayBox box={box} handleTextChange={this.props.handleTextChange} animate={animate}\r\n\t\t\t\t\tindex={index} handleBoxChange={this.props.handleBoxChange} id={id} title={title} isVideo={isVideo}\r\n\t\t\t\t\tasset={asset} img={img} setBoxIndex={this.props.setBoxIndex} fsDivider={fsDivider} width={width}\r\n\t\t\t\t\theight={height} zIndex={zIndex} editor={editor} key={index}\r\n\t\t\t\t\tpresentation={presentation} extraPadding={extraPadding}/>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t{(title !== '') && <div style={titleStyle}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</div>}\r\n\t\t\t\t<div style={containerStyle}>\r\n\t\t\t\t\t{boxes}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from './DisplayWindow'\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Presentation extends React.Component{\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      width: 0,\r\n      height: 0,\r\n      localSlide: {},\r\n      localTime: -1,\r\n      fullScreen: false,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.updateDimensions();\r\n    window.addEventListener(\"storage\", this.updateStorage);\r\n    window.addEventListener(\"resize\", this.updateDimensions);\r\n    document.addEventListener('fullscreenchange', this.updateDimensions);\r\n    document.addEventListener('webkitfullscreenchange', this.updateDimensions);\r\n    document.addEventListener('mozfullscreenchange', this.updateDimensions);\r\n    document.addEventListener('MSFullscreenChange', this.updateDimensions);\r\n  }\r\n\r\n  isFullScreen = () => {\r\n    let elem = document.getElementById(\"fullApp\");\r\n    if(elem.requestFullScreen || elem.mozRequestFullScreen || elem.webkitRequestFullScreen || elem.msRequestFullscreen)\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  goFullScreen = () => {\r\n    let elem = document.getElementById(\"fullApp\");\r\n    if ((document.fullScreenElement !== undefined && document.fullScreenElement === null) || (document.msFullscreenElement !== undefined && document.msFullscreenElement === null) || (document.mozFullScreen !== undefined && !document.mozFullScreen) || (document.webkitIsFullScreen !== undefined && !document.webkitIsFullScreen)) {\r\n        if (elem.requestFullScreen) {\r\n            elem.requestFullScreen();\r\n        } else if (elem.mozRequestFullScreen) {\r\n            elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullScreen) {\r\n            elem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\r\n        } else if (elem.msRequestFullscreen) {\r\n            elem.msRequestFullscreen();\r\n        }\r\n        this.setState({fullScreen: true})\r\n    }\r\n  }\r\n\r\n  fullScreenHandler = (e) => {\r\n    const isFullScreen = this.isFullScreen();\r\n    this.updateDimensions();\r\n     this.setState({fullScreen: isFullScreen})\r\n  }\r\n\r\n  isMobileBrowser = () => {\r\n    if( navigator.userAgent.match(/Android/i)\r\n    || navigator.userAgent.match(/webOS/i)\r\n    || navigator.userAgent.match(/iPhone/i)\r\n    || navigator.userAgent.match(/iPod/i)\r\n    || navigator.userAgent.match(/BlackBerry/i)\r\n    || navigator.userAgent.match(/Windows Phone/i)\r\n  ){\r\n    return true;\r\n  }\r\n  else \r\n    return false;\r\n  }\r\n\r\n  updateDimensions = () => {\r\n    this.setState({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight\r\n    })\r\n\r\n    if(this.isMobileBrowser())\r\n      return;\r\n    \r\n      if(window.innerWidth < (window.screen.availWidth*.95) || window.innerHeight < (window.screen.availHeight*.95) ){\r\n      this.setState({fullScreen: false})\r\n    }\r\n    else {\r\n      this.setState({fullScreen: true})\r\n    }\r\n  }\r\n\r\n  updateStorage = (e) => {\r\n    if(e.key === 'presentation'){\r\n      let val = JSON.parse(e.newValue);\r\n      if (!val)\r\n        return;\r\n      this.setState({ localSlide: val.slide,localTime: val.time})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let {backgrounds, type, currentInfo = {}} = this.props;\r\n    let {localSlide, localTime, width, height, fullScreen} = this.state;\r\n    let slide;\r\n\r\n    if(currentInfo.time > localTime)\r\n      slide = currentInfo.slide;\r\n    else\r\n      slide = localSlide\r\n\r\n\r\n    let sixteenByNine = Math.round((16/9)*100)/100;\r\n    let fourByThree = Math.round((4/3)*100)/100;\r\n    let aspectRatio = Math.round((width/height)*100)/100;\r\n\r\n    let fbt = Math.abs(aspectRatio - fourByThree)\r\n    let sbn = Math.abs(aspectRatio - sixteenByNine)\r\n\r\n    let extraPadding = false\r\n\r\n    if(fbt < sbn){\r\n      extraPadding = true\r\n    }\r\n\r\n    let buttonStyle = {fontSize: \"10vmin\", backgroundColor:'#383838', border:'1.5vmin solid #06d1d1',\r\n      borderRadius:'2vmin', color: 'white'}\r\n\r\n    let homeButton = {fontSize: \"5vmin\", backgroundColor:'#383838', border:'1.25vmin solid #06d1d1',\r\n      borderRadius:'1.5vmin', color: 'white', position: 'absolute', left: '1vmin', top: '1vmin'}\r\n\r\n    return (\r\n      <div id=\"full-presentation\">\r\n        {!fullScreen && <div style={{width: '100vw', height: '100vh', display:'flex',\r\n          alignItems: 'center', justifyContent: 'center'}}>\r\n          <div style={{width: '90%'}}>\r\n            {type === 'local' && <div style={{textAlign: 'center', fontSize: \"8.5vmin\", color: 'yellow',\r\n              backgroundColor:'#383838', padding:'5vh', marginBottom: '10vh'}}>Drag To Intended Display</div>}\r\n            {type === 'remote' && <div style={{ display:'flex', alignItems: 'center',\r\n              justifyContent: 'center'}}>\r\n              <Link to=\"/\"><button style={homeButton}>Home</button></Link>\r\n            </div>}\r\n            <div style={{ display:'flex', alignItems: 'center', justifyContent: 'center'}}>\r\n              <button onClick={this.goFullScreen} style={buttonStyle}>Click To Activate FullScreen</button>\r\n            </div>\r\n          </div>\r\n        </div>}\r\n        {fullScreen && <DisplayWindow type={type} slide={slide} backgrounds={backgrounds} width={'100vw'}\r\n        title={''} titleSize={''} presentation={true} extraPadding={extraPadding}/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\nexport default Presentation;\r\n","import React, {Component} from 'react';\r\nimport Presentation from './Presentation';\r\n\r\nexport default class RemotePresentation extends Component{\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<Presentation type={'remote'} currentInfo={this.props.currentInfo}\r\n\t\t\t\tbackgrounds={this.props.backgrounds} />\r\n\t\t);\r\n\t}\r\n}\r\n","import React, {Component} from 'react';\r\nimport Presentation from './Presentation';\r\n\r\nexport default class LocalPresentation extends Component{\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<Presentation type={'local'} currentInfo={this.props.currentInfo}\r\n\t\t\t\tbackgrounds={this.props.backgrounds}/>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class SlideInList extends React.Component{\r\n\r\n\r\n\trender(){\r\n\t\tlet {backgrounds, slide, moving, x, y, width, height, titleSize} = this.props;\r\n\r\n\t\tlet divStyle={width: width, height: height};\r\n\r\n\t\tif(moving){\r\n\t\t\tdivStyle.left = `calc(${x}px - 5vw)`;\r\n\t\t\tdivStyle.top = `calc(${y}px - 10vh)`;\r\n\t\t\tdivStyle.position = 'absolute';\r\n\t\t}\r\n\r\n\t\t// let slide = {boxes: [{words: words, background: style.background, ...style}]}\r\n\r\n\t\treturn (\r\n\t\t\t<div style={divStyle}>\r\n\t\t\t\t<DisplayWindow slide={slide} backgrounds={backgrounds}\r\n\t\t\t\t\twidth={width} height={height} title={slide.type} titleSize={titleSize}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","export function sortNamesInList(list){\r\n\treturn list.sort(function(a,b){\r\n\t\tvar nameA = a.name.toUpperCase();\r\n\t\tvar nameB = b.name.toUpperCase();\r\n\t\treturn nameA.localeCompare(nameB, 'en', { numeric: true });\r\n\t});\r\n}\r\n\r\nexport function sortList(list){\r\n\treturn list.sort(function(a,b){\r\n\t\tvar nameA = a.toUpperCase();\r\n\t\tvar nameB = b.toUpperCase();\r\n\t\treturn nameA.localeCompare(nameB, 'en', { numeric: true });\r\n\t});\r\n}\r\n","import React, {Component} from 'react';\r\nimport edit from '../assets/edit.png';\r\nimport check from '../assets/check.png';\r\nimport cancel from '../assets/cancel-icon.png';\r\nimport duplicate from '../assets/duplicate.png';\r\nimport deleteX from '../assets/deleteX.png';\r\n\r\nexport default class SongArrangements extends Component{\r\n  constructor () {\r\n    super();\r\n    this.state = {\r\n      name: '',\r\n      editingIndex: -1,\r\n    }\r\n  }\r\n\r\n  cancelArrangement = () => {\r\n    this.setState({editingIndex: -1})\r\n  }\r\n\r\n  confirmName = (index, e) => {\r\n    if(e)\r\n      e.preventDefault()\r\n    let {arrangements} = this.props;\r\n    let {name} = this.state;\r\n    arrangements[index].name = name;\r\n    this.props.updateArrangements(arrangements)\r\n    this.setState({editingIndex: -1})\r\n  }\r\n\r\n  duplicateArrangement = (element) => {\r\n    let {arrangements} = this.props;\r\n    let obj = {\r\n      name: element.name + ' Copy',\r\n      formattedLyrics: JSON.parse(JSON.stringify(element.formattedLyrics)),\r\n      songOrder: JSON.parse(JSON.stringify(element.songOrder)),\r\n      slides: JSON.parse(JSON.stringify(element.slides))\r\n    }\r\n    arrangements.push(obj);\r\n    this.props.updateArrangements(arrangements)\r\n  }\r\n\r\n  editName = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  selectToEdit = (index, name) => {\r\n    this.setState({editingIndex: index, name: name})\r\n  }\r\n\r\n  deleteArrangement = (index) => {\r\n    let {arrangements} = this.props;\r\n    arrangements.splice(index, 1);\r\n    this.props.updateArrangements(arrangements);\r\n    this.props.selectArrangement(0);\r\n  }\r\n\r\n  render(){\r\n\r\n    let {arrangements, selectedArrangement} = this.props;\r\n    let {editingIndex, name} = this.state;\r\n\r\n    let arrStyle = {display:'flex', marginBottom: '0.25vh', border: '0.1vw #b7b7b7 solid'}\r\n    let arrSelected = Object.assign({}, arrStyle);\r\n    arrSelected.border = '0.1vw #06d1d1 solid';\r\n    let imageButtonStyle={display:'block', margin:\"0% 1% 0% 1%\",width:'1.5vw', height:'1.5vw'}\r\n\r\n    let arrangementEditor = arrangements.map((element, index) => {\r\n      let selectedToEdit = (editingIndex === index);\r\n      let selected = selectedArrangement === index;\r\n      let moreThanOne = arrangements.length > 1;\r\n      return(\r\n        <div style={selected ? arrSelected : arrStyle} key={index}>\r\n          {!selectedToEdit && <div onClick={ () => this.props.selectArrangement(index)}\r\n            style={{margin:\"0% 1% 0% 1%\", width: '80%', textAlign: 'center'}}>\r\n            {element.name}\r\n          </div>}\r\n          {selectedToEdit &&\r\n            <form style={{width: '80%', margin:\"0% 1% 0% 1%\"}} onSubmit={(e) => (this.confirmName(index, e))}>\r\n            <input style={{width: '100%'}} onChange={this.editName} value={name}/>\r\n            </form>\r\n          }\r\n          {!selectedToEdit && <img className='imgButton' style={imageButtonStyle}\r\n           onClick={() => this.selectToEdit(index, element.name)}\r\n           alt=\"edit\" src={edit}\r\n           />}\r\n          {!selectedToEdit && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.duplicateArrangement(element)}\r\n            alt=\"duplicate\" src={duplicate}\r\n           />}\r\n           {(!selectedToEdit && moreThanOne) && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.deleteArrangement(index)}\r\n            alt=\"delete\" src={deleteX}\r\n            />}\r\n           {selectedToEdit && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.confirmName(index)}\r\n            alt=\"check\" src={check}\r\n            />}\r\n           {selectedToEdit && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.cancelArrangement()}\r\n            alt=\"cancel\" src={cancel}\r\n            />}\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return(\r\n      <div style={{marginRight: '0.25vw'}}>\r\n        <div style={{textAlign: 'center', fontSize: \"calc(10px + 0.65vmax)\",\r\n          marginBottom: '0.65vh'}}>Arrangements</div>\r\n        <div style={{backgroundColor: '#c4c4c4', color: 'black', fontSize:'1.15vw',\r\n          height: '28vh', overflowX: 'hidden', border: '0.25vw #a5a5a5 solid', borderRadius:'0.5vw'}}>\r\n          {arrangementEditor}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport deleteX from '../assets/deleteX.png';\r\nimport * as Sort from '../HelperFunctions/Sort'\r\n\r\nexport default class SongSection extends Component{\r\n\r\n  changeSectionType = (e, index) => {\r\n    this.props.changeSectionType(e);\r\n    this.props.setSectionIndex(index);\r\n  }\r\n\r\n  render(){\r\n\r\n    let {item, sectionTypes, deleteSection, changeSectionText, i, sectionWidth,\r\n       index, sectionIndex, sectionsPresent, setSectionIndex, numSongSections} = this.props;\r\n\r\n   sectionsPresent = sectionsPresent.filter(e => e !== item.name)\r\n\r\n   Sort.sortList(sectionTypes);\r\n   Sort.sortList(sectionsPresent);\r\n\r\n   let allSections = sectionTypes.concat(sectionsPresent);\r\n   allSections = allSections.filter(function(item, pos) {\r\n    return allSections.indexOf(item) === pos;\r\n    })\r\n\r\n  let buttonStyle = {fontSize: `calc(56vw*${sectionWidth}/20)`, backgroundColor:'#383838',\r\n     border:'0.15vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', width: '40%'}\r\n\r\n  let style ={display:'flex', height: '100%', width: '100%'};\r\n\r\n    return(\r\n      <div style={style} key={i}>\r\n        <div style={{width:'95%'}} onClick={() => setSectionIndex(index*numSongSections+i)} >\r\n          <div style={{display:'flex', margin:'2%'}}>\r\n            <select style={buttonStyle} value={item.type}\r\n              onChange={ (e) => this.changeSectionType(e, index*numSongSections+i)}>\r\n              {allSections.map((element, index) =>\r\n                <option key={index}> {element} </option>\r\n              )}\r\n            </select>\r\n            <div style={{fontSize: `calc(56vw*${sectionWidth}/15)`, marginLeft: '0.3vw', marginRight:'0.3vw',\r\n            textAlign: 'center', width: '60%'}}>\r\n              {item.name}\r\n            </div>\r\n          </div>\r\n          <div onMouseDown={() => setSectionIndex(index*numSongSections+i)}\r\n            id={\"Section\"+(index*numSongSections+i)}\r\n            style={((index*numSongSections+i) === sectionIndex) ?\r\n              {border:'0.25vw #06d1d1 solid', height: '80%'}\r\n              : { border:'0.25vw #d1d1d1 solid', height: '80%'}}\r\n            >\r\n            <textarea style={{fontSize: `calc(56vw*${sectionWidth}/18.5)`, margin:'1%',\r\n              width:\"96%\", height:\"96%\", resize:'none'}} value={item.words}\r\n               onChange={changeSectionText} id={item.name}/>\r\n          </div>\r\n        </div>\r\n        <img style={{display:'block', width:'1.5vmax', height:'1.5vmax'}}\r\n           onClick={() => deleteSection(index*numSongSections+i)}\r\n           alt=\"delete\" src={deleteX}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport zoomIn from '../assets/zoomIn.png'\r\nimport zoomOut from '../assets/zoomOut.png'\r\nimport newButton from '../assets/new-button.png';\r\n\r\nimport SongSection from './SongSection';\r\n\r\nexport default class SongSectionsArea extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      numSongSections: 4,\r\n      sectionTypes:[\r\n        \"Verse\",\r\n        \"Chorus\",\r\n        \"Bridge\",\r\n        \"Intro\",\r\n        \"Ending\",\r\n        \"Pre-Chorus\",\r\n        \"Reprise\",\r\n        \"Reading\",\r\n        \"Interlude\",\r\n        \"Pre-Bridge\"\r\n      ],\r\n    }\r\n  }\r\n\r\n  changeSectionText = (e) => {\r\n    let {formattedLyrics, sectionIndex} = this.props;\r\n    formattedLyrics[sectionIndex].words = e.target.value;\r\n    this.props.updateFormattedLyrics(formattedLyrics);\r\n  }\r\n\r\n  changeSectionType = (e) => {\r\n    let {formattedLyrics, sectionIndex} = this.props;\r\n    let name = e.target.value;\r\n    let type = name.replace(/\\s\\d+$/, \"\");\r\n    formattedLyrics[sectionIndex].type = type;\r\n    let element = formattedLyrics[sectionIndex];\r\n    let index = formattedLyrics.findIndex(e => e.name === name);\r\n    // if(element.type === type && index > sectionIndex)\r\n    //   index--;\r\n    if(name === type)\r\n      index = formattedLyrics.length-1;\r\n    // console.log(element.type, type, sectionIndex, index);\r\n    formattedLyrics.splice(sectionIndex, 1);\r\n    formattedLyrics.splice(index, 0, element);\r\n    this.props.updateSections({formattedLyrics: formattedLyrics, index: index});\r\n  }\r\n\r\n  decreaseRows = () => {\r\n    let {numSongSections} = this.state;\r\n    if(numSongSections > 2)\r\n      this.setState({numSongSections: numSongSections-1})\r\n  }\r\n\r\n  deleteSection = (index) => {\r\n    let {formattedLyrics, songOrder, sectionsPresent} = this.props;\r\n\r\n    for (var i = 0; i < songOrder.length; i++) {\r\n      if(formattedLyrics[index].name === songOrder[i]){\r\n        this.props.deleteSectionFromOrder(i);\r\n      }\r\n    }\r\n\r\n    formattedLyrics.splice(index, 1);\r\n    sectionsPresent.splice(index, 1);\r\n    this.props.updateSections({formattedLyrics: formattedLyrics})\r\n  }\r\n\r\n  increaseRows = () => {\r\n    let {numSongSections} = this.state;\r\n    if(numSongSections < 6)\r\n      this.setState({numSongSections: numSongSections+1})\r\n  }\r\n\r\n  newSection = () => {\r\n    let {formattedLyrics} = this.props;\r\n    formattedLyrics.push({\r\n      type: \"Verse\",\r\n      name: \"Verse \"+(formattedLyrics.length+1),\r\n      words: \"\"\r\n    })\r\n    this.props.updateSections({formattedLyrics: formattedLyrics})\r\n  }\r\n\r\n  render(){\r\n    let {formattedLyrics, name, sectionsPresent, sectionIndex} = this.props;\r\n    let {numSongSections, sectionTypes} = this.state;\r\n    let that = this;\r\n    let fullArray = [];\r\n    let row = [];\r\n\r\n    for(var i = 0; i < formattedLyrics.length; i+=numSongSections){\r\n      for(var j = i; j < i+numSongSections; ++j){\r\n        if(formattedLyrics[j])\r\n          row.push(formattedLyrics[j]);\r\n      }\r\n      fullArray.push(row);\r\n      row = [];\r\n    }\r\n\r\n    if(fullArray.length > 0){\r\n      let lastRow = fullArray[fullArray.length -1];\r\n      if(lastRow.length < numSongSections)\r\n        lastRow.push('newSection')\r\n      else\r\n        fullArray.push(['newSection'])\r\n    }\r\n    else\r\n      fullArray.push(['newSection'])\r\n\r\n    let sectionWidth= 0.98/numSongSections;\r\n\r\n    let list = fullArray.map((element, index) => {\r\n      let row = element.map(function (item, i){\r\n        let newSection = item === 'newSection'\r\n        return(\r\n          <div style={{width:`${sectionWidth*100}%`}} key={index*numSongSections+i}>\r\n            {!newSection &&<SongSection item={item} setSectionIndex={that.props.setSectionIndex} changeSectionType={that.changeSectionType}\r\n              sectionTypes={sectionTypes} changeSectionText={that.changeSectionText} deleteSection={that.deleteSection}\r\n              i={i} index={index} sectionIndex={sectionIndex} sectionsPresent={sectionsPresent}\r\n              numSongSections={numSongSections} sectionWidth={sectionWidth}\r\n              />}\r\n            {newSection && <div className='imgButton' style={{backgroundColor: '#b7b7b7',\r\n               marginTop:'12.5%', width: '87.5%', height:'82.5%', border: '0.25vw #2ECC71 solid',\r\n              borderRadius:'0.5vw', fontWeight: 'bold'}}\r\n            onClick={that.newSection}>\r\n            <div style={{textAlign: 'center', paddingTop: '5%', fontSize: `calc(5.6vw*${sectionWidth})`,\r\n              color: 'black'}}>New Section</div>\r\n            <img style={{display:'block', width:'72.5%', height:'70%', margin:'1vh auto'}}\r\n               alt=\"newButton\" src={newButton}\r\n              />\r\n            </div>}\r\n          </div>\r\n        );\r\n      })\r\n      return (\r\n        <div style={{display:'flex', paddingBottom:'1vmax', height:`${1.3/numSongSections*100}%`, width:'55vw'}} key={index}> {row}</div>\r\n      );\r\n    })\r\n\r\n    return(\r\n      <div>\r\n        <div style={{display: 'flex', position: 'relative', marginBottom: '1vh'}}>\r\n          <div style={{textAlign: 'center', fontSize: \"calc(11px + 0.75vmax)\",\r\n          width: '60%', marginLeft: '20%', borderBottom: '0.1vw #f4f142 solid',\r\n          fontWeight: 'bold'}}>\r\n          {name}\r\n        </div>\r\n          <img style={{display:'block', width:'2vw', height:'2vw', margin:'0 1vw'}}\r\n              onClick={this.decreaseRows}\r\n              alt=\"zoomIn\" src={zoomIn}\r\n             />\r\n           <img style={{display:'block', width:'2vw', height:'2vw', margin:'0 1vw'}}\r\n               onClick={this.increaseRows}\r\n               alt=\"zoomOut\" src={zoomOut}\r\n              />\r\n        </div>\r\n        <div style={{paddingLeft:'1vmax', overflowX: 'hidden', height: \"87.5vh\", width:\"56vw\"}}>\r\n          {list}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport deleteX from '../assets/deleteX.png';\r\n\r\nexport default class SongOrderArea extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      mouseX: 0,\r\n      mouseY: 0,\r\n      indexBeingDragged:-1,\r\n      mouseDown: false,\r\n    }\r\n  }\r\n\r\n\r\n  addSection = () => {\r\n    let {songOrder, songIndex, newType} = this.props;\r\n    songOrder.splice(songIndex+1, 0, newType);\r\n    this.props.updateSongOrder(songOrder)\r\n    this.props.updateSongIndex(songIndex+1)\r\n  }\r\n\r\n  changeNewType = (e) => {\r\n    let newType = e.target.value;\r\n    this.props.updateNewType(newType);\r\n  }\r\n\r\n  releaseElement = () => {\r\n    clearTimeout(this.checkHeld)\r\n    this.setState({indexBeingDragged: -1,mouseDown: false})\r\n  }\r\n\r\n  setElement = (index) => {\r\n    this.props.updateSongIndex(index)\r\n    this.setState({mouseDown: true})\r\n\r\n    this.checkHeld = setTimeout(function() {\r\n      let {mouseDown} = this.state;\r\n      if(mouseDown){\r\n        this.setState({indexBeingDragged: index})\r\n      }\r\n\r\n    }.bind(this), 350);\r\n\r\n  }\r\n\r\n  setTarget = (index) => {\r\n    let {indexBeingDragged} = this.state;\r\n    if((indexBeingDragged !== -1) && (indexBeingDragged !== index)){\r\n      this.props.insertSongIntoOrder(index);\r\n      this.setState({indexBeingDragged: index})\r\n    }\r\n  }\r\n\r\n  updateMouse = (e) => {\r\n    this.setState({ mouseX: e.clientX, mouseY: e.clientY})\r\n  }\r\n\r\n  render(){\r\n    let {songOrder, songIndex, sectionsPresent, newType} = this.props;\r\n    let {indexBeingDragged, mouseX, mouseY} = this.state;\r\n\r\n    let style;\r\n    let songStyle = {width: \"10vw\", border:'0.1vmax', borderColor: '#b7b7b7', borderStyle:'solid',\r\n        textAlign: 'center'}\r\n    let songDraggedStyle = {width: \"10vw\", position:'fixed', left:(mouseX +2) + 'px',\r\n        top: (mouseY + 2) + 'px', border:'0.1vmax', borderColor: '#b7b7b7', borderStyle:'solid',\r\n        textAlign: 'center'};\r\n\r\n    let buttonStyle = {fontSize: \"calc(8px + 0.4vw)\", margin:\"1vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.5vw'}\r\n\r\n    let songOrderDiv = {display:'flex', padding:'1vmax', userSelect:'none', width: '75%', margin: 'auto'};\r\n    let songOrderSelected = Object.assign({}, songOrderDiv);\r\n    songOrderSelected.borderBottom = '0.5vh solid #06d1d1';\r\n\r\n    let SO = songOrder.map((element, index) => {\r\n\r\n      let beingDragged = (indexBeingDragged === index)\r\n      if(beingDragged){\r\n        style = songDraggedStyle;\r\n      }\r\n      if(!beingDragged){\r\n        style = songStyle\r\n      }\r\n      return(\r\n        <div style={(index === songIndex) ? songOrderSelected : songOrderDiv} key={index}>\r\n          <div style={style}\r\n            onMouseDown={() => this.setElement(index)}\r\n            onMouseOver={() => this.setTarget(index)}>\r\n            {element}\r\n          </div>\r\n          {beingDragged && <div style={songStyle}></div>}\r\n          <img className='imgButton' style={{display:'block', width:'1.5vmax', height:'1.5vmax', paddingLeft:\"2%\"}}\r\n             onClick={() => this.props.deleteSectionFromOrder(index)}\r\n             alt=\"delete\" src={deleteX}\r\n            />\r\n        </div>\r\n      )\r\n    })\r\n\r\n    return(\r\n      <div style={{borderBottom: '0.1vw #a5a5a5 solid', height: \"85vh\", width:\"17vw\"}}>\r\n        <div style={{paddingLeft:'1vmax', overflowX: 'hidden', height: '90%'}}>\r\n          <div style={{fontSize: \"calc(10px + 0.65vmax)\", textAlign: 'center',\r\n            marginBottom: '0.65vh'}}>Song Order</div>\r\n          <div style={{fontSize: \"calc(8px + 0.4vmax)\"}}\r\n            onMouseMove={this.updateMouse} onMouseUp={this.releaseElement}\r\n            onMouseLeave={this.releaseElement}>{SO}</div>\r\n        </div>\r\n        <div style={{display:'flex', height: '8vh'}}>\r\n          <select style={{...buttonStyle, padding:'0.25vw'}}\r\n            value={newType} onChange={(e) => (this.changeNewType(e))}>\r\n            {sectionsPresent.map((element, index) =>\r\n              <option key={index}> {element} </option>\r\n            )}\r\n          </select>\r\n          <button style={{...buttonStyle, padding:'0.25vw'}}\r\n            onClick={this.addSection}> Add Section </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {HotKeys} from 'react-hotkeys';\r\n\r\nimport * as Sort from '../HelperFunctions/Sort';\r\n\r\nimport SongArrangements from './SongArrangements';\r\nimport SongSectionsArea from './SongSectionsArea';\r\nimport SongOrderArea from './SongOrderArea';\r\n\r\nexport default class LyricsBox extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      text: \"\",\r\n      arrangements: [],\r\n      formattedLyrics: [],\r\n      selectedArrangement: 0,\r\n      songOrder: [],\r\n      songIndex: 0,\r\n      sectionsPresent:[],\r\n      sectionIndex: -1,\r\n    }\r\n\r\n    this.checkHeld = null;\r\n    this.handlers = {\r\n      'undo': (e) => {},\r\n      'redo': (e) => {},\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    let {item} = this.props;\r\n    let sectionsPresent = [];\r\n    let formattedLyrics = item.arrangements[item.selectedArrangement].formattedLyrics\r\n    let songOrder = item.arrangements[item.selectedArrangement].songOrder\r\n    for (var i = 0; i < formattedLyrics.length; i++) {\r\n      sectionsPresent.push(formattedLyrics[i].name);\r\n    }\r\n    this.setState({\r\n      arrangements: JSON.parse(JSON.stringify(item.arrangements)),\r\n      selectedArrangement: item.selectedArrangement,\r\n      formattedLyrics: JSON.parse(JSON.stringify(formattedLyrics)),\r\n      songOrder: JSON.parse(JSON.stringify(songOrder)),\r\n      sectionsPresent: sectionsPresent,\r\n      newType: formattedLyrics[0] ? formattedLyrics[0].name : \"Verse\",\r\n      songIndex: songOrder.length - 1,\r\n    })\r\n  }\r\n\r\n  autoFormatLyrics = () => {\r\n    let {songOrder, arrangements, selectedArrangement, formattedLyrics} = this.state;\r\n    let {item} = this.props;\r\n    arrangements[selectedArrangement].formattedLyrics = formattedLyrics;\r\n    arrangements[selectedArrangement].songOrder = songOrder;\r\n    item.arrangements = arrangements;\r\n    item.selectedArrangement = selectedArrangement;\r\n    this.props.updateItem(item);\r\n    this.props.setWordIndex(0)\r\n    //why is this here;\r\n    // this.props.setSlideBackground(arrangements[selectedArrangement].slides[0].boxes[boxIndex].background)\r\n    this.props.close();\r\n  }\r\n\r\n  createSections(lyrics){\r\n    let {formattedLyrics, songOrder} = this.state;\r\n    let lines = lyrics.split(\"\\n\\n\");\r\n    for(let i = 0; i < lines.length; ++i){\r\n      let name = \"Verse \"+ formattedLyrics.length + 1;\r\n      let index = formattedLyrics.findIndex(e => e.words === lines[i]);\r\n      if(index === -1){\r\n        formattedLyrics.push({\r\n          type: \"Verse\",\r\n          name: name,\r\n          words: lines[i]\r\n        })\r\n        songOrder.push(name)\r\n      }\r\n      else\r\n        songOrder.push(formattedLyrics[index].name)\r\n    }\r\n\r\n    this.updateSections({formattedLyrics: formattedLyrics})\r\n\r\n  }\r\n\r\n  deleteSectionFromOrder = (index) => {\r\n    let {songOrder} = this.state;\r\n    songOrder.splice(index, 1);\r\n    this.setState({songOrder: songOrder})\r\n  }\r\n\r\n  insertSongIntoOrder = (targetIndex) => {\r\n    let {songOrder, songIndex} = this.state;\r\n    let song = songOrder[songIndex];\r\n    songOrder.splice(songIndex, 1);\r\n    songOrder.splice(targetIndex, 0, song);\r\n\r\n    this.setState({\r\n      songOrder: songOrder,\r\n      songIndex: targetIndex\r\n    })\r\n  }\r\n\r\n  selectArrangement = (index) => {\r\n    let {formattedLyrics, selectedArrangement, arrangements, songOrder} = this.state;\r\n    if(arrangements[selectedArrangement]){\r\n      arrangements[selectedArrangement].formattedLyrics = formattedLyrics;\r\n      arrangements[selectedArrangement].songOrder = songOrder;\r\n      this.setState({arrangements: arrangements})\r\n    }\r\n    this.setState({selectedArrangement: index})\r\n    this.updateSections({\r\n      formattedLyrics: arrangements[index].formattedLyrics,\r\n      songOrder: arrangements[index].songOrder,\r\n      songIndex: arrangements[index].songOrder.length - 1,\r\n    });\r\n  }\r\n\r\n  setSectionIndex = (index) => {\r\n    let newType = this.state.formattedLyrics[index].name;\r\n    this.setState({sectionIndex: index, newType: newType})\r\n  }\r\n\r\n  submitText = () => {\r\n    if(this.state.text.length > 0)\r\n      this.createSections(this.state.text);\r\n    this.setState({text: \"\"})\r\n  }\r\n\r\n  updateArrangements = (arrangements) => {\r\n    this.setState({arrangements: arrangements})\r\n  }\r\n\r\n  updateFormattedLyrics = (formattedLyrics) => {\r\n    this.setState({formattedLyrics: formattedLyrics})\r\n  }\r\n\r\n  updateSections = (params) => {\r\n    let {formattedLyrics, index, songOrder} = params;\r\n    if(formattedLyrics.length === 0)\r\n      return;\r\n\r\n    let sections = [];\r\n    let sectionUpdates = {};\r\n    if(!songOrder)\r\n      songOrder = this.state.songOrder;\r\n    let sectionCounter = {};\r\n\r\n    for(let i = 0; i < formattedLyrics.length; ++i){\r\n      if(formattedLyrics[i].type in sectionCounter){\r\n        sectionCounter[formattedLyrics[i].type]++;\r\n        sectionCounter[formattedLyrics[i].type+'_counter']++;\r\n      }\r\n      else{\r\n        sectionCounter[formattedLyrics[i].type] = 1;\r\n        sectionCounter[formattedLyrics[i].type+'_counter'] = 0;\r\n      }\r\n    }\r\n\r\n    for (let t = 0; t < formattedLyrics.length; ++t){\r\n      let type = formattedLyrics[t].type;\r\n      let max = sectionCounter[formattedLyrics[t].type];\r\n      let counter = sectionCounter[formattedLyrics[t].type+'_counter'];\r\n      let name;\r\n      if(max === 1)\r\n        name = type;\r\n      else{\r\n        name = type + ' ' + (max-counter);\r\n        sectionCounter[formattedLyrics[t].type+'_counter']--;\r\n      }\r\n      let changed = formattedLyrics[t].name !== name;\r\n      sectionUpdates[formattedLyrics[t].name] = {newName: name, changed: changed}\r\n      formattedLyrics[t].name = name;\r\n      sections.push(name);\r\n    }\r\n\r\n    for (let i = 0; i < songOrder.length; ++i){\r\n      let section = songOrder[i];\r\n      if(sectionUpdates[section] && sectionUpdates[section].changed)\r\n        songOrder[i] = sectionUpdates[section].newName\r\n    }\r\n\r\n    if(songOrder.length === 0){\r\n      songOrder = sections;\r\n    }\r\n\r\n    let oldName = formattedLyrics[index] ? formattedLyrics[index].name : formattedLyrics[formattedLyrics.length-1].name;\r\n\r\n    Sort.sortNamesInList(formattedLyrics)\r\n    Sort.sortList(sections);\r\n\r\n    let newIndex = formattedLyrics.findIndex(e => e.name === oldName);\r\n\r\n    this.setState({\r\n      formattedLyrics: formattedLyrics,\r\n      sectionsPresent: sections,\r\n      songOrder: songOrder,\r\n      newType: sections[0]\r\n    })\r\n    let that = this;\r\n    setTimeout(function(){\r\n      if(!formattedLyrics[newIndex])\r\n        return;\r\n      that.setState({sectionIndex: newIndex })\r\n      let id = formattedLyrics[newIndex].name\r\n      document.getElementById(id).focus();\r\n    },100)\r\n\r\n  }\r\n\r\n  updateSongOrder = (songOrder) => {\r\n    this.setState({songOrder: songOrder})\r\n  }\r\n\r\n  updateSongIndex = (songIndex) => {\r\n    this.setState({songIndex: songIndex})\r\n  }\r\n\r\n  updateNewType = (newType) => {\r\n    this.setState({newType: newType});\r\n  }\r\n\r\n  render(){\r\n    let {formattedLyrics, sectionIndex, songOrder, newType, sectionsPresent,\r\n      songIndex, arrangements, selectedArrangement} = this.state;\r\n\r\n    let buttonStyle = {fontSize: \"calc(8px + 0.4vw)\", margin:\"1vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.5vw'}\r\n\r\n    let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n       zIndex: 5, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n    return(\r\n      <HotKeys handlers={this.handlers} style={windowBackground}>\r\n        <div style={{position:'fixed', zIndex:6, right:'1%', top:'1%', color:'white',\r\n          width:'95vw', height: '93vh', backgroundColor:\"#383838\", padding:'1%',\r\n          border: '0.1vw solid white', borderRadius: '1vw'}}>\r\n          <div style={{display:'flex'}}>\r\n              <div>\r\n                <div style={{marginRight: '0.25vw'}}>\r\n                  <div style={{textAlign: 'center', fontSize: \"calc(10px + 0.65vmax)\",\r\n                  marginBottom: '0.65vh'}}>Paste Lyrics Here</div>\r\n                  <textarea style={{width:'20vw', height:'50vh', whiteSpace:'pre-wrap', resize:'none'}}\r\n                  value={this.state.text} onChange={(e) => (this.setState({text: e.target.value}))}/>\r\n                <div>\r\n                  <button style={{...buttonStyle, margin:'0.25vw'}} onClick={this.submitText}>Create Sections</button>\r\n                </div>\r\n                </div>\r\n                <SongArrangements arrangements={arrangements} selectArrangement={this.selectArrangement}\r\n                  updateArrangements={this.updateArrangements} selectedArrangement={selectedArrangement}/>\r\n              </div>\r\n              <SongSectionsArea formattedLyrics={formattedLyrics} updateSections={this.updateSections}\r\n                name={arrangements[selectedArrangement] ? arrangements[selectedArrangement].name : ''}\r\n                deleteSectionFromOrder={this.deleteSectionFromOrder} sectionIndex={sectionIndex}\r\n                setSectionIndex={this.setSectionIndex} sectionsPresent={sectionsPresent}\r\n                updateFormattedLyrics={this.updateFormattedLyrics} songOrder={songOrder}/>\r\n              <div>\r\n                <SongOrderArea songOrder={songOrder} songIndex={songIndex} sectionsPresent={sectionsPresent}\r\n                  deleteSectionFromOrder={this.deleteSectionFromOrder} updateSongIndex={this.updateSongIndex}\r\n                  updateSongOrder={this.updateSongOrder} updateNewType={this.updateNewType} newType={newType}\r\n                  insertSongIntoOrder={this.insertSongIntoOrder}/>\r\n                <div style={{display: 'flex'}}>\r\n                    <button style={buttonStyle} onClick={this.props.close}>Cancel</button>\r\n                    <button style={buttonStyle} onClick={this.autoFormatLyrics}> Submit Changes </button>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </HotKeys>\r\n    )\r\n  }\r\n\r\n}\r\n","export function newSlide (props) {\r\n\tlet {type, box, words, slideIndex, fontSize, background, brightness, boxes, textFontSize} = props;\r\n\t//use title\r\n\tif(!words)\r\n\t\twords = ' ';\r\n\tif(!box)\r\n\t\tbox = {brightness: 100, height: 100, width: 100, x: 0, y: 0, fontSize: fontSize,\r\n\t\t\tbackground: '', fontColor: 'rgba(255, 255, 255, 1)'};\r\n\r\n\tif(boxes && words)\r\n\t\tfor(let i = 0; i < boxes.length; ++i)\r\n\t\t\tif(words[i])\r\n\t\t\t\tboxes[i].words = words[i];\r\n\r\n\tif(type === 'Announcement' && !boxes){\r\n\t\tboxes = [];\r\n\t\tlet obj = Object.assign({}, box);\r\n\t\tobj.words = ' ';\r\n\t\tboxes.push(obj);\r\n\t\tobj = Object.assign({}, box);\r\n\t\tobj.height = 23;\r\n\t\tobj.fontSize = 2.1;\r\n\t\tobj.fontColor = 'rgba(255, 251, 43, 1)';\r\n\t\tobj.transparent = true;\r\n\t\tobj.topMargin = 1;\r\n\t\tobj.sideMargin = 2.5;\r\n\t\tobj.excludeFromOverflow = true;\r\n\t\tobj.words = words ? words[0] : ' ';\r\n\t\tboxes.push(obj);\r\n\t\tobj = Object.assign({}, box);\r\n\t\tobj.height = 77;\r\n\t\tobj.y = 23;\r\n\t\tobj.fontSize = textFontSize || 1.9;\r\n\t\tobj.textAlign = 'left';\r\n\t\tobj.transparent = true;\r\n\t\tobj.topMargin = 1;\r\n\t\tobj.sideMargin = 2.5;\r\n\t\tobj.excludeFromOverflow = true;\r\n\t\tobj.words = words ? words[1] : ' ';\r\n\t\tboxes.push(obj);\r\n\t}\r\n\telse if(!boxes && type === 'timer'){\r\n\t\tboxes = [];\r\n\t\tlet obj = Object.assign({}, box);\r\n\t\tobj.words = ' ';\r\n\t\tobj.excludeFromOverflow = true;\r\n\t\tboxes.push(obj);\r\n\t\tobj = Object.assign({}, box);\r\n\t\tobj.transparent = true;\r\n\t\tobj.y = 30;\r\n\t\tobj.height = 35;\r\n\t\tobj.topMargin = 3;\r\n\t\tobj.sideMargin = 4;\r\n\t\tobj.words = words;\r\n\t\tboxes.push(obj);\r\n\t}\r\n\telse if(!boxes) {\r\n\t\tboxes = [];\r\n\t\tlet obj = Object.assign({}, box);\r\n\t\tobj.words = ' ';\r\n\t\tobj.excludeFromOverflow = true;\r\n\t\tboxes.push(obj);\r\n\t\tobj = Object.assign({}, box);\r\n\t\tobj.transparent = true;\r\n\t\tobj.topMargin = 3;\r\n\t\tobj.sideMargin = 4;\r\n\t\tobj.words = words;\r\n\t\tboxes.push(obj);\r\n\t}\r\n\r\n\tlet obj = {\r\n\t\ttype: type,\r\n\t\tboxes: JSON.parse(JSON.stringify(boxes))\r\n\t};\r\n\r\n\tif(type === 'Announcement')\r\n\t\tobj.duration = 15;\r\n\tif(type === 'Announcement Title')\r\n\t\tobj.duration = 5;\r\n\r\n\tif(slideIndex >= 0)\r\n\t\tobj.boxes[1].slideIndex = slideIndex;\r\n\tif(fontSize)\r\n\t\tobj.boxes[1].fontSize = fontSize;\r\n\tif(background)\r\n\t\tobj.boxes[0].background = background;\r\n\tif(brightness)\r\n\t\tobj.boxes[0].brightness = brightness;\r\n\r\n\treturn obj;\r\n\r\n}\r\n","import React from 'react';\r\nimport SlideInList from './SlideInList';\r\nimport LyricsBox from '../LyricElements/LyricsBox';\r\nimport zoomIn from '../assets/zoomIn.png'\r\nimport zoomOut from '../assets/zoomOut.png'\r\nimport {HotKeys} from 'react-hotkeys';\r\nimport * as SlideCreation from '../HelperFunctions/SlideCreation';\r\nimport newButton from '../assets/new-button.png';\r\nimport deleteX from '../assets/deleteX.png';\r\n\r\nclass ItemSlides extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n\r\n    this.state = {\r\n      lBoxOpen: false,\r\n      mouseX: 0,\r\n      mouseY: 0,\r\n      indexBeingDragged:-1,\r\n      mouseDown: false,\r\n      slidesPerRow: 4\r\n    }\r\n\r\n    this.handlers = {\r\n      'nextSlide': this.nextSlide,\r\n      'prevSlide': this.prevSlide\r\n    }\r\n    this.checkHeld = null;\r\n  }\r\n\r\n  updateMouse = (e) => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    this.setState({\r\n      mouseX: e.clientX,\r\n      mouseY: e.clientY\r\n    })\r\n  }\r\n\r\n  setElement = (index) => {\r\n    let {item} = this.props;\r\n    if(item.type === 'announcements' || item.type === 'image'){\r\n      if(index < this.props.item.slides.length)\r\n        this.props.setWordIndex(index);\r\n\r\n        this.setState({\r\n          mouseDown: true\r\n        })\r\n\r\n        this.checkHeld = setTimeout(function() {\r\n          let {mouseDown, indexBeingDragged } = this.state;\r\n          if(mouseDown && indexBeingDragged ===-1){\r\n            this.setState({indexBeingDragged: index})\r\n          }\r\n\r\n        }.bind(this), 250);\r\n    }\r\n    else\r\n      this.props.setWordIndex(index);\r\n\r\n  }\r\n\r\n  setTarget = (index) => {\r\n    let {indexBeingDragged} = this.state;\r\n    if((indexBeingDragged !== -1) && (indexBeingDragged !== index)){\r\n      this.insertWords(index);\r\n      this.setState({indexBeingDragged: index})\r\n    }\r\n  }\r\n\r\n  insertWords = (targetIndex) => {\r\n    let {item, wordIndex} = this.props;\r\n    let slides, slide;\r\n    if(item.type === 'announcements' || item.type === 'image'){\r\n      slides = item.slides;\r\n      slide = slides[wordIndex];\r\n      slides.splice(wordIndex, 1);\r\n      slides.splice(targetIndex, 0, slide);\r\n      item.slides = slides\r\n    }\r\n\r\n    this.props.setWordIndex(targetIndex);\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  releaseElement = () => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    clearTimeout(this.checkHeld)\r\n    this.setState({\r\n      indexBeingDragged: -1,\r\n      mouseDown: false\r\n    })\r\n\r\n  }\r\n\r\n  openLBox = () => {\r\n    this.setState({lBoxOpen: true})\r\n  }\r\n\r\n  closeLBox = () => {\r\n    this.setState({lBoxOpen: false})\r\n  }\r\n\r\n  updateDuration = (e) => {\r\n    let {item, wordIndex} = this.props;\r\n    let num = e.target.value;\r\n    if(num <= 0)\r\n      num = 1\r\n    item.slides[wordIndex].duration = num\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  addSlide = () => {\r\n    let {item} = this.props;\r\n    let slides;\r\n    // if (item.type === 'song')\r\n    //   slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    // else\r\n    //   slides = item.slides || null;\r\n    //\r\n    // if(!slides)\r\n    //   return;\r\n\r\n    if(item.type === 'announcements'){\r\n      slides = item.slides;\r\n      let fontSize = slides[slides.length-1].boxes[2].fontSize;\r\n      slides.push(SlideCreation.newSlide({type: \"Announcement\", fontSize}))\r\n    }\r\n    if(item.type === 'image'){\r\n      slides = item.slides;\r\n      slides.push(SlideCreation.newSlide({type: 'Image', background: '', fontSize: 4.5}))\r\n    }\r\n    // slides.splice(wordIndex+1, 0, [SlideCreation.newSlide({type: 'Static', fontSize: box.fontSize, words: '',\r\n    //  background: box.background, brightness: box.brightness})])\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  deleteSlide = (index) => {\r\n    let {item} = this.props;\r\n    let slides;\r\n    // if (item.type === 'song')\r\n    //   slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    // else\r\n\r\n    slides = item.slides\r\n    if(index === slides.length-1)\r\n      this.props.setWordIndex(index-1)\r\n    slides.splice(index, 1);\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  increaseRows = () => {\r\n    let {slidesPerRow} = this.state;\r\n    if(slidesPerRow < 8)\r\n      this.setState({slidesPerRow: slidesPerRow+1})\r\n  }\r\n\r\n  decreaseRows = () => {\r\n    let {slidesPerRow} = this.state;\r\n    if(slidesPerRow > 2)\r\n      this.setState({slidesPerRow: slidesPerRow-1})\r\n  }\r\n\r\n  nextSlide = () => {\r\n    let {item, wordIndex} = this.props;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    if(!slides)\r\n      return;\r\n    let lastSlide = slides.length-1;\r\n    if(wordIndex < lastSlide)\r\n      this.props.setWordIndex(wordIndex+1)\r\n  }\r\n\r\n  prevSlide = () => {\r\n    let {item, wordIndex} = this.props;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    if(!slides)\r\n      return;\r\n    if(wordIndex > 0)\r\n      this.props.setWordIndex(wordIndex-1)\r\n  }\r\n\r\n  updateTimerHours = (e) => {\r\n    let {item, wordIndex} = this.props;\r\n    let num = parseInt(e.target.value, 10);\r\n    if(isNaN(num))\r\n      num = 0\r\n    let words = item.slides[wordIndex].boxes[1].words;\r\n    let numAsString = \"0\";\r\n    if(num < 0)\r\n      num = 0\r\n    if(num > 99)\r\n      num = 99;\r\n    item.hours = num;\r\n    if(num >= 0 && num <= 9)\r\n      numAsString+=num;\r\n    else\r\n      numAsString= num.toString();\r\n    item.slides[wordIndex].boxes[1].words = numAsString + words.substring(2);\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  updateTimerMinutes = (e) => {\r\n    let {item, wordIndex} = this.props;\r\n    let num = parseInt(e.target.value, 10);\r\n    if(isNaN(num))\r\n      num = 0\r\n    let words = item.slides[wordIndex].boxes[1].words;\r\n    let numAsString = \"0\";\r\n    if(num < 0)\r\n      num = 0\r\n    if(num > 59)\r\n      num = 59;\r\n    item.minutes = num;\r\n    if(num >= 0 && num <= 9)\r\n      numAsString+=num;\r\n    else\r\n      numAsString= num.toString();\r\n    item.slides[wordIndex].boxes[1].words = words.substring(0,3) + numAsString + words.substring(5);\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  updateTimerSeconds = (e) => {\r\n    let {item, wordIndex} = this.props;\r\n    let num = parseInt(e.target.value, 10);\r\n    if(isNaN(num))\r\n      num = 0\r\n\r\n    let words = item.slides[wordIndex].boxes[1].words;\r\n    let numAsString = \"0\";\r\n    if(num < 0)\r\n      num = 0\r\n    if(num > 59)\r\n      num = 59;\r\n    item.seconds = num;\r\n    if(num >= 0 && num <= 9)\r\n      numAsString+=num;\r\n    else\r\n      numAsString= num.toString();\r\n    item.slides[wordIndex].boxes[1].words = words.substring(0,6) + numAsString;\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n\r\n  render() {\r\n    let {item, backgrounds, wordIndex, boxIndex} = this.props;\r\n    let {mouseX, mouseY, indexBeingDragged, slidesPerRow} = this.state;\r\n    let type = item.type;\r\n    let that = this;\r\n    let row = [];\r\n    let fullArray = [];\r\n    let name = item.name;\r\n    let freeSlides = item.type === 'announcements' || item.type === 'image';\r\n\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n\r\n    if(name && name.length > 31){\r\n      name = name.substring(0, 32)\r\n      name+=\"...\"\r\n    }\r\n    if(!slides)\r\n      return null;\r\n\r\n\r\n    for(var i = 0; i < slides.length; i+=slidesPerRow){\r\n      for(var j = i; j < i+slidesPerRow; ++j){\r\n        if(slides[j])\r\n          row.push(slides[j]);\r\n      }\r\n      fullArray.push(row);\r\n      row = [];\r\n    }\r\n    if(freeSlides){\r\n      let lastRow = fullArray[fullArray.length -1];\r\n      if(lastRow.length < slidesPerRow)\r\n        lastRow.push('newSection')\r\n      else\r\n        fullArray.push(['newSection'])\r\n    }\r\n\r\n    let style;\r\n\r\n    let widthNumber = freeSlides || item.type === 'bible' ? 34/slidesPerRow : 37/slidesPerRow\r\n    let width = widthNumber + \"vw\"\r\n    let height = (widthNumber*.5625) + \"vw\"\r\n    let titleSize = .5+ 1.25/slidesPerRow + \"vw\"\r\n    //.5vw -> padding Top/Bot, .25vw -> border\r\n    let fullHeight = `calc(${height} + ${titleSize} + .5vw + .25vw)`\r\n    let slideWidth = 1/slidesPerRow*100 + '%'\r\n\r\n\r\n    let slideStyle = { border:'0.25vw', borderColor: '#383838', borderStyle:'solid',\r\n      width:width, height:fullHeight};\r\n    let slideSelectedStyle = {border:'0.25vw', borderColor: '#06d1d1', borderStyle:'solid',\r\n       width:width, height:fullHeight};\r\n    let slideDraggedStyle = { border:'0.25vw', borderColor: '#ffdb3a', borderStyle:'solid',\r\n      width:width, height:fullHeight, opacity:'0.5'};\r\n\r\n    let ROWtest = fullArray.map((element, index) => {\r\n      let row = element.map(function (subElement, i){\r\n        let newSection = subElement === 'newSection';\r\n        let selected = (index*slidesPerRow+i === wordIndex);\r\n        let beingDragged = (indexBeingDragged === index*slidesPerRow+i);\r\n        let deleteEnable = false;\r\n        if(item.type === 'image')\r\n          deleteEnable = item.slides.length > 1;\r\n        if(item.type === 'announcements')\r\n          deleteEnable = index+i > 1 || index > 0;\r\n        if(selected){\r\n          style = slideSelectedStyle;\r\n        }\r\n        if(!selected){\r\n          style = slideStyle;\r\n        }\r\n        if(beingDragged){\r\n          style = slideDraggedStyle;\r\n        }\r\n        const currentSlide = slides[index*slidesPerRow+i] || {};\r\n        return(\r\n          <div style={{display:'flex', width:slideWidth, userSelect:'none'}} key={i} id={\"Slide\"+(index*slidesPerRow+i)}>\r\n            <div style={style}\r\n              onMouseDown={() => that.setElement(index*slidesPerRow+i)}\r\n              onMouseOver={() => that.setTarget(index*slidesPerRow+i)}\r\n              >\r\n              {(selected && beingDragged && !newSection) &&\r\n                <SlideInList slide={currentSlide} backgrounds={backgrounds}\r\n                  x={mouseX} y={mouseY} moving={true} width={width} height={height}\r\n                  titleSize={titleSize}\r\n                  />\r\n              }\r\n              {((!selected || !beingDragged) && !newSection) &&\r\n                <SlideInList slide={currentSlide}\r\n                  name={currentSlide.type} width={width} height={height}\r\n                  backgrounds={backgrounds} titleSize={titleSize}\r\n                  />\r\n              }\r\n              {newSection && <div className='imgButton' style={{backgroundColor: '#b7b7b7',\r\n                 height:'95%', border: '0.25vw #2ECC71 solid',\r\n                borderRadius:'0.5vw', fontWeight: 'bold'}}\r\n              onClick={that.addSlide}>\r\n              <div style={{textAlign: 'center', paddingTop: '5%', fontSize: `calc(5.6vw*${1/slidesPerRow})`,\r\n                color: 'black'}}>New Slide</div>\r\n              <img style={{display:'block', width:'50%', height:'60%', margin:'0.5vh auto'}}\r\n                 alt=\"newButton\" src={newButton}\r\n                />\r\n              </div>}\r\n            </div>\r\n            {(deleteEnable && !newSection) && <img className='imgButton'\r\n              style={{display:'block', width:`calc(1.5vw*${4/slidesPerRow})`, height:`calc(1.5vw*${4/slidesPerRow})`}}\r\n               onClick={() => that.deleteSlide(index*slidesPerRow+i)}\r\n               alt=\"delete\" src={deleteX}\r\n              />\r\n            }\r\n          </div>\r\n        );\r\n      })\r\n      return (\r\n        <div style={{display:'flex', paddingBottom:'0.5vh'}} key={index}> {row}</div>\r\n      );\r\n    })\r\n\r\n    let buttonStyle = {fontSize: \"calc(7px + 0.5vw)\", margin:\"0.25vh 0.25vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.25vw',\r\n       width:'20%'}\r\n\r\n    return (\r\n      <HotKeys style={{color: 'white', height: '100%', width: '100%'}} handlers={this.handlers}>\r\n        <div style={{display:'flex', margin:'1% 0%', height: '3.5vh', overflow:'hidden', fontSize: \"calc(7px + 0.5vw)\"}}>\r\n          <div style={{fontSize: 'calc(10px + 1vw)', width: '60%', paddingLeft:'0.5vw'}}> {name} </div>\r\n          {(type==='song') && <button style={buttonStyle} onClick={this.openLBox}>Arrange Lyric</button>}\r\n          {(type==='timer' && <div style={{display: 'flex'}}>\r\n            <div style={{fontSize: '0.85vw', margin: '0 0.5vw', display: 'flex', alignItems: 'center'}}>\r\n              Hours</div>\r\n            <input type='number' value={item.hours} onChange={this.updateTimerHours}\r\n              style={{fontSize: '0.85vw', width:'2vw', padding: '0.25vh 0'}}/>\r\n            <div style={{fontSize: '0.85vw', margin: '0 0.5vw', display: 'flex', alignItems: 'center'}}>\r\n              Minutes</div>\r\n            <input type='number' value={item.minutes} onChange={this.updateTimerMinutes}\r\n              style={{fontSize: '0.85vw', width:'2vw', padding: '0.25vh 0'}}/>\r\n            <div style={{fontSize: '0.85vw', margin: '0 0.5vw', display: 'flex', alignItems: 'center'}}>\r\n              Seconds</div>\r\n            <input type='number' value={item.seconds} onChange={this.updateTimerSeconds}\r\n              style={{fontSize: '0.85vw', width:'2vw', padding: '0.25vh 0'}}/>\r\n          </div>\r\n\r\n          )}\r\n          {(type==='announcements' && wordIndex >= 0) && <div style={{display: 'flex'}}>\r\n            <div style={{fontSize: '0.85vw', marginRight: '0.5vw', display: 'flex', alignItems: 'center'}}>\r\n              Duration</div>\r\n            <input type='number' value={item.slides[wordIndex].duration} onChange={this.updateDuration}\r\n              style={{fontSize: '0.85vw', width:'2vw', padding: '0.25vh 0'}}/>\r\n          </div>}\r\n          {(type !=='song' && type !== 'announcements') && <div style={{ width: '20%'}} ></div>}\r\n          {(type !=='timer' && <div style={{display: 'flex'}}>\r\n            <img className='imgButton' style={{display:'block', width:'2vw', height:'2vw', marginLeft:'1vw'}}\r\n                onClick={this.decreaseRows}\r\n                alt=\"zoomIn\" src={zoomIn}\r\n               />\r\n            <img className='imgButton' style={{display:'block', width:'2vw', height:'2vw', marginLeft:'1vw'}}\r\n                 onClick={this.increaseRows}\r\n                 alt=\"zoomOut\" src={zoomOut}\r\n                />\r\n          </div>)}\r\n        </div>\r\n      <div style={{overflowX: 'hidden', height: \"86%\", width:\"100%\"}}\r\n        onMouseMove={this.updateMouse} onMouseUp={this.releaseElement}\r\n        onMouseLeave={this.releaseElement}>{ROWtest}</div>\r\n      {this.state.lBoxOpen &&<LyricsBox close={this.closeLBox} item={item} setWordIndex={this.props.setWordIndex}\r\n      updateItem={this.props.updateItem} formatSong={this.props.formatSong} boxIndex={boxIndex}\r\n      setSlideBackground={this.props.setSlideBackground}/>}\r\n    </HotKeys>\r\n    )\r\n  }\r\n\r\n}\r\nexport default ItemSlides;\r\n","export default function makeUnique(props){\r\n\tlet {name, property, list, id} = props;\r\n\tlet element = id ?\r\n\t\tlist.find(e => e[property] === name && ((e.id && e.id !== id )|| (e._id && e._id !== id))) \r\n\t\t: list.find(e => e[property] === name);\r\n\tconst find = (counter) => {\r\n\t\treturn list.find(e => e[property] === name + ` (${counter})`);\r\n\t}; \r\n\tif(element){\r\n\t\tlet counter = 2;\r\n\t\twhile(true){\r\n\t\t\tif(find(counter))\r\n\t\t\t\t++counter;\r\n\t\t\telse{\r\n\t\t\t\treturn name + ` (${counter})`;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse\r\n\t\treturn name;\r\n}\r\n","import React from 'react';\r\nimport {HotKeys} from 'react-hotkeys';\r\nimport MakeUnique from './HelperFunctions/MakeUnique';\r\n\r\nexport default class CreateName extends React.Component{\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      message: \"\",\r\n    }\r\n\r\n    this.handlers = {\r\n      'close': this.close,\r\n      'submit': this.submitName\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({name: this.props.name})\r\n    let textbox = document.getElementById(\"nameChange\");\r\n    textbox.focus();\r\n    setTimeout(function(){textbox.select()},10)\r\n\r\n  }\r\n\r\n  close = () => {\r\n    this.props.close()\r\n  }\r\n\r\n  makeNameUnique = () => {\r\n    let {name} = this.state;\r\n    let { background} = this.props;\r\n    //use allItems and item\r\n    if(name === '')\r\n      return;\r\n    //name = MakeUnique({name: name, property: '_id', list: allItems, id: item._id});\r\n    this.props.addMedia(name, background)\r\n    this.props.close();\r\n  }\r\n\r\n  nameChange = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  submitName = (event) => {\r\n    event.preventDefault();\r\n    let {option} = this.props;\r\n    if(option === 'edit'){\r\n      this.editName()\r\n    }\r\n    if(option === 'create'){\r\n      this.makeNameUnique();\r\n    }\r\n  }\r\n\r\n  editName = () => {\r\n\r\n    let {name} = this.state;\r\n    let {item, updateItem, allItems} = this.props;\r\n    if(name === '')\r\n      return;\r\n\r\n    name = MakeUnique({name: name, property: 'name', list: allItems, id: item._id});\r\n    item.name = name;\r\n    console.log(item);\r\n    if(item.type === 'song')\r\n      item.arrangements[item.selectedArrangement].slides[0].boxes[1].words = name;\r\n    else if(item.type === 'bible')\r\n      item.slides[0].boxes[1].words = name;\r\n\r\n    updateItem(item)\r\n    this.props.close();\r\n  }\r\n\r\n  render(){\r\n    let {message} = this.state;\r\n\r\n    let style={\r\n      position:'absolute',\r\n      zIndex:6,\r\n      left:'35%',\r\n      top:'45%',\r\n      backgroundColor: '#383838',\r\n      boxShadow: '0 5px 10px rgb(0, 0, 0)',\r\n      border: '0.1vw solid white',\r\n      borderRadius: '1vw',\r\n      padding: 10,\r\n      width: '20vw',\r\n      color: 'white'\r\n    }\r\n\r\n    let messageStyle = {fontSize: \"calc(5px + 0.3vw)\", fontStyle: 'italic', color: 'yellow'}\r\n\r\n    let buttonStyle = {fontSize: \"calc(7px + 0.4vw)\", margin:\"1vh 0.25vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.25vw',\r\n       width: '9vw'}\r\n     let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n       zIndex: 4, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n\r\n      return (\r\n        <HotKeys handlers={this.handlers} style={windowBackground}>\r\n          <div style={style}>\r\n          {(message.length > 0) && <div style={messageStyle}>{message}</div>}\r\n          <div >\r\n            <div style={{display: 'flex'}}>\r\n              <div style={{width: '30%', margin:'auto'}}>Item Name: </div>\r\n              <input style={{width: '50%', margin:'auto'}} id=\"nameChange\" type=\"text\" value={this.state.name} onChange={this.nameChange}/>\r\n            </div>\r\n            <button style={buttonStyle} onClick={this.props.close}>\r\n              Cancel\r\n            </button>\r\n            <button onClick={this.submitName} style={buttonStyle}>\r\n              Submit Name\r\n            </button>\r\n          </div>\r\n          </div>\r\n      </HotKeys>\r\n      )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class ItemInList extends React.Component{\r\n\r\n\r\n  render(){\r\n  let {name, backgrounds, background, nameColor, type, moving, x, y, width, height} = this.props;\r\n\r\n  let words = \"\"\r\n\r\n  if(type === 'bible' || type === 'song')\r\n    words = name\r\n\r\n  let divStyle={width: width, height: height}\r\n\r\n  if(moving){\r\n    divStyle.left = `calc(${x}px - 5vw)`;\r\n    divStyle.top = `calc(${y}px - 10vh)`;\r\n    divStyle.position = 'absolute';\r\n  }\r\n\r\n  let style = {fontSize: 4.5, fontColor: nameColor}\r\n\r\n  let slide = {boxes:[{words: words, background: background, ...style}]}\r\n\r\n    return (\r\n        <div style={divStyle}>\r\n          <DisplayWindow slide={slide} backgrounds={backgrounds}\r\n            width={width} title={name} titleSize={\".75vw\"}/>\r\n        </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport duplicate from '../assets/duplicate.png';\r\nimport edit from '../assets/edit.png';\r\nimport CreateName from '../CreateName';\r\nimport ItemInList from './ItemInList';\r\nimport {HotKeys} from 'react-hotkeys';\r\n\r\nexport default class ItemList extends React.Component{\r\n\r\n  constructor(){\r\n      super();\r\n\r\n      this.state = {\r\n        nameOpen: false,\r\n        name: \"\",\r\n        id:\"\",\r\n        index: 0,\r\n        mouseX: 0,\r\n        mouseY: 0,\r\n        indexBeingDragged:-1,\r\n        mouseDown: false\r\n      }\r\n\r\n      this.handlers = {\r\n        'nextItem': this.nextItem,\r\n        'prevItem': this.prevItem,\r\n        'nextSlide': this.nextSlide,\r\n        'prevSlide': this.prevSlide,\r\n      }\r\n      this.checkHeld = null;\r\n    }\r\n\r\n  updateMouse = (e) => {\r\n\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    this.setState({\r\n      mouseX: e.clientX,\r\n      mouseY: e.clientY\r\n    })\r\n  }\r\n\r\n\r\n  setElement = (index) => {\r\n\r\n    this.props.setItemIndex(index);\r\n\r\n    this.setState({\r\n      mouseDown: true\r\n    })\r\n\r\n    this.checkHeld = setTimeout(function() {\r\n      let {mouseDown, indexBeingDragged} = this.state;\r\n      if(mouseDown && indexBeingDragged===-1){\r\n        this.setState({indexBeingDragged: index})\r\n      }\r\n\r\n    }.bind(this), 250);\r\n\r\n  }\r\n\r\n  setTarget = (index) => {\r\n    let {indexBeingDragged} = this.state;\r\n    if((indexBeingDragged !== -1) && (indexBeingDragged !== index)){\r\n      this.props.insertItemIntoList(index);\r\n      this.setState({indexBeingDragged: index})\r\n    }\r\n  }\r\n\r\n  releaseElement = () => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    clearTimeout(this.checkHeld)\r\n    this.setState({\r\n      indexBeingDragged: -1,\r\n      mouseDown: false\r\n    })\r\n\r\n  }\r\n\r\n  editItem = (name, id, index) =>{\r\n      this.setState({\r\n        nameOpen: true,\r\n        name: name,\r\n        id: id\r\n      })\r\n    this.props.setItemIndex(index);\r\n  }\r\n\r\n  close = () => {\r\n      this.setState({nameOpen: false})\r\n  }\r\n\r\n  nextItem = () => {\r\n    let {itemList, itemIndex} = this.props;\r\n    if(!itemList.length || itemList.length === 0)\r\n      return;\r\n    let lastItem = itemList.length-1;\r\n    if(itemIndex < lastItem)\r\n      this.props.setItemIndex(itemIndex+1)\r\n  }\r\n\r\n  prevItem = () => {\r\n    let {itemList, itemIndex} = this.props;\r\n    if(!itemList.length || itemList.length === 0)\r\n      return;\r\n    if(itemIndex > 0)\r\n      this.props.setItemIndex(itemIndex-1)\r\n  }\r\n\r\n  nextSlide = () => {\r\n    let {item, wordIndex} = this.props;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    if(!slides)\r\n      return;\r\n    let lastSlide = slides.length-1;\r\n    if(wordIndex < lastSlide)\r\n      this.props.setWordIndex(wordIndex+1)\r\n  }\r\n\r\n  prevSlide = () => {\r\n    let {item, wordIndex} = this.props;\r\n    let slides\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    if(!slides)\r\n      return;\r\n    if(wordIndex > 0)\r\n      this.props.setWordIndex(wordIndex-1)\r\n  }\r\n\r\n\r\n\r\n  render(){\r\n  let {itemList, backgrounds, itemIndex, allItems, item} = this.props;\r\n  let {nameOpen, name, mouseX, mouseY, indexBeingDragged} = this.state;\r\n\r\n  let list = [];\r\n  for(var i = 0; i < itemList.length; ++i){\r\n    list.push(itemList[i]);\r\n  }\r\n\r\n  let width=\"10.4vw\";\r\n  let height=\"5.85vw\"\r\n\r\n  //.75vw -> fontSize, .5vw -> padding Top/Bot, .1vw -> titleBorder, .25vw -> border\r\n  let fullHeight = `calc(${height} + .75vw + .5vw + .1vw + .25vw)`\r\n\r\n  let style;\r\n  let itemStyle = {border:'0.25vw', borderColor: '#383838', borderStyle:'solid',\r\n      width:width, height:fullHeight, marginTop:\"3%\"}\r\n  let itemSelectedStyle = {border:'0.25vw', borderColor: '#06d1d1', borderStyle:'solid',\r\n          width:width, height:fullHeight, marginTop:\"3%\"}\r\n  let itemDraggedStyle = {border:'0.25vw', borderColor: '#ffdb3a', borderStyle:'solid',\r\n          width:width, height:fullHeight, marginTop:\"3%\", opacity:'0.5'}\r\n  let SL = list.map((element, index) => {\r\n\r\n    let selected = (index === itemIndex);\r\n    let beingDragged = (indexBeingDragged === index)\r\n    if(selected){\r\n      style = itemSelectedStyle;\r\n    }\r\n    if(!selected){\r\n      style = itemStyle;\r\n    }\r\n    if(beingDragged){\r\n      style = itemDraggedStyle;\r\n    }\r\n\r\n  return(\r\n    <div style={{display:'flex', userSelect:'none'}} key={index} id={\"Item\"+index}>\r\n      <div style={style}\r\n        onMouseDown={() => this.setElement(index)}\r\n        onMouseOver={() => this.setTarget(index)}\r\n        >\r\n        {(selected && beingDragged) &&\r\n          <ItemInList name={element.name} background={element.background} type={element.type}\r\n            nameColor= {element.nameColor} backgrounds={backgrounds} x={mouseX} y={mouseY}\r\n            moving={true} width={width} height={height}\r\n            />\r\n        }\r\n        {(!selected || !beingDragged) &&\r\n          <ItemInList name={element.name} background={element.background} type={element.type}\r\n            nameColor= {element.nameColor} backgrounds={backgrounds} moving={false}\r\n            width={width} height={height}\r\n            />\r\n        }\r\n\r\n      </div>\r\n        <div style={{padding:\"3%\"}}>\r\n          <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw'}}\r\n             onClick={() => this.props.deleteItemFromList(index)}\r\n             alt=\"delete\" src={deleteX}\r\n             />\r\n           <img className='imgButton' style={{display:'block', paddingTop:\"10%\", width:'1.25vw', height:'1.25vw'}}\r\n            onClick={() => this.editItem(element.name, element._id, index)}\r\n            alt=\"edit\" src={edit}\r\n            />\r\n          <img className='imgButton' style={{display:'block', paddingTop:\"10%\", width:'1.25vw', height:'1.25vw'}}\r\n             onClick={() => this.props.duplicateItem(element._id)}\r\n             alt=\"duplicate\" src={duplicate}\r\n             />\r\n        </div>\r\n    </div>\r\n  )\r\n})\r\n\r\n\r\n  let noItemStyle = { height:'20vh', overflowY: 'hidden', overflowX: 'hidden', fontSize: 'calc(5px + 1.5vw)',\r\n    color: 'white', textAlign: 'center', marginTop: '5vh'}\r\n\r\n    return (\r\n      <div style={{marginLeft: '0.5vw'}}>\r\n        {nameOpen && <CreateName option=\"edit\" name={name} item={item} close={this.close}\r\n        updateItem={this.props.updateItem} allItems={allItems}\r\n        />}\r\n        <HotKeys handlers={this.handlers}>\r\n        {itemList.length > 0 && <div style={{ height:'89vh', overflowY: 'scroll', overflowX: 'hidden'}} onMouseMove={this.updateMouse}\r\n           onMouseUp={this.releaseElement} onMouseLeave={this.releaseElement}>{SL}</div>}\r\n        {itemList.length === 0 && <div style={noItemStyle}> Nothing Added Yet</div>}\r\n        </HotKeys>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nclass DisplayEditor extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      text: '',\r\n      cursor: 0,\r\n      updating: false\r\n    }\r\n\r\n    this.throttle = null\r\n  }\r\n\r\n  componentDidMount(){\r\n    let video = document.getElementById('background-video');\r\n    if(video)\r\n      video.loop = true;\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    let {item, wordIndex, boxIndex} = this.props;\r\n\r\n    if(item !== prevProps.item || wordIndex !== prevProps.wordIndex){\r\n      let video = document.getElementById('background-video');\r\n      if(video)\r\n        video.loop = true;\r\n\r\n      let slides;\r\n      if (item.type === 'song')\r\n        slides = item.arrangements[item.selectedArrangement].slides || null;\r\n      else\r\n        slides = item.slides || null;\r\n\r\n      let slide = slides ? slides[wordIndex] : null;\r\n      let box = slide ? slide.boxes[boxIndex] : null;\r\n\r\n      if(box)\r\n        this.setState({text: box.words})\r\n    }\r\n  }\r\n\r\n  handleKeyUp = (event) => {\r\n    // let {text, cursor} = this.state;\r\n\r\n    // if(event.key === 'Enter'){\r\n    //   this.updateTextChange(text, cursor, true)\r\n    //   clearTimeout(this.throttle)\r\n    // }\r\n    // if(event.key === 'Delete'){\r\n    //   let selectionEnd = document.getElementById(\"displayEditor\").selectionEnd;\r\n    //   if(selectionEnd === cursor){\r\n    //     this.updateTextChange(text, cursor, true)\r\n    //     clearTimeout(this.throttle)\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  handleBoxChange = (x, y, width, height) => {\r\n    let {wordIndex, item, boxIndex} = this.props;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides\r\n    else\r\n      slides = item.slides\r\n    let box = slides[wordIndex].boxes[boxIndex];\r\n    box.x = x;\r\n    box.y = y;\r\n    box.width = width;\r\n    box.height = height;\r\n    this.props.updateItem(item);\r\n  }\r\n\r\n  handleTextChange = (event) => {\r\n    // let that = this;\r\n    // let {updating} = this.state;\r\n    event.preventDefault();\r\n    this.updateTextChange(event.target.value, event.target.selectionStart, true)\r\n    // this.setState({text: event.target.value, cursor: event.target.selectionStart})\r\n    // clearTimeout(this.throttle);\r\n    // if(updating){\r\n    //   this.throttle = setTimeout(function(){\r\n    //     let text = that.state.text;\r\n    //     let cursor = that.state.cursor;\r\n    //     that.setState({updating: false})\r\n    //     that.updateTextChange(text, cursor, true)\r\n    //   }, 350)\r\n    // }\r\n    // else{\r\n    //   this.setState({updating: true})\r\n    //   this.updateTextChange(event.target.value, event.target.selectionStart, true)\r\n    // }\r\n\r\n  }\r\n\r\n  updateTextChange = (words, cursor, enterPressed) => {\r\n\r\n    let {wordIndex, item, boxIndex} = this.props;\r\n    let index = -1;\r\n    let slides, formattedLyrics, newWords, start, end;\r\n\r\n    if((item.type === 'bible' && wordIndex === 0) || item.type === 'image'\r\n      || item.type === 'announcements'){\r\n      slides = item.slides;\r\n      slides[wordIndex].boxes[boxIndex].words = words;\r\n    }\r\n\r\n    else if (item.type === 'song'){\r\n        slides = item.arrangements[item.selectedArrangement].slides\r\n        if(wordIndex === 0)\r\n            slides[wordIndex].boxes[boxIndex].words = words\r\n        else if(wordIndex < slides.length-1){\r\n            formattedLyrics = item.arrangements[item.selectedArrangement].formattedLyrics;\r\n            index = formattedLyrics.findIndex(e => e.name === slides[wordIndex].type);\r\n\r\n            start = wordIndex - slides[wordIndex].boxes[boxIndex].slideIndex;\r\n            end = start + formattedLyrics[index].slideSpan - 1;\r\n            newWords = \"\"\r\n\r\n            for (let i = start; i <= end; ++i){\r\n              if(i === wordIndex)\r\n                newWords+= words;\r\n              else\r\n                newWords+= slides[i].boxes[boxIndex].words;\r\n            }\r\n            if(newWords !== \"\")\r\n              formattedLyrics[index].words = newWords\r\n        }\r\n    }\r\n\r\n    this.props.updateItem(item);\r\n\r\n    setTimeout(function(){\r\n      if(!enterPressed || item.type !== 'song')\r\n        return;\r\n      document.getElementById(`displayEditor-${boxIndex}`).selectionEnd = cursor;\r\n      document.getElementById(`displayEditor-${boxIndex}`).scrollTop = 0;\r\n    }, 10)\r\n  }\r\n\r\n  render() {\r\n    let {wordIndex, item, backgrounds, width, height, boxIndex} = this.props;\r\n    // let {text} = this.state;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    let slide = slides ? slides[wordIndex] : null;\r\n\r\n    let blankStyle = {width: width, height: height, background: 'black'}\r\n    let blankTextStyle = {color: 'white', textAlign: 'center',\r\n    fontSize: '4vw', paddingTop: '15%'}\r\n\r\n    if(!slide)\r\n      return (<div style={blankStyle}><div style={blankTextStyle}>No Item Selected</div></div>)\r\n\r\n    return (\r\n      <div onKeyUp={this.handleKeyUp} onKeyDown={this.props.overrideUndoRedo}\r\n         style={{width: width, height: height, position: 'relative'}}>\r\n        <DisplayWindow slide={slide}  backgrounds={backgrounds} boxIndex={boxIndex} wordIndex={wordIndex}\r\n          width={width} height={height} title={''} editor={true} handleTextChange={this.handleTextChange}\r\n          handleBoxChange={this.handleBoxChange} setBoxIndex={this.props.setBoxIndex} itemID={item._id}>\r\n        </DisplayWindow>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\nexport default DisplayEditor;\r\n// words={words} style={box} background={background}\r\n","import React from 'react';\r\nimport expandDown from '../assets/expandDown.png';\r\nimport collapseUp from '../assets/collapseUp.png';\r\nimport upload from '../assets/upload.png'\r\nimport CreateName from '../CreateName';\r\n\r\nexport default class Backgrounds extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      selected: -1,\r\n      selectedBackground: \"\",\r\n      nameOpen: false,\r\n      allOpen: false,\r\n    }\r\n  }\r\n\r\n  closeName = () => {\r\n    this.setState({nameOpen: false})\r\n  }\r\n\r\n  openName = () => {\r\n    this.setState({nameOpen: true})\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    let {backgrounds} = this.props\r\n    this.setState({selectBackground: backgrounds[0]})\r\n  }\r\n\r\n  displayImage = () =>{\r\n    let {selectedBackground} = this.state;\r\n    this.props.updateCurrent({image: selectedBackground, displayDirect: true})\r\n  }\r\n\r\n  selectBackground = (index) => {\r\n    let {backgrounds} = this.props\r\n    this.setState({\r\n      selected: index,\r\n      selectedBackground: backgrounds[index].name\r\n    })\r\n  }\r\n\r\n  setItemBackground = () =>{\r\n    let {selectedBackground} = this.state;\r\n    this.props.setItemBackground(selectedBackground)\r\n  }\r\n\r\n  setSlideBackground = () => {\r\n    let {selectedBackground} = this.state\r\n    this.props.setSlideBackground(selectedBackground)\r\n  }\r\n\r\n  render() {\r\n\r\n    let {backgrounds, item, openUploader, user, allItems} = this.props;\r\n    let {selected, allOpen, nameOpen, selectedBackground} = this.state;\r\n    let BCKS = \"\";\r\n    let row = [];\r\n    let fullArray = [];\r\n    let that = this;\r\n    let numCols = 6;\r\n    let width = '38vw';\r\n\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides;\r\n    else\r\n      slides = item.slides;\r\n\r\n    let itemStyle = {\r\n        border:'0.25vw',   borderColor: '#383838',    borderStyle:'solid',\r\n        height: '3vmax',   width: '5.33vmax',         padding: '.1vmax'\r\n      }\r\n    let itemSelectedStyle = {\r\n        border:'0.25vw',    borderColor: '#4286f4',     borderStyle:'solid',\r\n        height: '3vmax',    width: '5.33vmax',          padding: '.1vmax'\r\n      }\r\n\r\n    if(backgrounds && !allOpen){\r\n      BCKS = backgrounds.map((pic, index) => {\r\n      let itemSelected = (index === selected);\r\n      return(\r\n        <div key={index}>\r\n          <img onClick={ () => this.selectBackground(index)} style={itemSelected ? itemSelectedStyle: itemStyle} alt={pic.name} src={pic.image.src}/>\r\n        </div>\r\n      )\r\n    })\r\n    }\r\n    if(backgrounds && allOpen){\r\n      for(var i = 0; i < backgrounds.length; i+=numCols){\r\n        for(var j = i; j < i+numCols; ++j){\r\n          if(backgrounds[j])\r\n            row.push(backgrounds[j]);\r\n        }\r\n        fullArray.push(row);\r\n        row = [];\r\n      }\r\n\r\n      BCKS = fullArray.map((element, index) => {\r\n        let row = element.map(function (pic, i){\r\n          let itemSelected = (index*numCols + i === selected);\r\n          return(\r\n            <div key={index*numCols+i}>\r\n              <img onClick={ () => that.selectBackground(index*numCols+i)}\r\n                style={itemSelected ? itemSelectedStyle: itemStyle} alt={pic.name} src={pic.image.src}/>\r\n            </div>\r\n          )\r\n        })\r\n        return (\r\n          <div style={{display:'flex', paddingBottom:'0.5vh', paddingRight: '0.5vw'}} key={index}> {row}</div>\r\n        );\r\n\r\n    })\r\n    }\r\n\r\n    let backgroundsRowStyle = {\r\n      display:'flex',     overflowX: 'scroll',    width: width,\r\n      marginTop: '1vh',   border: '0.25vw solid #c4c4c4', position:'absolute'\r\n    }\r\n    let backgroundTableStyle = {\r\n        overflowY: 'scroll',    width: width,     maxHeight: '75vh',\r\n        background: '#383838',  marginTop: '1vh',   border: '0.25vw solid #c4c4c4',\r\n        position:'absolute'\r\n    }\r\n\r\n    let buttonStyle = {fontSize: \"calc(7px + 0.4vw)\", margin:\"0.25vh 0.25vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.25vw',\r\n       width: '9vw'}\r\n\r\n\r\n    return (\r\n      <div style={{position: 'relative', height: '22vh', width: width, zIndex: 4, marginBottom:'2vh', color: 'white'}}>\r\n          <div style={{display:'flex'}}>\r\n          <div style={{marginTop:'1vh'}}>Backgrounds</div>\r\n          {(user!=='Demo') &&\r\n            <img className='imgButton' style={{display:'block', margin: '1vh 1vw', width:'1.5vw', height:'1.5vw'}}\r\n               onClick={openUploader}\r\n               alt=\"upload\" src={upload}\r\n               />}\r\n          </div>\r\n          <div style={{display:'flex', paddingTop: '1vh'}}>\r\n            <button style={buttonStyle} onClick={this.displayImage}>Display Image</button>\r\n            <button style={buttonStyle} onClick={this.openName}>Add To List</button>\r\n            {slides &&<button style={buttonStyle} onClick={this.setItemBackground}>Set Item Background</button>}\r\n            {slides &&<button style={buttonStyle} onClick={this.setSlideBackground}>Set Slide Background</button>}\r\n          </div>\r\n          <div style={{ position: 'relative' }}>\r\n            {!allOpen && <div style={backgroundsRowStyle}>\r\n            {BCKS}\r\n          </div>}\r\n            {allOpen && <div style={backgroundTableStyle}>{BCKS}</div>}\r\n            <img className='imgButton'\r\n              style={{\r\n                display:'block', width:'1vw', height:'1vw', marginLeft:\"4px\",\r\n                position: 'absolute', right: '-2vw', top: '0', ...(allOpen && {transform: 'rotate(180deg)'} )\r\n              }}\r\n              onClick={() => this.setState( {allOpen: !allOpen })}\r\n              alt=\"expandDown\" \r\n              src={expandDown}\r\n\r\n            />  \r\n          </div>\r\n\r\n          {nameOpen && <CreateName option=\"create\" name={selectedBackground} type={'image'}\r\n          close={this.closeName} addMedia={this.props.addMedia} background={selectedBackground}\r\n          allItems={allItems} item={item}\r\n          />}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport ItemSlides from './ItemSlides';\r\nimport ItemList from './ItemList';\r\nimport DisplayEditor from './DisplayEditor';\r\nimport Backgrounds from './Backgrounds';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class FullView extends React.Component{\r\n\r\n\trender() {\r\n\r\n\t\tlet {setItemIndex, setWordIndex, insertItemIntoList, insertWords, addItem, deleteItemFromList,\r\n\t\t\tupdateItem, setItemBackground, handleFileChange, setSlideBackground, openUploader,\r\n\t\t\tupdateCurrent, duplicateItem, addMedia, overrideUndoRedo, setBoxIndex} = this.props.parent;\r\n\t\tlet {wordIndex, itemList, item, backgrounds, itemIndex, allItems, user, currentInfo,\r\n\t\t\tmode, boxIndex} = this.props.parent.state;\r\n\t\tlet {formatSong} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{position:'absolute', display:'flex', fontSize:'calc(10px + 1vw)'}}>\r\n\t\t\t\t<div style={{width:'14vw', overflowX:'hidden'}}>\r\n\t\t\t\t\t<ItemList setItemIndex={setItemIndex} setWordIndex={setWordIndex}\r\n\t\t\t\t\t\taddItem={addItem} itemList={itemList} allItems={allItems} duplicateItem={duplicateItem}\r\n\t\t\t\t\t\tdeleteItemFromList={deleteItemFromList} backgrounds={backgrounds}\r\n\t\t\t\t\t\tupdateItem={updateItem} insertItemIntoList={insertItemIntoList}\r\n\t\t\t\t\t\titemIndex={itemIndex} wordIndex={wordIndex} item={item}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{mode === 'edit' &&<div style={{width:'42.5vw', height:'23.9vw', marginLeft:'0.7vw'}}>\r\n\t\t\t\t\t\t<DisplayEditor wordIndex={wordIndex} backgrounds={backgrounds} overrideUndoRedo={overrideUndoRedo}\r\n\t\t\t\t\t\t\titem={item} updateItem={updateItem} width={'42.5vw'} height={'23.9vw'}\r\n\t\t\t\t\t\t\tboxIndex={boxIndex} setBoxIndex={setBoxIndex}/>\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t\t<div style={(mode === 'edit') ? {width:'43vw', marginLeft:'0.5vw', height: '40vh'}\r\n\t\t\t\t\t\t: {width:'43vw', marginLeft:'0.5vw', height: '92.5vh'}}>\r\n\t\t\t\t\t\t<ItemSlides setWordIndex={setWordIndex} wordIndex={wordIndex} boxIndex={boxIndex}\r\n\t\t\t\t\t\t\titem={item} updateItem={updateItem} setSlideBackground={setSlideBackground}\r\n\t\t\t\t\t\t\tbackgrounds={backgrounds} insertWords={insertWords} formatSong={formatSong}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{marginLeft:'1vw', position: 'relative'}}>\r\n\t\t\t\t\t<Backgrounds backgrounds={backgrounds} handleFileChange={handleFileChange} addMedia={addMedia}\r\n\t\t\t\t\t\tsetItemBackground={setItemBackground} user={user} updateCurrent={updateCurrent}\r\n\t\t\t\t\t\tsetSlideBackground={setSlideBackground} item={item} openUploader={openUploader} allItems={allItems}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<DisplayWindow backgrounds={backgrounds} slide={currentInfo ? currentInfo.slide : {}} width={'16vw'} title={'Presentation'}\r\n\t\t\t\t\t\ttitleSize=\"1.25vw\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import React, { Component }  from 'react';\r\nimport PouchDB from 'pouchdb';\r\n\r\nvar dbName = process.env.REACT_APP_DATABASE_STRING + \"portable-media-logins\"\r\nvar db = new PouchDB(dbName);\r\n\r\nexport default class Login extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      wrongCred: false,\r\n      isMobile: false\r\n    }\r\n  }\r\n\r\n  usernameChange = (event) => {\r\n    this.setState({username: event.target.value});\r\n  }\r\n\r\n  passwordChange = (event) => {\r\n    this.setState({password: event.target.value});\r\n  }\r\n\r\n  componentDidMount(){\r\n    if( navigator.userAgent.match(/Android/i)\r\n      || navigator.userAgent.match(/webOS/i)\r\n      || navigator.userAgent.match(/iPhone/i)\r\n      || navigator.userAgent.match(/iPod/i)\r\n      || navigator.userAgent.match(/BlackBerry/i)\r\n      || navigator.userAgent.match(/Windows Phone/i)\r\n    ){\r\n      this.setState({isMobile: true})\r\n    }\r\n  }\r\n\r\n  login = (event) => {\r\n\r\n    event.preventDefault();\r\n    let {username, password, isMobile} = this.state;\r\n    let that = this;\r\n    db.get('logins').then(function(doc){\r\n      let obj = doc.logins.find(e => e.username === username);\r\n      if(!obj)\r\n        that.setState({wrongCred: true})\r\n      else if (obj.password === password){\r\n        that.props.login(obj.database, obj.username, obj.upload_preset);\r\n        that.setState({wrongCred: false})\r\n        if(isMobile)\r\n          that.props.history.push(\"/mobile\");\r\n        else\r\n          that.props.history.push(\"/fullview\");\r\n      }\r\n      else{\r\n        that.setState({wrongCred: true})\r\n      }\r\n    })\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div style={{color:'black', backgroundColor:'#c4c4c4', width:'50vh', height: '25vh', margin: 'auto', marginTop: '32.5vh',\r\n        fontSize:'calc(12px + 1vh)'}}>\r\n          <form style={{width: '65%', margin: 'auto'}} onSubmit={this.login}>\r\n            <ul style={{width: ''}}>\r\n              <li style={{paddingTop: '2vh'}}>\r\n                <label > Username: </label>\r\n                <input type=\"text\" value={this.state.username} onChange={this.usernameChange} />\r\n              </li>\r\n              <li style={{paddingTop: '2vh'}}>\r\n                <label> Password:  </label>\r\n                <input type=\"password\" value={this.state.password} onChange={this.passwordChange} />\r\n              </li>\r\n              <li style={{paddingTop: '2vh', height: '5vh', display: 'flex'}}>\r\n                <input style={{fontSize:'calc(12px + 1vh)'}} type=\"submit\" value=\"Submit\" />\r\n                  {this.state.wrongCred &&\r\n                    <p style={{color:'#f70000', width: '40vw'}}>The username and password combination do not match</p>\r\n                  }\r\n              </li>\r\n            </ul>\r\n          </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export function getDateofNextDay(dayOfWeek){\r\n  let dayToNum = {Sunday: 0, Monday: 1, Tuesday: 2, Wednesday: 3, Thursday: 4, Friday: 5, Saturday: 6}\r\n  let serviceDay = dayToNum[dayOfWeek];\r\n  let options = {month: 'short', day: 'numeric', year: 'numeric'}\r\n\r\n  let date = new Date(Date.now());\r\n  if(serviceDay === undefined || serviceDay === null)\r\n    date.setDate(date.getDate());\r\n  else\r\n    date.setDate(date.getDate() + (7 + serviceDay - date.getDay()) % 7);\r\n  let dateString = date.toLocaleDateString(\"en-US\", options);\r\n  return dateString;\r\n}\r\n","import * as Sort from './Sort';\r\nimport * as DateFunctions from './DateFunctions';\r\nimport MakeUnique from './MakeUnique';\r\n\r\nlet updaterInterval = null;\r\n\r\nexport function addImages(props){\r\n\tlet {db, upload} = props;\r\n\tdb.get('images').then(function(doc){\r\n\t\tdoc.backgrounds = doc.backgrounds.concat(upload);\r\n\t\treturn db.put(doc);\r\n\t});\r\n}\r\n\r\nexport function addItem(props){\r\n\tlet {item} = props;\r\n\tlet {updateState, setItemIndex, addItemToList} = props.parent;\r\n\tlet {db, itemIndex} = props.parent.state;\r\n\r\n\tdb.get(item._id).then(function(doc){\r\n\t\tlet slides;\r\n\t\tif (doc.type === 'song')\r\n\t\t\tslides = doc.arrangements[item.selectedArrangement].slides;\r\n\t\telse\r\n\t\t\tslides = doc.slides;\r\n\t\tlet itemObj = {\r\n\t\t\t//Change box\r\n\t\t\t'name': doc.name,\r\n\t\t\t'_id': doc._id,\r\n\t\t\t'background': slides[0].boxes[0].background,\r\n\t\t\t'nameColor': slides[0].boxes[0].fontColor,\r\n\t\t\t'type': doc.type\r\n\t\t};\r\n\t\taddItemToList(itemObj);\r\n\t}).catch(function(){\r\n\r\n\t\tlet slides;\r\n\t\tif (item.type === 'song')\r\n\t\t\tslides = item.arrangements[item.selectedArrangement].slides;\r\n\t\telse\r\n\t\t\tslides = item.slides;\r\n\r\n\t\tlet itemObj = {\r\n\t\t\t'name': item.name,\r\n\t\t\t'_id': item._id,\r\n\t\t\t'background': item.background,\r\n\t\t\t'nameColor': slides[0].boxes[0].fontColor,\r\n\t\t\t'type': item.type\r\n\t\t};\r\n\t\taddItemToList(itemObj);\r\n\t\tdb.get('allItems').then(function (allItems) {\r\n\t\t\tallItems.items.push(itemObj);\r\n\t\t\tallItems.items = Sort.sortNamesInList(allItems.items);\r\n\t\t\tupdateState({allItems: allItems.items});\r\n\t\t\tdb.put(allItems);\r\n\t\t});\r\n\t\tdb.put(item).then(function(){\r\n\t\t\tupdateState({item: item});\r\n\t\t\tif(itemIndex < 0)\r\n\t\t\t\tsetItemIndex(0);\r\n\t\t\telse\r\n\t\t\t\tsetItemIndex(itemIndex +1);\r\n\t\t});\r\n\t});\r\n}\r\n\r\nexport function deleteItem(props){\r\n\tlet {name, index} = props;\r\n\tlet {updateState} = props.parent;\r\n\tlet {db, allItems, allItemLists, selectedItemList} = props.parent.state;\r\n\t//delete item\r\n\tdb.get(allItems[index]._id).then(function (doc) {\r\n\t\treturn db.remove(doc);\r\n\t});\r\n\tallItems.splice(index, 1);\r\n\tdb.get('allItems').then(function(doc){\r\n\t\tdoc.items = allItems;\r\n\t\tupdateState({allItems: doc.items});\r\n\t\treturn db.put(doc);\r\n\t});\r\n\r\n\t//delete item from each list\r\n\tfor(let i = 0; i < allItemLists.length; ++i){\r\n\t\tdb.get(allItemLists[i].id).then(function(doc){\r\n\t\t\tdoc.items = doc.items.filter(e => e.name !== name);\r\n\t\t\tif(selectedItemList.id === allItemLists[i].id){\r\n\t\t\t\tupdateState({itemList: doc.items });\r\n\t\t\t}\r\n\t\t\treturn db.put(doc);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function deleteItemFromList(props){\r\n\tlet {index} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {db, selectedItemList, itemList} = props.parent.state;\r\n\tdb.get(selectedItemList.id).then(function (doc) {\r\n\t\titemList.splice(index, 1);\r\n\t\tdoc.items = itemList;\r\n\t\tupdateHistory({type: 'update', itemList: itemList});\r\n\t\tupdateState({itemList: itemList});\r\n\t\treturn db.put(doc);\r\n\t});\r\n}\r\n\r\nexport function deleteItemList(props){\r\n\tlet {db, id, selectItemList, itemLists} = props;\r\n\tdb.get(id).then(function(doc){\r\n\t\treturn db.remove(doc);\r\n\t}).then(function(){\r\n\t\tif(itemLists.length > 0){\r\n\t\t\tselectItemList(itemLists[0].name);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function duplicateList(props){\r\n\tlet {id} = props;\r\n\tlet {updateState, selectItemList} = props.parent;\r\n\tlet {db, allItemLists, itemLists} = props.parent.state;\r\n\t\r\n\tlet lastID = allItemLists[allItemLists.length-1].id;\r\n\tlet newNumber = parseInt(lastID.split(' ')[2], 10) + 1;\r\n\tlet newID = 'Item List ' + newNumber;\r\n\tlet name = DateFunctions.getDateofNextDay('Saturday');\r\n\tname = MakeUnique({name: name, property: 'name', list: allItemLists});\r\n\tdb.get(id).then(function(doc){\r\n\t\tlet newListFull = {\r\n\t\t\tid: newID,\r\n\t\t\tname: name\r\n\t\t};\r\n\t\tlet newList = {\r\n\t\t\t'_id': newID,\r\n\t\t\titems: doc.items\r\n\t\t};\r\n\t\tdb.put(newList);\r\n\t\tallItemLists.push(newListFull);\r\n\t\tupdateAllItemLists({db: db, allItemLists: allItemLists});\r\n\t\titemLists.push(newListFull);\r\n\t\tupdateItemLists({db: db, itemLists: itemLists, selectedItemList:{name: name, id: id}}, updateState);\r\n\t\tupdateState({allItemLists: allItemLists, itemLists: itemLists, itemList: doc.items,\r\n\t\t\tselectedItemList:{name: name, id: id}});\r\n\t}).then(function(){\r\n\t\tselectItemList(name);\r\n\t});\r\n\r\n}\r\n\r\nexport function newList(props){\r\n\tlet {db, newList, selectItemList} = props;\r\n\tdb.get(newList.id).catch(function (err) {\r\n\t\tvar SL = {\r\n\t\t\t'_id': newList.id,\r\n\t\t\t'items' : []\r\n\t\t};\r\n\t\tdb.put(SL);\r\n\t}).then(function(){\r\n\t\tselectItemList(newList.name);\r\n\t});\r\n}\r\n\r\nexport function putInList(props){\r\n\tlet {itemObj} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {db, selectedItemList, itemIndex} = props.parent.state;\r\n\tdb.get(selectedItemList.id).then(function (doc) {\r\n\t\tdoc.items.splice(itemIndex+1, 0, itemObj);\r\n\t\tupdateHistory({type: 'update', itemList: doc.items});\r\n\t\tupdateState({itemList: doc.items});\r\n\t\tdb.put(doc);\r\n\t});\r\n}\r\n\r\nexport function updateAllItems(props, updateState){\r\n\tlet {db, allItems} = props;\r\n\t// console.log(\"Updating All Items\");\r\n\tdb.get('allItems').then(function (doc) {\r\n\t\tfor(let i = 0; i <doc.items.length; ++i){\r\n\t\t\tlet val = allItems.find(e => e.id === doc.items[i].id);\r\n\t\t\tif(!val)\r\n\t\t\t\tallItems.push(doc.items[i]);\r\n\t\t}\r\n\t\tif(doc.items.length !== allItems.length)\r\n\t\t\tupdateState({allItems: allItems});\r\n\t\tdoc.items = allItems;\r\n\t\tdb.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('update all items not working', error);\r\n\t});\r\n}\r\n\r\nexport function updateAllItemLists(props){\r\n\tlet {db, allItemLists} = props;\r\n\t// console.log(\"Updating All Item Lists\");\r\n\tdb.get('allItemLists').then(function (doc) {\r\n\t\tdoc.itemLists = allItemLists;\r\n\t\tif(doc.itemLists.length === 0){\r\n\t\t\tlet obj = {id: 'Item List 1', name: 'Item List 1'};\r\n\t\t\tdoc.itemLists.push(obj);\r\n\t\t\tnewList(obj);\r\n\t\t}\r\n\t\tdb.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('update all itemLists not working', error);\r\n\t});\r\n}\r\n\r\nexport function updateCurrent(props){\r\n\tlet {db} = props;\r\n\tlet {slide, time} = props.obj;\r\n\ttime-=1;\r\n\tfunction updateValues(doc) {\r\n\t\tdoc.info.slide = slide;\r\n\t\tdoc.info.time = time;\r\n\t\treturn doc;\r\n\t}\r\n\r\n\tdb.upsert('currentInfo', updateValues);\r\n}\r\n\r\nexport function updateImageList(props) {\r\n\tconst { db, index } = props;\r\n\tdb.get('images').then(function(doc){\r\n\t\tconst newBackgrounds = [...doc.backgrounds];\r\n\t\tnewBackgrounds.splice(index, 1);\r\n\t\tdoc.backgrounds = newBackgrounds;\r\n\t\treturn db.put(doc);\r\n\t});\r\n}\r\n\r\nexport function updateItem(props){\r\n\t// console.log(\"Updating Item\");\r\n\tlet {db, item} = props;\r\n\tdb.get(item._id).then(function (doc) {\r\n\t\tdoc.name = item.name;\r\n\t\tdoc.background = item.background;\r\n\t\tif(doc.type === 'timer'){\r\n\t\t\tdoc.hours = item.hours;\r\n\t\t\tdoc.minutes = item.minutes;\r\n\t\t\tdoc.seconds = item.seconds;\r\n\t\t}\r\n\t\tif(doc.type === 'song'){\r\n\t\t\tdoc.selectedArrangement = item.selectedArrangement;\r\n\t\t\tdoc.arrangements = item.arrangements;\r\n\t\t}\r\n\t\telse\r\n\t\t\tdoc.slides = item.slides;\r\n\t\tdoc.skipTitle = item.skipTitle;\r\n\t\treturn db.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('update item not working', error);\r\n\t});\r\n}\r\n\r\nexport function updateItemList(props, updateState){\r\n\tlet {db, selectedItemList, itemList} = props;\r\n\t// console.log(\"Updating ItemList\");\r\n\tdb.get(selectedItemList.id).then(function (doc) {\r\n\t\tfor(let i = 0; i <doc.items.length; ++i){\r\n\t\t\tlet val = itemList.find(e => e.id === doc.items[i].id);\r\n\t\t\tif(!val)\r\n\t\t\t\titemList.push(doc.items[i]);\r\n\t\t}\r\n\t\tdoc.items = itemList;\r\n\t\tif(doc.items.length !== itemList.length)\r\n\t\t\tupdateState({itemList: itemList});\r\n\t\tdb.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('update selectedItemList not working', error);\r\n\t});\r\n}\r\n\r\nexport function updateItemLists(props, updateState){\r\n\tlet {db, selectedItemList, itemLists} = props;\r\n\t// console.log(\"Updating Item Lists\");\r\n\tdb.get('ItemLists').then(function (doc) {\r\n\t\tif(doc.itemLists.length === 1 && itemLists.length===1){\r\n\t\t\tlet obj = doc.itemLists[0];\r\n\t\t\tdb.get(obj.id).then(function(doc2){\r\n\t\t\t\tupdateState({selectedItemList: obj, itemList: doc2.items});\r\n\t\t\t});\r\n\r\n\t\t}\r\n\t\tlet val = itemLists.find(e => e.id === selectedItemList.id);\r\n\t\tif(!val)\r\n\t\t\tupdateState({selectedItemList: {}, itemList: [], item:{}});\r\n\t\tdoc.itemLists = itemLists;\r\n\t\tdb.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('Update itemLists not working', error);\r\n\t});\r\n}\r\n\r\nexport function updateItemStructure(db){\r\n\tdb.get('allItems').then(function (doc) {\r\n\t\tlet items = doc.items;\r\n\t\tlet i = 0;\r\n\t\tclearInterval(updaterInterval);\r\n\t\tupdaterInterval = setInterval(function(){\r\n\t\t\tif(i < items.length){\r\n\t\t\t\tdb.get(items[i]._id).then(function(doc2){\r\n\t\t\t\t\tif(doc2.type === 'song'){\r\n\t\t\t\t\t\tfor (let j = 0; j < doc2.arrangements.length; ++j){\r\n\t\t\t\t\t\t\tlet temp = doc2.arrangements[j].slides;\r\n\t\t\t\t\t\t\tfor(let k = 0; k < temp.length; ++k){\r\n\t\t\t\t\t\t\t\tlet boxes = [];\r\n\t\t\t\t\t\t\t\tlet box1 = Object.assign({}, temp[k].boxes[0]);\r\n\t\t\t\t\t\t\t\tbox1.words = '';\r\n\t\t\t\t\t\t\t\tbox1.height = 100;\r\n\t\t\t\t\t\t\t\tbox1.width = 100;\r\n\t\t\t\t\t\t\t\tbox1.x = 0;\r\n\t\t\t\t\t\t\t\tbox1.y = 0;\r\n\t\t\t\t\t\t\t\tboxes.push(box1);\r\n\t\t\t\t\t\t\t\tlet box2 = Object.assign({}, temp[k].boxes[0]);\r\n\t\t\t\t\t\t\t\tbox2.background = '';\r\n\t\t\t\t\t\t\t\tbox2.brightness = 100;\r\n\t\t\t\t\t\t\t\tbox2.transparent = true;\r\n\t\t\t\t\t\t\t\tbox2.topMargin = 3;\r\n\t\t\t\t\t\t\t\tbox2.sideMargin = 4;\r\n\t\t\t\t\t\t\t\tboxes.push(box2);\r\n\t\t\t\t\t\t\t\tdoc2.arrangements[j].slides[k].boxes = boxes;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('Updated:', doc2.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(doc2.type === 'bible'){\r\n\t\t\t\t\t\tfor(let k = 0; k < doc2.slides.length; ++k){\r\n\t\t\t\t\t\t\tlet boxes = [];\r\n\t\t\t\t\t\t\tlet box1 = Object.assign({}, doc2.slides[k].boxes[0]);\r\n\t\t\t\t\t\t\tbox1.words = '';\r\n\t\t\t\t\t\t\tbox1.height = 100;\r\n\t\t\t\t\t\t\tbox1.width = 100;\r\n\t\t\t\t\t\t\tbox1.x = 0;\r\n\t\t\t\t\t\t\tbox1.y = 0;\r\n\t\t\t\t\t\t\tboxes.push(box1);\r\n\t\t\t\t\t\t\tlet box2 = Object.assign({}, doc2.slides[k].boxes[0]);\r\n\t\t\t\t\t\t\tbox2.background = '';\r\n\t\t\t\t\t\t\tbox2.brightness = 100;\r\n\t\t\t\t\t\t\tbox2.transparent = true;\r\n\t\t\t\t\t\t\tbox2.topMargin = 3;\r\n\t\t\t\t\t\t\tbox2.sideMargin = 4;\r\n\t\t\t\t\t\t\tboxes.push(box2);\r\n\t\t\t\t\t\t\tdoc2.slides[k].boxes = boxes;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('Updated:', doc2.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdb.put(doc2);\r\n\t\t\t\t});\r\n\t\t\t\t++i;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tclearInterval(updaterInterval);\r\n\t\t\t}\r\n\t\t}, 50);\r\n\r\n\t});\r\n}\r\n\r\nexport function updateUserSetting(props){\r\n\tlet {userSetting} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {db, userSettings} = props.parent.state;\r\n\tdb.get('userSettings').then(function(doc){\r\n\t\tdoc.settings[userSetting.type] = userSetting.obj;\r\n\t\tuserSettings[userSetting.type] = userSetting.obj;\r\n\t\tupdateHistory({type: 'update', userSettings: userSettings});\r\n\t\tupdateState({userSettings: userSettings});\r\n\t\tdb.put(doc);\r\n\t});\r\n}\r\n\r\nexport function updateUserSettings(props){\r\n\tlet {db, userSettings} = props;\r\n\tdb.get('userSettings').then(function (doc) {\r\n\t\tdoc.settings = userSettings;\r\n\t\treturn db.put(doc);\r\n\t}).catch(function(error){\r\n\t\tconsole.log('update userSettings not working', error);\r\n\t});\r\n}\r\n","\r\nexport function changes(props){\r\n\tlet {db, cloud, remoteDB} = props;\r\n\tlet {updateState, getTime} = props.parent;\r\n\tdb.changes({\r\n\t\tsince: 'now',\r\n\t\tlive: true,\r\n\t\tinclude_docs: true,\r\n\t\ttimeout: false\r\n\t}).on('change', function(change) {\r\n\t\tif(change.id === 'images'){\r\n\t\t\tretrieveImages({parent: props.parent, db: db, cloud: cloud});\r\n\t\t}\r\n\t\t// if(change.id === 'allItemLists'){\r\n\t\t//   updateState({allItemLists: change.doc.itemLists})\r\n\t\t// }\r\n\t\t// if(change.id === 'ItemLists'){\r\n\t\t//   updateState({itemLists: change.doc.itemLists})\r\n\t\t// }\r\n\t\tif(change.id === 'allItems'){\r\n\t\t\tupdateState({allItems: change.doc.items});\r\n\t\t}\r\n\t\t// if(change.id === getSelectedListId()){\r\n\t\t//   updateState({itemList: change.doc.items})\r\n\t\t// }\r\n\t\t// if(change.id === getItemId()){\r\n\t\t//   updateState({item: change.doc})\r\n\t\t// }\r\n\r\n\t});\r\n\t// let dbchanges = remoteDB.changes({\r\n\t// \tsince: 'now',\r\n\t// \tlive: true,\r\n\t// \tinclude_docs: true,\r\n\t// \ttimeout: false\r\n\t// }).on('change', function(change) {\r\n\t// \tif(change.id === 'currentInfo'){\r\n\t// \t\tif(getTime() < change.doc.info.time)\r\n\t// \t\t\tupdateState({currentInfo: change.doc.info});\r\n\t// \t}\r\n\t// }).on('error', function(){\r\n\t// \tdbchanges.cancel();\r\n\t// \tsetTimeout(function(){\r\n\t// \t\tchanges(props);\r\n\t// \t},2500);\r\n\t// });\r\n}\r\n\r\nexport function init(props){\r\n\tlet {db} = props;\r\n\tlet {updateState, getSuccess, getAttempted} = props.parent;\r\n\t// db.get('currentInfo').then(function(doc){\r\n\t// \tupdateState({currentInfo: doc.info});\r\n\t// \tgetSuccess('currentInfo');\r\n\t// }).catch(function(){\r\n\t// \tconsole.log('currentInfo not loaded');\r\n\t// }).then(function(){\r\n\t// \tgetAttempted('currentInfo');\r\n\t// });\r\n\tdb.get('ItemLists').then(function (doc) {\r\n\t\tif(doc.itemLists[0]){\r\n\t\t\tdb.get(doc.itemLists[0].id).then(function(doc2){\r\n\t\t\t\tgetSuccess('Item Lists');\r\n\t\t\t\tupdateState({itemList: doc2.items}); //actual list of items\r\n\t\t\t});\r\n\t\t\tupdateState({\r\n\t\t\t\titemLists: doc.itemLists,// list of item list names\r\n\t\t\t\tselectedItemList:{name: doc.itemLists[0].name, id: doc.itemLists[0].id}, //name of first item list\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tgetSuccess('Item Lists');\r\n\t\t}\r\n\t}).catch(function(){\r\n\t\tconsole.log('itemLists not loaded');\r\n\t}).then(function(){\r\n\t\tgetAttempted('Item Lists');\r\n\t});\r\n\tdb.get('allItemLists').then(function (doc) {\r\n\t\tupdateState({\r\n\t\t\tallItemLists: doc.itemLists,// list of item list names\r\n\t\t});\r\n\t\tgetSuccess('All Item Lists');\r\n\t}).catch(function(){\r\n\t\tconsole.log('itemLists not loaded');\r\n\t}).then(function(){\r\n\t\tgetAttempted('All Item Lists');\r\n\t});\r\n\tdb.get('allItems').then(function (doc) {\r\n\t\tupdateState({allItems: doc.items});\r\n\t\tgetSuccess('allItems');\r\n\t}).catch(function(){\r\n\t\tconsole.log('allItems not loaded');\r\n\t}).then(function(){\r\n\t\tgetAttempted('allItems');\r\n\t});\r\n\tdb.get('userSettings').then(function (doc) {\r\n\t\tupdateState({userSettings: doc.settings});\r\n\t\tgetSuccess('userSettings');\r\n\t}).catch(function(){\r\n\t\tconsole.log('user settings not loaded');\r\n\t}).then(function(){\r\n\t\tgetAttempted('userSettings');\r\n\t});\r\n}\r\n\r\nexport function getItem(props){\r\n\tlet {id, index, history, newItemIndex} = props;\r\n\tlet {updateState, setWordIndex, updateHistory, historyToState} = props.parent;\r\n\tlet {db} = props.parent.state;\r\n\tdb.get(id).then(function (doc) {\r\n\t\tif(!history)\r\n\t\t\tupdateHistory({type: 'update', item: doc, itemIndex: index});\r\n\t\tupdateState({item: doc});\r\n\t\tif(doc.skipTitle)\r\n\t\t\tsetWordIndex(1);\r\n\t\telse\r\n\t\t\tsetWordIndex(0);\r\n\t}).then(function(){\r\n\t\tif(history){\r\n\t\t\thistoryToState();\r\n\t\t\tupdateState({itemIndex: newItemIndex});\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nexport function retrieveImages(props){\r\n\tlet {db, cloud} = props;\r\n\tlet {updateState, getSuccess, getAttempted} = props.parent;\r\n\tlet backgrounds = [];\r\n\tdb.get('images').then(function(doc){\r\n\t\tfor (let i = 0; i < doc.backgrounds.length; i++) {\r\n\t\t\tlet element = doc.backgrounds[i];\r\n\t\t\tlet tag, imgData;\r\n\t\t\tlet type = element.type;\r\n\t\t\tif(element.url){\r\n\t\t\t\telement.url = element.url.substring(4);\r\n\t\t\t\telement.url = 'https' + element.url;\r\n\t\t\t}\r\n\t\t\t// console.log(element);\r\n\t\t\tif(type === 'video'){\r\n\t\t\t\ttag = element.url.substring(0,(element.url.lastIndexOf('.'))) + '.jpg';\r\n\t\t\t\tlet img = new Image();\r\n\t\t\t\timg.src = tag;\r\n\r\n\t\t\t\tlet video = document.createElement('video');\r\n\t\t\t\tvideo.setAttribute('src', element.url);\r\n\t\t\t\timgData = {\r\n\t\t\t\t\tname: element.name,\r\n\t\t\t\t\timage: img,\r\n\t\t\t\t\tcategory: element.category,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tvideo: video\r\n\t\t\t\t};\r\n\t\t\t\tvideo.preload = true;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttag = cloud.url(element.name);\r\n\t\t\t\tlet img = new Image();\r\n\t\t\t\timg.src = tag;\r\n\t\t\t\timgData = {\r\n\t\t\t\t\tname: element.name,\r\n\t\t\t\t\timage: img,\r\n\t\t\t\t\tcategory: element.category,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tbackgrounds.push(imgData);\r\n\t\t}\r\n\t\tgetSuccess('images');\r\n\t\tupdateState({backgrounds: backgrounds});\r\n\t}).catch(function(){\r\n\t\tconsole.log('images not loaded');\r\n\t}).then(function(){\r\n\t\tgetAttempted('images');\r\n\t});\r\n}\r\n\r\nexport function selectItemList(props){\r\n\tlet {selectedItemList, history} = props;\r\n\tlet {updateState, updateHistory, historyToState} = props.parent;\r\n\tlet {db} = props.parent.state;\r\n\tdb.get(selectedItemList.id).then(function(doc){\r\n\t\tif(!history)\r\n\t\t\tupdateHistory({type: 'update', itemList: doc.items, selectedItemList: selectedItemList});\r\n\t\tupdateState({itemList: doc.items, selectedItemList: selectedItemList});\r\n\t}).catch(function(){\r\n\t\tconsole.log('selectitemlist not loaded');\r\n\t}).then(function(){\r\n\t\tif(history){\r\n\t\t\thistoryToState();\r\n\t\t}\r\n\t});\r\n}\r\n","import * as SlideCreation from './SlideCreation';\r\n\r\nexport function formatSong(item) {\r\n\tlet newSlides = formatLyrics(item);\r\n\r\n\titem.arrangements[item.selectedArrangement].slides = newSlides;\r\n\r\n\tlet slides = item.arrangements[item.selectedArrangement].slides;\r\n\r\n\tlet formattedLyrics = item.arrangements[item.selectedArrangement].formattedLyrics;\r\n\tlet songOrder = item.arrangements[item.selectedArrangement].songOrder;\r\n\tfor (let i = 0; i < formattedLyrics.length; ++i) {\r\n\t\tlet type = formattedLyrics[i].name;\r\n\t\tlet counter = 0;\r\n\t\tlet songOrderCounter = 0;\r\n\t\tlet slideSpan = 0;\r\n\r\n\t\tfor (let j = 0; j < songOrder.length; j++) {\r\n\t\t\tif (type === songOrder[j]) ++songOrderCounter;\r\n\t\t}\r\n\t\tfor (let j = 0; j < slides.length; j++) {\r\n\t\t\tif (type === slides[j].type) ++counter;\r\n\t\t}\r\n\t\tif (songOrderCounter !== 0) {\r\n\t\t\tslideSpan = counter / songOrderCounter;\r\n\t\t} \r\n\t\telse slideSpan = counter;\r\n\t\tformattedLyrics[i].slideSpan = slideSpan;\r\n\t}\r\n\treturn item;\r\n}\r\n\r\nexport function formatLyrics(item) {\r\n\tlet slides = item.arrangements[item.selectedArrangement].slides || null;\r\n\r\n\tlet boxes = slides[0].boxes;\r\n\tlet lastSlide = slides.length - 1;\r\n\tlet lastBoxes = slides[lastSlide].boxes;\r\n\tlet newSlides = [\r\n\t\tSlideCreation.newSlide({\r\n\t\t\ttype: 'Title',\r\n\t\t\tboxes: slides[0].boxes,\r\n\t\t\twords: boxes[0].words,\r\n\t\t}),\r\n\t];\r\n\tlet songOrder = item.arrangements[item.selectedArrangement].songOrder;\r\n\tlet formattedLyrics = item.arrangements[item.selectedArrangement].formattedLyrics;\r\n\tlet fontSize = slides[1] ? slides[1].boxes[1].fontSize : 2.5;\r\n\r\n\tfor (let i = 0; i < songOrder.length; ++i) {\r\n\t\tlet lyrics = formattedLyrics.find((e) => e.name === songOrder[i]).words;\r\n\t\tnewSlides.push(...formatSection(lyrics, songOrder[i]));\r\n\t}\r\n\r\n\tfunction formatSection(lyrics, type) {\r\n\t\tlet lines = lyrics.split('\\n');\r\n\t\tlet fLyrics = [],\r\n\t\t\tcurrentBoxes = [],\r\n\t\t\tboxes = [];\r\n\t\tlet box = {};\r\n\t\t//lineContainer = {}\r\n\t\tlet maxLines = 0,\r\n\t\t\tlineHeight = 0,\r\n\t\t\tlineCounter = 0,\r\n\t\t\tcounter = 0;\r\n\t\tlet boxWords = '';\r\n\r\n\t\tfor (let i = 0; i < lines.length; ++i) {\r\n\t\t\tcounter = 0;\r\n\t\t\tlineCounter = 0;\r\n\t\t\tboxWords = '';\r\n\t\t\tboxes = [];\r\n\r\n\t\t\tif (slides[newSlides.length + fLyrics.length])\r\n\t\t\t\tcurrentBoxes = slides[newSlides.length + fLyrics.length].boxes;\r\n\t\t\telse currentBoxes = lastBoxes;\r\n\r\n\t\t\tfor (let j = 0; j < currentBoxes.length; ++j) {\r\n\t\t\t\t({ maxLines, lineHeight } = getMaxLines(\r\n\t\t\t\t\tfontSize,\r\n\t\t\t\t\tcurrentBoxes[1].height\r\n\t\t\t\t));\r\n\r\n\t\t\t\twhile (i + counter < lines.length && lineCounter < maxLines) {\r\n\t\t\t\t\tboxWords += lines[i + counter];\r\n\t\t\t\t\tif (i + counter < lines.length - 1) boxWords += '\\n';\r\n\r\n\t\t\t\t\tlet lineCount = getNumLines(\r\n\t\t\t\t\t\tlines[i + counter],\r\n\t\t\t\t\t\tfontSize,\r\n\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\tcurrentBoxes[1].width\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (lineCount === 0) lineCount = 1;\r\n\t\t\t\t\tlineCounter += lineCount;\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t\tbox = Object.assign({}, currentBoxes[j]);\r\n\t\t\t\tif (boxWords === '') boxWords = ' ';\r\n\t\t\t\tbox.words = boxWords;\r\n\t\t\t\tboxes.push(box);\r\n\t\t\t}\r\n\t\t\tboxes[0].words = ' ';\r\n\t\t\tboxes[1].excludeFromOverflow = false;\r\n\t\t\ti += counter - 1;\r\n\t\t\tfLyrics.push(\r\n\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tboxes: boxes,\r\n\t\t\t\t\tfontSize: fontSize,\r\n\t\t\t\t\tslideIndex: fLyrics.length,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn fLyrics;\r\n\t}\r\n\tnewSlides.push(SlideCreation.newSlide({ type: 'blank', box: lastBoxes[0] }));\r\n\treturn newSlides;\r\n}\r\n\r\nexport function formatBible(item, mode, verses, fit) {\r\n\tlet slides = item.slides;\r\n\tlet boxes = slides[0].boxes;\r\n\tlet newSlides = [\r\n\t\tSlideCreation.newSlide({\r\n\t\t\ttype: 'Title',\r\n\t\t\tfontSize: 4.5,\r\n\t\t\twords: boxes[1].words,\r\n\t\t\tbackground: boxes[0].background,\r\n\t\t\tbrightness: boxes[0].brightness,\r\n\t\t}),\r\n\t];\r\n\tif (verses) newSlides.push(...formatBibleVerses(verses, item, mode));\r\n\telse newSlides.push(...formatBibleVerses('', item, mode));\r\n\r\n\titem.slides = newSlides;\r\n\treturn item;\r\n}\r\n\r\nfunction formatBibleVerses(verses, item, mode) {\r\n\tlet slides = item.slides;\r\n\tlet currentSlide = slides[1];\r\n\t// let allBoxes = slides.flatMap(x => x.boxes);\r\n\t// let overflowBoxes = allBoxes.filter(e => !e.excludeFromOverflow)\r\n\tlet currentBoxes = currentSlide.boxes;\r\n\tlet { maxLines, lineHeight } = getMaxLines(\r\n\t\tcurrentBoxes[1].fontSize,\r\n\t\tcurrentBoxes[1].height\r\n\t);\r\n\tlet formattedVerses = [];\r\n\tlet slide = '';\r\n\tlet type = currentSlide.type;\r\n\tlet fitProcessing = true;\r\n\r\n\tif (mode === 'create') {\r\n\t\tfor (let i = 0; i < verses.length; ++i) {\r\n\t\t\tlet words = verses[i].text.split(' ');\r\n\t\t\tif (slide[slide.length - 1] === ' ')\r\n\t\t\t\tslide = slide.substring(0, slide.length - 1);\r\n\t\t\tslide += '{' + verses[i].verse + '}';\r\n\r\n\t\t\tfor (let j = 0; j < words.length; j++) {\r\n\t\t\t\tlet update = slide + words[j];\r\n\t\t\t\tif (\r\n\t\t\t\t\tgetNumLines(\r\n\t\t\t\t\t\tupdate,\r\n\t\t\t\t\t\tcurrentBoxes[1].fontSize,\r\n\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\tcurrentBoxes[1].width\r\n\t\t\t\t\t) <= maxLines\r\n\t\t\t\t)\r\n\t\t\t\t\tslide = update + ' ';\r\n\t\t\t\telse {\r\n\t\t\t\t\tslide = slide.replace(/\\s+/g, ' ').trim();\r\n\t\t\t\t\tformattedVerses.push(\r\n\t\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\t\ttype: 'Verse ' + verses[i].verse,\r\n\t\t\t\t\t\t\tboxes: currentBoxes,\r\n\t\t\t\t\t\t\twords: [0, slide],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t\tslide = words[j] + ' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tformattedVerses.push(\r\n\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\ttype: 'Verse ' + verses[i].verse,\r\n\t\t\t\t\tboxes: currentBoxes,\r\n\t\t\t\t\twords: [0, slide],\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tslide = ' ';\r\n\t\t}\r\n\t}\r\n\r\n\tif (mode === 'fit') {\r\n\t\twhile (fitProcessing) {\r\n\t\t\tverseLoop: for (let i = 0; i < verses.length; ++i) {\r\n\t\t\t\tlet words = verses[i].text.split(' ');\r\n\t\t\t\tif (slide[slide.length - 1] === ' ')\r\n\t\t\t\t\tslide = slide.substring(0, slide.length - 1);\r\n\t\t\t\tslide += '{' + verses[i].verse + '}';\r\n\r\n\t\t\t\tfor (let j = 0; j < words.length; j++) {\r\n\t\t\t\t\tlet update = slide + words[j];\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tgetNumLines(\r\n\t\t\t\t\t\t\tupdate,\r\n\t\t\t\t\t\t\tcurrentBoxes[1].fontSize,\r\n\t\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\t\tcurrentBoxes[1].width\r\n\t\t\t\t\t\t) <= maxLines\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\tslide = update + ' ';\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcurrentBoxes[1].fontSize = currentBoxes[1].fontSize - 0.1;\r\n\t\t\t\t\t\t({ maxLines, lineHeight } = getMaxLines(\r\n\t\t\t\t\t\t\tcurrentBoxes[1].fontSize,\r\n\t\t\t\t\t\t\tcurrentBoxes[1].height\r\n\t\t\t\t\t\t));\r\n\t\t\t\t\t\tformattedVerses = [];\r\n\t\t\t\t\t\tslide = '';\r\n\t\t\t\t\t\tbreak verseLoop;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tformattedVerses.push(\r\n\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\ttype: 'Verse ' + verses[i].verse,\r\n\t\t\t\t\t\tboxes: currentBoxes,\r\n\t\t\t\t\t\twords: [0, slide],\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tfitProcessing = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (mode === 'edit') {\r\n\t\tfor (let i = 1; i < slides.length; ++i) {\r\n\t\t\tcurrentSlide = slides[i];\r\n\t\t\tcurrentBoxes = currentSlide.boxes;\r\n\t\t\tlet words = currentBoxes[1].words.split(' ');\r\n\t\t\tif (type !== currentSlide.type) {\r\n\t\t\t\tslide = slide.replace(/\\s+/g, ' ').trim();\r\n\t\t\t\tformattedVerses.push(\r\n\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tboxes: currentBoxes,\r\n\t\t\t\t\t\twords: [0, slide],\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tslide = '';\r\n\t\t\t}\r\n\t\t\ttype = currentSlide.type;\r\n\t\t\t({ maxLines, lineHeight } = getMaxLines(\r\n\t\t\t\tcurrentBoxes[1].fontSize,\r\n\t\t\t\tcurrentBoxes[1].height\r\n\t\t\t));\r\n\r\n\t\t\tfor (let k = 0; k < words.length; k++) {\r\n\t\t\t\tlet update = slide + words[k];\r\n\t\t\t\tif (\r\n\t\t\t\t\tgetNumLines(\r\n\t\t\t\t\t\tupdate,\r\n\t\t\t\t\t\tcurrentBoxes[1].fontSize,\r\n\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\tcurrentBoxes[1].width\r\n\t\t\t\t\t) <= maxLines\r\n\t\t\t\t)\r\n\t\t\t\t\tslide = update + ' ';\r\n\t\t\t\telse {\r\n\t\t\t\t\tslide = slide.replace(/\\s+/g, ' ').trim();\r\n\t\t\t\t\tformattedVerses.push(\r\n\t\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\tboxes: currentBoxes,\r\n\t\t\t\t\t\t\twords: [0, slide],\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\t\tslide = words[k] + ' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tformattedVerses.push(\r\n\t\tSlideCreation.newSlide({\r\n\t\t\ttype: 'blank',\r\n\t\t\tboxes: currentBoxes,\r\n\t\t\twords: [0, ' '],\r\n\t\t})\r\n\t);\r\n\r\n\treturn formattedVerses;\r\n}\r\n\r\nexport function formatAnnouncements(props) {\r\n\tlet lines = props.text.split('\\n');\r\n\tlet { background, brightness } = props.slide.boxes[0];\r\n\tlet sections = [];\r\n\tlet currentSection = [];\r\n\tlet currentSectionNumber = -1;\r\n\tlet lineCounter = 0;\r\n\tlet box = props.slide.boxes[2];\r\n\tlet { lineHeight, maxLines } = getMaxLines(\r\n\t\tbox.fontSize,\r\n\t\tbox.height,\r\n\t\tbox.topMargin\r\n\t);\r\n\tconst filteredLines = [];\r\n\tfor (let j = 0; j < lines.length; ++j) {\r\n\r\n\t\t// eslint-disable-next-line no-irregular-whitespace\r\n\t\tconst cleanLine = lines[j].replace(/[^\\w\\s'\".?;:!&()-][\\t\\u200B-\\u200D\\uFEFF~]/g, '').replace(/\\s+/g, ' ');\r\n\t\tconst trimmed = cleanLine.trim();\r\n\r\n\t\tif (!/\\S/g.test(trimmed) || trimmed.length < 2) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tfilteredLines.push(cleanLine);\r\n\t}\r\n\tfor (let i = 0; i < filteredLines.length; ++i) {\r\n\t\tlet line = filteredLines[i];\r\n\r\n\t\tif (line.replace(/[_\\s]+/gm, '').trim() === '') {\r\n\t\t\tline = filteredLines[i + 1];\r\n\t\t\ti += 1;\r\n\t\t\tif (currentSection.length !== 0) sections.push(currentSection);\r\n\r\n\t\t\tcurrentSection = [];\r\n\t\t\tcurrentSection.push({ title: line });\r\n\t\t\tif (sections[currentSectionNumber]) {\r\n\t\t\t\tlet slideSpan = Math.ceil(lineCounter / maxLines);\r\n\t\t\t\tsections[currentSectionNumber][0].linesPerSlide = Math.ceil(\r\n\t\t\t\t\tlineCounter / slideSpan\r\n\t\t\t\t);\r\n\t\t\t\tlineCounter = 0;\r\n\t\t\t}\r\n\t\t\t++currentSectionNumber;\r\n\t\t} else {\r\n\t\t\tlet linesNum = getNumLines(\r\n\t\t\t\tline,\r\n\t\t\t\tbox.fontSize,\r\n\t\t\t\tlineHeight,\r\n\t\t\t\tbox.width,\r\n\t\t\t\tbox.sideMargin\r\n\t\t\t);\r\n\t\t\tif (!currentSection.length) {\r\n\t\t\t\tcurrentSection.push({ title: '' });\r\n\t\t\t\t++currentSectionNumber;\r\n\t\t\t}\r\n\t\t\tcurrentSection.push({ text: line, lines: linesNum });\r\n\t\t\tlineCounter += linesNum;\r\n\t\t}\r\n\t}\r\n\tif (currentSection.length !== 0) sections.push(currentSection);\r\n\tif (sections.length === 0) return null;\r\n\t\r\n\tlet slideSpan = Math.ceil(lineCounter / maxLines);\r\n\tsections[currentSectionNumber][0].linesPerSlide = Math.ceil(\r\n\t\tlineCounter / slideSpan\r\n\t);\r\n\tlet words;\r\n\tlet slides = [];\r\n\r\n\tfor (let i = 0; i < sections.length; ++i) {\r\n\t\tlet lineCounter = 0;\r\n\t\t// let linesPerSlide = sections[i][0].linesPerSlide;\r\n\t\tlet title = sections[i][0].title;\r\n\t\twords = '';\r\n\t\tfor (let j = 1; j < sections[i].length; ++j) {\r\n\t\t\tlet section = sections[i][j];\r\n\t\t\tlineCounter += section.lines;\r\n\t\t\tif (lineCounter <= maxLines) {\r\n\t\t\t\tif (section.lines <= 3 && section.text[section.text.length - 1] !== ':') {\r\n\t\t\t\t\tif (section.text.split(' ')[0].length < 21) \r\n\t\t\t\t\t\twords += ' ';\r\n\t\t\t\t\twords += section.text + '\\n';\r\n\t\t\t\t} else words += section.text + '\\n';\r\n\t\t\t} else if (section.lines > maxLines) {\r\n\t\t\t\tlet sectionMaxLines = Math.ceil(section.lines / Math.ceil(section.lines / maxLines)) + 1;\r\n\t\t\t\tlet sentences = section.text.match(/[^.!?]+[.!?]+/g);\r\n\t\t\t\tif (words !== '') words += '\\n';\r\n\t\t\t\tfor (let k = 0; k < sentences.length; ++k) {\r\n\t\t\t\t\tlet update = words + sentences[k];\r\n\t\t\t\t\tlet linesNum = getNumLines(\r\n\t\t\t\t\t\tupdate,\r\n\t\t\t\t\t\tbox.fontSize,\r\n\t\t\t\t\t\tlineHeight,\r\n\t\t\t\t\t\tbox.width,\r\n\t\t\t\t\t\tbox.sideMargin\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (linesNum <= sectionMaxLines) words = update;\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tslides.push(\r\n\t\t\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\t\t\ttype: 'Announcement',\r\n\t\t\t\t\t\t\t\twords: [title, words],\r\n\t\t\t\t\t\t\t\tbackground: background,\r\n\t\t\t\t\t\t\t\tbrightness: brightness,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\twords = sentences[k];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (lineCounter >= maxLines) {\r\n\t\t\t\tif (words !== '')\r\n\t\t\t\t\tslides.push(\r\n\t\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\t\ttype: 'Announcement',\r\n\t\t\t\t\t\t\twords: [title, words],\r\n\t\t\t\t\t\t\tbackground: background,\r\n\t\t\t\t\t\t\tbrightness: brightness,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\tif (section.lines <= 3) words = ' ' + section.text.trim() + '\\n';\r\n\t\t\t\telse words = section.text + '\\n';\r\n\t\t\t\tlineCounter = section.lines;\r\n\t\t\t} else if (lineCounter <= maxLines) {\r\n\t\t\t\tif (words !== '')\r\n\t\t\t\t\tslides.push(\r\n\t\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\t\ttype: 'Announcement',\r\n\t\t\t\t\t\t\twords: [title, words],\r\n\t\t\t\t\t\t\tbackground: background,\r\n\t\t\t\t\t\t\tbrightness: brightness,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t\tslides.push(\r\n\t\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\t\ttype: 'Announcement',\r\n\t\t\t\t\t\twords: [title, section.text],\r\n\t\t\t\t\t\tbackground: background,\r\n\t\t\t\t\t\tbrightness: brightness,\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t\tlineCounter = 0;\r\n\t\t\t\twords = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (lineCounter !== 0) {\r\n\t\t\tslides.push(\r\n\t\t\t\tSlideCreation.newSlide({\r\n\t\t\t\t\ttype: 'Announcement',\r\n\t\t\t\t\twords: [title, words],\r\n\t\t\t\t\tbackground: background,\r\n\t\t\t\t\tbrightness: brightness,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t\tlineCounter = 0;\r\n\t\t\twords = '';\r\n\t\t}\r\n\t}\r\n\t// console.log(slides);\r\n\treturn slides;\r\n}\r\n\r\nfunction getMaxLines(fontSize, height, topMarg) {\r\n\tfontSize = fontSize + 'vw';\r\n\tlet windowWidth = window.innerWidth;\r\n\tlet topMargin = 1 - (topMarg * 2) / 100 || .86;\r\n\r\n\tif (!height) height = 86;\r\n\telse height *= topMargin;\r\n\theight /= 100; // % -> decimal\r\n\theight = height * windowWidth * 0.239; //Height of Display Editor = 23.9vw\r\n\r\n\tlet singleSpan = document.createElement('singleSpan');\r\n\tsingleSpan.innerHTML = 'Only Line';\r\n\tsingleSpan.style.fontSize = fontSize;\r\n\tsingleSpan.style.fontFamily = 'Verdana';\r\n\tsingleSpan.style.position = 'fixed';\r\n\tdocument.body.appendChild(singleSpan);\r\n\tlet lineHeight = singleSpan.offsetHeight;\r\n\tdocument.body.removeChild(singleSpan);\r\n\r\n\tlet maxLines = Math.floor(height / lineHeight);\r\n\tlet obj = { maxLines: maxLines, lineHeight: lineHeight };\r\n\treturn obj;\r\n}\r\n\r\nfunction getNumLines(text, fontSize, lineHeight, width, sideMarg) {\r\n\tfontSize = fontSize + 'vw';\r\n\tlet windowWidth = window.innerWidth;\r\n\tlet sideMargin = 1 - (sideMarg * 2) / 100 || 0.9;\r\n\tif (!width) width = 90;\r\n\telse width *= sideMargin;\r\n\twidth /= 100;\r\n\twidth = width * windowWidth * 0.425; //Width of Display Editor = 42.5vw\r\n\r\n\tlet textSpan = document.createElement('textSpan');\r\n\ttextSpan.innerHTML = text;\r\n\ttextSpan.style.fontSize = fontSize;\r\n\ttextSpan.style.fontFamily = 'Verdana';\r\n\ttextSpan.style.whiteSpace = 'pre-wrap';\r\n\ttextSpan.style.width = width + 'px';\r\n\ttextSpan.style.position = 'fixed';\r\n\ttextSpan.style.wordBreak = 'break-word';\r\n\t// textSpan.style.zIndex = 10;\r\n\tdocument.body.appendChild(textSpan);\r\n\tlet textSpanHeight = textSpan.offsetHeight;\r\n\tdocument.body.removeChild(textSpan);\r\n\r\n\r\n\tlet lines = Math.floor(textSpanHeight / lineHeight);\r\n\treturn lines;\r\n}\r\n","let timer = null;\r\nlet countdown = null;\r\nexport function setSlideBackground(props){\r\n\tlet {background} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {item, wordIndex, allItems, itemList, itemIndex, needsUpdate} = props.parent.state;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tslides[wordIndex].boxes[0].background = background;\r\n\tlet index = allItems.findIndex(e => e.name === item.name);\r\n\tneedsUpdate.updateItem = true;\r\n\r\n\tif(wordIndex === 0){\r\n\t\titemList[itemIndex].background = background;\r\n\t\tallItems[index].background = background;\r\n\t\titem.background = background;\r\n\t\tneedsUpdate.updateAllItems = true;\r\n\t\tneedsUpdate.updateItemList = true;\r\n\t\tupdateHistory({type: 'update', item: item, itemList: itemList});\r\n\t\tupdateState({allItems: allItems, itemList: itemList, needsUpdate: needsUpdate});\r\n\t}\r\n\telse{\r\n\t\tupdateHistory({type: 'update', item: item});\r\n\t\tupdateState({ item: item, needsUpdate: needsUpdate});\r\n\t}\r\n\r\n}\r\n\r\nexport function setWordIndex(props){\r\n\tlet {index} = props;\r\n\tlet {updateState} = props.parent;\r\n\tlet {item, wordIndex} = props.parent.state;\r\n\tlet slides;\r\n\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides;\r\n\telse\r\n\t\tslides = item.slides;\r\n\r\n\tlet scrollTo = index;\r\n\r\n\tif(index > wordIndex && index+1 < slides.length)\r\n\t\tscrollTo+=1;\r\n\tif(index < wordIndex && index > 0){\r\n\t\tscrollTo-=1;\r\n\t}\r\n\r\n\tvar mElement = document.getElementById('MSlide'+scrollTo);\r\n\tvar element = document.getElementById('Slide'+scrollTo);\r\n\tif(mElement)\r\n\t\tmElement.scrollIntoView({behavior: 'instant', block: 'nearest', inline:'nearest'});\r\n\tif(element)\r\n\t\telement.scrollIntoView({behavior: 'instant', block: 'nearest', inline:'nearest'});\r\n\r\n\tconst slide = slides[index];\r\n\tlet lastBox;\r\n\tif(slide){\r\n\t\tlastBox = slide.boxes.length - 1;\r\n\t}\r\n\t\r\n\tupdateState({wordIndex: index, boxIndex: lastBox || 0});\r\n\tclearTimer();\r\n\tclearCountdown();\r\n\tupdateSlide(props);\r\n}\r\n\r\nexport function clearTimer(){\r\n\tclearTimeout(timer);\r\n}\r\nexport function clearCountdown(){\r\n\tclearInterval(countdown);\r\n}\r\nfunction updateSlide(props){\r\n\tlet {index} = props;\r\n\tlet {updateCurrent, setItemIndex} = props.parent;\r\n\tlet {item, freeze, itemIndex, itemList} = props.parent.state;\r\n\tlet slides;\r\n\tif(freeze){\r\n\t\tclearTimer();\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides;\r\n\telse\r\n\t\tslides = item.slides;\r\n\r\n\tupdateCurrent({slide: slides[index], isBible: item.type === 'bible', name: item.name, isAnnouncement: item.type === 'announcements'});\r\n\r\n\tif(item.type === 'announcements'){\r\n\t\tlet length = item.slides.length;\r\n\t\tif(!item.slides[index]){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet duration = item.slides[index].duration * 1000;\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tif(index < length-1) {\r\n\t\t\t\tprops.index++;\r\n\t\t\t\tupdateSlide(props);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tprops.index = 0;\r\n\t\t\t\tupdateSlide(props);\r\n\t\t\t}\r\n\t\t},duration);\r\n\r\n\t}\r\n\telse if (item.type === 'timer'){\r\n\t\tlet {hours, minutes, seconds} = item;\r\n\t\tlet hoursString = '0';\r\n\t\tlet minutesString = '0';\r\n\t\tlet secondsString = '0';\r\n\t\tcountdown = setInterval(() => {\r\n\t\t\tif(seconds === 0 && minutes === 0 && hours > 0){\r\n\t\t\t\tseconds = 59;\r\n\t\t\t\tminutes = 59;\r\n\t\t\t\t--hours;\r\n\t\t\t}\r\n\t\t\telse if(seconds === 0 && minutes > 0){\r\n\t\t\t\tseconds = 59;\r\n\t\t\t\t--minutes;\r\n\t\t\t}\r\n\t\t\telse if(seconds > 0)\r\n\t\t\t\t--seconds;\r\n\t\t\telse{\r\n\t\t\t\tclearCountdown();\r\n\t\t\t\tif(item.nextOnFinish && itemIndex < itemList.length-1)\r\n\t\t\t\t\tsetItemIndex(itemIndex+1);\r\n\t\t\t}\r\n\r\n\t\t\tif(hours >= 0 && hours <= 9)\r\n\t\t\t\thoursString = '0' + hours;\r\n\t\t\telse\r\n\t\t\t\thoursString = hours;\r\n\t\t\tif(minutes >= 0 && minutes <= 9)\r\n\t\t\t\tminutesString = '0' + minutes;\r\n\t\t\telse\r\n\t\t\t\tminutesString = minutes;\r\n\t\t\tif(seconds >= 0 && seconds <= 9)\r\n\t\t\t\tsecondsString = '0' + seconds;\r\n\t\t\telse\r\n\t\t\t\tsecondsString = seconds;\r\n\t\t\tlet words = `${hoursString}:${minutesString}:${secondsString}`;\r\n\t\t\tlet slide = JSON.parse(JSON.stringify(item.slides[index]));\r\n\t\t\tslide.boxes[1].words = words;\r\n\t\t\tupdateCurrent({slide: slide});\r\n\t\t},1000);\r\n\t}\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nexport default class Home extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      isMobile: false\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n    if( navigator.userAgent.match(/Android/i)\r\n      || navigator.userAgent.match(/webOS/i)\r\n      || navigator.userAgent.match(/iPhone/i)\r\n      || navigator.userAgent.match(/iPod/i)\r\n      || navigator.userAgent.match(/BlackBerry/i)\r\n      || navigator.userAgent.match(/Windows Phone/i)\r\n    ){\r\n      this.setState({isMobile: true})\r\n    }\r\n    this.props.history.push('/')\r\n  }\r\n\r\n\r\n\r\n\r\n  render(){\r\n\r\n    let {isMobile} = this.state;\r\n    let buttonStyle = {fontSize: \"calc(14px + 0.5vmax)\", margin:\"1vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.5vw'}\r\n\r\n    return(\r\n      <div style={{height:'95vh'}}>\r\n        <nav className=\"welcome\" style={{fontSize: \"calc(14px + 0.35vmax)\"}}>\r\n          <h1 style={{padding: '1%'}}>Welcome to Portable Media</h1>\r\n            <div className='disclaimer'>\r\n              This software is in Beta. Use Google Chrome for the best experience.\r\n            </div>\r\n            <div className='notesSection'>\r\n              <div className='notesHeader'>\r\n                Notes\r\n              </div>\r\n              <ul >\r\n                <li className='notes' >If videos are choppy or don't play,&nbsp;\r\n                  <a target=\"_blank\" rel=\"noopener noreferrer\"\r\n                    href=\"https://www.technize.net/google-chrome-disable-hardware-acceleration/\">disable hardware acceleration</a>\r\n                </li>\r\n                <li className='notes'>\r\n                  Undo may be buggy. Use with caution.\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          <ul style={{paddingLeft: '1%'}}>\r\n           {/* Link components are used for linking to other views */}\r\n            {!isMobile && <li><Link to=\"/fullview\"><button style={buttonStyle}>Controller</button></Link></li>}\r\n            {isMobile &&<li><Link to=\"/mobile\"><button style={buttonStyle}>Controller</button></Link></li>}\r\n            <li><Link to=\"/remotepresentation\"><button style={buttonStyle}>Remote Presentation</button></Link></li>\r\n            {/*<li><button style={{fontSize: \"calc(14px + 0.35vmax)\"}} onClick={this.start}>Start Bible</button></li>*/}\r\n            {/*<li><button style={{fontSize: \"calc(14px + 0.35vmax)\"}} onClick={this.test}>Test</button></li>*/}\r\n            {!this.props.isLoggedIn && <li><Link to=\"/login\"><button style={buttonStyle}>Login</button></Link></li>}\r\n            {this.props.isLoggedIn && <li><button style={buttonStyle} onClick={this.props.logout}>Logout</button></li>}\r\n          </ul>\r\n         </nav>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class MobileSlideInList extends React.Component{\r\n\r\n\r\n  render(){\r\n  let {slide, backgrounds, width, height, titleSize} = this.props;\r\n\r\n    return (\r\n      <DisplayWindow slide={slide} backgrounds={backgrounds}\r\n        width={width} height={height} title={slide.type} titleSize={titleSize}/>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport left from '../assets/left-arrow.png';\r\nimport right from '../assets/right-arrow.png';\r\nimport MobileSlideInList from './MobileSlideInList';\r\n\r\nexport default class MobileSlides extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state ={\r\n      slidesPerRow: 3\r\n    }\r\n  }\r\n\r\n  clickSlide = (index) => {\r\n    this.setWordIndex(index);\r\n    window.scrollTo(0,0);\r\n  }\r\n\r\n  setWordIndex = (index) => {\r\n    this.props.setWordIndex(index);\r\n  }\r\n\r\n  nextSlide = (index) => {\r\n    let {item} = this.props;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n    if(index < slides.length-1){\r\n        this.props.setWordIndex(index+1)\r\n    }\r\n\r\n  }\r\n\r\n  prevSlide = (index) => {\r\n    if(index > 0)\r\n      this.props.setWordIndex(index-1)\r\n  }\r\n\r\n  render() {\r\n    let {item, backgrounds, wordIndex, boxIndex} = this.props;\r\n    let {slidesPerRow} = this.state;\r\n    let slides;\r\n    if (item.type === 'song')\r\n      slides = item.arrangements[item.selectedArrangement].slides || null;\r\n    else\r\n      slides = item.slides || null;\r\n\r\n    let words = slides ? slides.map(({boxes}) => { \r\n      return boxes[boxIndex] ? boxes[boxIndex].words : ''\r\n    }) : null;\r\n    let row = [];\r\n    let fullArray = [];\r\n    let that = this;\r\n\r\n    if(!words)\r\n      return null;\r\n\r\n    if(words[0] === \"\")\r\n      words[0] = \" \"\r\n\r\n    for(var i = 0; i < words.length; i+=slidesPerRow){\r\n      for(var j = i; j < i+slidesPerRow; ++j){\r\n        if(words[j])\r\n          row.push(words[j]);\r\n      }\r\n      fullArray.push(row);\r\n      row = [];\r\n    }\r\n\r\n    let style\r\n    let widthNumber = 90/slidesPerRow;\r\n    let width = widthNumber + \"vw\";\r\n    let height = (widthNumber*.5625) + \"vw\";\r\n    let titleSize = 1.5+ 3/slidesPerRow + \"vw\";\r\n    //.5vw -> padding Top/Bot, .25vw -> border\r\n    let fullHeight = `calc(${height} + ${titleSize} + 1vw)`;\r\n    let slideWidth = 1/slidesPerRow*100 + '%';\r\n\r\n    let slideStyle = { border:'1vw', borderColor: '#383838', borderStyle:'solid',\r\n      width:width, height:fullHeight};\r\n    let slideSelectedStyle = {border:'1vw', borderColor: '#06d1d1', borderStyle:'solid',\r\n       width:width, height:fullHeight};\r\n\r\n    let ROWtest = fullArray.map((element, index) => {\r\n      let row = element.map(function (lyrics, i){\r\n\r\n        let selected = (index*slidesPerRow+i === wordIndex);\r\n        if(selected){\r\n          style = slideSelectedStyle;\r\n        }\r\n        if(!selected){\r\n          style = slideStyle;\r\n        }\r\n        return(\r\n          <div style={{display:'flex', width:slideWidth, userSelect:'none'}} key={i} id={\"MSlide\"+(index*slidesPerRow+i)}>\r\n            <div onClick={() => that.clickSlide(index*slidesPerRow+i)} style={style}>\r\n              <MobileSlideInList slide={slides[index*slidesPerRow+i]} backgrounds={backgrounds}\r\n                width={width} height={height} titleSize={titleSize}/>\r\n\r\n            </div>\r\n          </div>\r\n        );\r\n      })\r\n      return (\r\n        <div style={{display:'flex', paddingBottom:'0.5vh'}} key={index}> {row}</div>\r\n      );\r\n    })\r\n\r\n    return (\r\n      <div>\r\n      <div style={{ overflowY:'scroll', width: '100vw', height: \"32vh\"}}>{ROWtest}</div>\r\n      {words.length > 1 &&<div style={{ display:'flex', paddingTop:'1.5%'}}>\r\n        <button style={{width:'50vw', height:'20vh', backgroundColor:'#383838', userSelect:'none'}}>\r\n          <img style={{width:'45vw', height:'15vh', marginRight:'2vw'}}\r\n             onClick={() => that.prevSlide(wordIndex)}\r\n             alt=\"left\" src={left}\r\n            />\r\n        </button>\r\n        <button style={{width:'50vw', height:'20vh', backgroundColor:'#383838'}}>\r\n          <img style={{width:'45vw', height:'15vh', marginRight:'2vw'}}\r\n             onClick={() => that.nextSlide(wordIndex)}\r\n             alt=\"right\" src={right}\r\n            />\r\n        </button>\r\n      </div>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class MobileItemInList extends React.Component{\r\n\r\n\r\n\trender(){\r\n\t\tlet {name, backgrounds, background, nameColor, type, width, height} = this.props;\r\n\r\n\t\tlet words = name;\r\n\t\tif(type === 'image')\r\n\t\t\twords = '';\r\n\r\n\t\tlet style ={\r\n\t\t\tfontColor: nameColor,\r\n\t\t\tfontSize: 4.5\r\n\t\t};\r\n\r\n\t\tlet slide = {boxes: [{words: words, background: background, ...style}]};\r\n\r\n\t\treturn (\r\n\t\t\t<DisplayWindow slide={slide} backgrounds={backgrounds}\r\n\t\t\t\twidth={width} height={height} title={name} titleSize={'3vw'}/>\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import React from 'react';\r\nimport MobileItemInList from './MobileItemInList';\r\n\r\nexport default class MobileItemList extends React.Component{\r\n\r\n  render(){\r\n  let {itemList, backgrounds, itemIndex} = this.props;\r\n\r\n  let list = [];\r\n  for(var i = 0; i < itemList.length; ++i){\r\n    list.push(itemList[i]);\r\n  }\r\n\r\n  let width = \"36vw\";\r\n  let height = \"20.25vw\";\r\n  //.75vw -> fontSize, .1vw -> titleBorder, .25vw -> border\r\n  let fullHeight = `calc(${height} + 3vw + .1vw + .75vw)`\r\n\r\n  let SL = list.map((element, index) => {\r\n  return(\r\n    <div style={{display:'flex'}} key={index} id={\"MItem\"+index}>\r\n      <div style={(index === itemIndex) ? {border:'0.75vmax', borderColor: '#06d1d1', borderStyle:'solid',\r\n         width:width, height: fullHeight, marginTop:\"3%\"}\r\n       : {border:'0.75vmax', borderColor: '#383838', borderStyle:'solid',\r\n          width:width, height: fullHeight, marginTop:\"3%\"}}\r\n        onClick={() => this.props.setItemIndex(index)}\r\n        >\r\n        <MobileItemInList name={element.name} background={element.background} type={element.type}\r\n          nameColor = {element.nameColor} backgrounds={backgrounds} width={width} height={height}\r\n          />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n    return (\r\n      <div>\r\n        <div style={{ height:'75vh', width:'45vw', overflowY: 'scroll',\r\n          overflowX: 'hidden', marginLeft:'2vw'}}>{SL}</div>\r\n        <button style={{marginTop:'2vh', marginBottom:'1vh', marginLeft:'33vw', width:'30%', height:'4.5vh',\r\n          fontSize:'calc(8px + 0.75vmax)'}} onClick={this.props.close}>Close</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React, {Component} from 'react';\r\nimport DisplayEditor from '../Controller/DisplayEditor';\r\n\r\nexport default class MobileDisplay extends Component{\r\n\r\n\trender() {\r\n\r\n\t\tlet {wordIndex, item, backgrounds, updateItem, boxIndex, setBoxIndex} = this.props;\r\n\t\tlet slides;\r\n\t\tif (item.type === 'song')\r\n\t\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\t\telse\r\n\t\t\tslides = item.slides || null;\r\n\t\tlet slide = slides ? slides[wordIndex] : null;\r\n\t\tlet width = '100vw';\r\n\t\tlet height = '56.25vw';\r\n\r\n\t\tlet blankStyle = {width: width, height: height, background: 'black'};\r\n\t\tlet blankTextStyle = {color: 'white', textAlign: 'center',\r\n\t\t\tfontSize: '5vw', paddingTop: '15%'};\r\n\r\n\t\tif(!slide)\r\n\t\t\treturn (<div style={blankStyle}><div style={blankTextStyle}>No Item Selected</div></div>);\r\n\r\n\t\treturn (\r\n\t\t\t<DisplayEditor wordIndex={wordIndex} backgrounds={backgrounds}\r\n\t\t\t\titem={item} updateItem={updateItem} width={width} height={height}\r\n\t\t\t\tboxIndex={boxIndex} setBoxIndex={setBoxIndex}/>\r\n\t\t);\r\n\t}\r\n\r\n\r\n}\r\n","import React from 'react';\r\n\r\nexport default class MobileListChanger extends React.Component{\r\n\r\n  render(){\r\n  let {itemLists, selectItemList, selectedItemList} = this.props;\r\n\r\n  let listNameStyle = {border:'0.75vmax', borderColor: '#c4c4c4', borderStyle:'solid',\r\n     width:\"20vmax\", height:\"5vmax\", marginTop:\"3%\", padding: '5%'};\r\n  let selectedStyle = Object.assign({}, listNameStyle);\r\n  selectedStyle.borderColor = '#06d1d1';\r\n\r\n  let list = itemLists.map((element, index) => {\r\n  return(\r\n    <div style={{display:'flex'}} key={index} id={\"MItem\"+index}>\r\n      <div style={(selectedItemList.name === element.name) ?  selectedStyle : listNameStyle}\r\n        onClick={() => selectItemList(element.name)}>\r\n        {element.name}\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n    return (\r\n      <div>\r\n        <div style={{ height:'75vh', width:'20vw', marginLeft:'2vw', fontSize:'calc(8px + 0.75vmax)'}}>{list}</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MobileSlides from \"./MobileSlides\";\r\nimport MobileItemList from \"./MobileItemList\";\r\nimport MobileDisplay from \"./MobileDisplay\";\r\nimport MobileListChanger from \"./MobileListChanger\";\r\n// import MobileArrangeLyrics from './MobileArrangeLyrics';\r\n\r\nimport on from \"../assets/on.png\";\r\nimport off from \"../assets/off.png\";\r\n\r\nexport default class MobileView extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      itemSelectOpen: false,\r\n      menuOpen: false,\r\n      arrangeLyricsOpen: false\r\n    };\r\n  }\r\n\r\n  openArrangeLyrics = () => {\r\n    this.setState({ arrangeLyricsOpen: true });\r\n  };\r\n  closeArrangeLyrics = () => {\r\n    this.setState({ arrangeLyricsOpen: false });\r\n  };\r\n\r\n  openItemSelect = () => {\r\n    this.setState({ itemSelectOpen: true });\r\n  };\r\n  closeItemSelect = () => {\r\n    this.setState({ itemSelectOpen: false });\r\n  };\r\n  openMenu = () => {\r\n    this.setState({ menuOpen: true });\r\n  };\r\n  closeMenu = () => {\r\n    if (this.state.menuOpen === true) this.setState({ menuOpen: false });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      setItemIndex,\r\n      setWordIndex,\r\n      updateItem,\r\n      toggleFreeze,\r\n      selectItemList,\r\n      setBoxIndex,\r\n      logout\r\n    } = this.props.parent; //connectToReceiver,\r\n    let {\r\n      wordIndex,\r\n      itemList,\r\n      item,\r\n      backgrounds,\r\n      itemIndex,\r\n      freeze,\r\n      itemLists,\r\n      selectedItemList,\r\n      isLoggedIn,\r\n      boxIndex\r\n    } = this.props.parent.state;\r\n\r\n    let buttonLoggedIn = {\r\n      margin: \"auto\",\r\n      width: \"25vw\",\r\n      minWidth: \"18vw\",\r\n      backgroundColor: \"#383838\",\r\n      color: \"white\",\r\n      height: \"4.5vh\"\r\n    };\r\n    let menuItem = {\r\n      display: \"inline-block\",\r\n      height: \"5vh\",\r\n      width: \"95%\",\r\n      backgroundColor: \"#06d1d1\",\r\n      margin: \"10% 2.5%\",\r\n      fontSize: \"calc(8px + 0.75vw)\",\r\n      color: \"black\"\r\n    };\r\n\r\n    let menuStyle = {\r\n      backgroundColor: \"#383838\",\r\n      position: \"absolute\",\r\n      width: \"22vw\",\r\n      top: \"5.5vh\",\r\n      left: \"4.25vw\",\r\n      zIndex: 5\r\n    };\r\n    return (\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          overflow: \"hidden\",\r\n          height: \"100vh\",\r\n          backgroundColor: \"#383838\",\r\n          position: \"fixed\"\r\n        }}\r\n        onClick={this.closeMenu}\r\n      >\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"5vh\",\r\n            paddingTop: \"0.5vh\",\r\n            paddingBottom: \"0.5vh\",\r\n            backgroundColor: \"#06d1d1\",\r\n            display: \"flex\"\r\n          }}\r\n        >\r\n          <button style={buttonLoggedIn} onClick={this.openMenu}>\r\n            Menu\r\n          </button>\r\n          <div style={this.state.menuOpen ? menuStyle : { display: \"none\" }}>\r\n            <button\r\n              style={menuItem}\r\n              onClick={() => this.props.history.push(\"/\")}\r\n            >\r\n              Home\r\n            </button>\r\n            {!isLoggedIn && (\r\n              <Link to=\"/login\">\r\n                <button style={menuItem}>Login</button>\r\n              </Link>\r\n            )}\r\n            {isLoggedIn && (\r\n              <button style={menuItem} onClick={logout}>\r\n                Logout\r\n              </button>\r\n            )}\r\n          </div>\r\n          <button style={buttonLoggedIn} onClick={this.openItemSelect}>\r\n            Change Item\r\n          </button>\r\n          {freeze && (\r\n            <div style={{ display: \"flex\"}}>\r\n              <button style={buttonLoggedIn} onClick={toggleFreeze}>\r\n                Unfreeze\r\n              </button>\r\n              <img\r\n                style={{ width: \"12vw\", height: \"5.52vw\", margin: \"1vh 1vw\" }}\r\n                alt=\"off\"\r\n                src={off}\r\n              />\r\n            </div>\r\n          )}\r\n          {!freeze && (\r\n            <div style={{ display: \"flex\" }}>\r\n              <button style={buttonLoggedIn} onClick={toggleFreeze}>\r\n                Freeze\r\n              </button>\r\n              <img\r\n                style={{ width: \"12vw\", height: \"5.52vw\", margin: \"1vh 1vw\" }}\r\n                alt=\"on\"\r\n                src={on}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div style={{ display: \"block\", fontSize: \"calc(10px + 1vmax)\" }}>\r\n          <div style={{ width: \"100vw\", height: \"56.25vw\" }}>\r\n            <MobileDisplay\r\n              wordIndex={wordIndex}\r\n              backgrounds={backgrounds}\r\n              item={item}\r\n              updateItem={updateItem}\r\n              boxIndex={boxIndex} \r\n              setBoxIndex={setBoxIndex}\r\n            />\r\n          </div>\r\n          <div style={{ paddingTop: \"1.5%\", maxWidth: \"100%\" }}>\r\n            <MobileSlides\r\n              setWordIndex={setWordIndex}\r\n              wordIndex={wordIndex}\r\n              item={item}\r\n              updateItem={updateItem}\r\n              boxIndex={boxIndex}\r\n              backgrounds={backgrounds}\r\n            />\r\n          </div>\r\n        </div>\r\n        {this.state.itemSelectOpen && (\r\n          <div\r\n            style={{\r\n              position: \"fixed\",\r\n              top: 0,\r\n              left: 0,\r\n              height: \"100vh\",\r\n              zIndex: 4,\r\n              backgroundColor: \"rgba(62, 64, 66, 0.5)\",\r\n              width: \"100vw\"\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                position: \"fixed\",\r\n                display: \"flex\",\r\n                top: \"2vmax\",\r\n                left: \"13vw\",\r\n                zIndex: 5,\r\n                backgroundColor: \"#383838\",\r\n                width: \"70vw\",\r\n                maxWidth: \"100%\",\r\n                color: \"white\"\r\n              }}\r\n            >\r\n              <MobileListChanger\r\n                selectedItemList={selectedItemList}\r\n                selectItemList={selectItemList}\r\n                itemLists={itemLists}\r\n              />\r\n              <MobileItemList\r\n                setItemIndex={setItemIndex}\r\n                setWordIndex={setWordIndex}\r\n                itemList={itemList}\r\n                backgrounds={backgrounds}\r\n                updateItem={updateItem}\r\n                itemIndex={itemIndex}\r\n                close={this.closeItemSelect}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// {this.state.arrangeLyricsOpen &&\r\n//   <div style={{position:'fixed', top:0, left:0, height:'100vh',\r\n//      zIndex: 2, backgroundColor:'rgba(62, 64, 66, 0.5)', width:'100vw'}}>\r\n//     <div style={{position:'fixed', display:'flex', top:'1vh', left:'13vw',\r\n//        zIndex: 3, backgroundColor:'#383838', width:'80vw', color: 'white', height: '90vh'}}>\r\n//      <MobileArrangeLyrics item={item} close={this.closeArrangeLyrics}\r\n//        formatSong={this.props.formatSong} updateItem={updateItem}/>\r\n//     </div>\r\n// </div>}\r\n//\r\n","import React from \"react\";\r\nimport { ChromePicker } from \"react-color\";\r\nimport fsUP from \"../assets/fontSizeUP.png\";\r\nimport fsDOWN from \"../assets/fontSizeDOWN.png\";\r\nimport cPicker from \"../assets/color-picker.png\";\r\nimport cPickerClose from \"../assets/color-picker-close.png\";\r\nimport brightness_img from \"../assets/brightness.png\";\r\nimport skipTitle from \"../assets/skipTitle.png\";\r\nimport skipTitleOff from \"../assets/skipTitleOff.png\";\r\nimport Slider from \"rc-slider\";\r\nimport \"rc-slider/assets/index.css\";\r\n\r\nclass FormatEditor extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      cPickerOpen: false,\r\n      color: \"#FFFFFF\",\r\n      fontSize: 2,\r\n      updating: false,\r\n      brightness: 100\r\n    };\r\n\r\n    this.throttle = null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    let { item, wordIndex, boxIndex } = this.props;\r\n\r\n    if (\r\n      wordIndex !== prevProps.wordIndex ||\r\n      item._id !== prevProps.item._id ||\r\n      boxIndex !== prevProps.boxIndex\r\n    ) {\r\n      let slides;\r\n      if (item.type === \"song\")\r\n        slides = item.arrangements[item.selectedArrangement].slides || null;\r\n      else slides = item.slides || null;\r\n\r\n      let slide = slides ? slides[wordIndex] : null;\r\n      if (!slide) return;\r\n      if (slide.boxes[0].brightness !== undefined)\r\n        this.setState({ brightness: slide.boxes[0].brightness });\r\n      else {\r\n        this.setState({ brightness: 100 });\r\n      }\r\n      if (!slide.boxes[boxIndex] || !slide.boxes[boxIndex].fontSize) return;\r\n      this.setState({ fontSize: slide.boxes[boxIndex].fontSize });\r\n      let stringToRGB = slide.boxes[boxIndex].fontColor\r\n        .replace(/[^\\d,]/g, \"\")\r\n        .split(\",\");\r\n      this.setState({\r\n        color: {\r\n          r: stringToRGB[0],\r\n          g: stringToRGB[1],\r\n          b: stringToRGB[2],\r\n          a: stringToRGB[3]\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  openColors = () => {\r\n    this.setState({ cPickerOpen: true });\r\n  };\r\n\r\n  closeColors = () => {\r\n    this.setState({\r\n      cPickerOpen: false\r\n    });\r\n  };\r\n\r\n  changeBrightness = level => {\r\n    this.setState({ brightness: level });\r\n  };\r\n\r\n  colorChange = event => {\r\n    this.setState({ color: event.rgb });\r\n    this.props.updateFontColor(event.rgb);\r\n  };\r\n\r\n  updateFont = fontSize => {\r\n    if (fontSize > 10) {\r\n      fontSize = 10;\r\n    } else if (fontSize < 0.1) {\r\n      fontSize = 0.1;\r\n    }\r\n    fontSize = Math.round(fontSize * 10) / 10;\r\n    this.setState({ fontSize: fontSize, updating: false });\r\n    this.props.updateFontSize(fontSize);\r\n  };\r\n\r\n  fontSizeUP = () => {\r\n    let { fontSize } = this.state;\r\n    this.updateFont(fontSize + 0.1);\r\n  };\r\n\r\n  fontSizeDOWN = () => {\r\n    let { fontSize } = this.state;\r\n    this.updateFont(fontSize - 0.1);\r\n  };\r\n\r\n  fontSizeChange = event => {\r\n    let val;\r\n    let { updating } = this.state;\r\n    let that = this;\r\n    if (event.target.value.length === 0) {\r\n      this.setState({ fontSize: \"\" });\r\n      return;\r\n    }\r\n    val = parseInt(event.target.value, 10);\r\n    val /= 10;\r\n\r\n    if (val > 10) val = 10;\r\n\r\n    clearTimeout(this.throttle);\r\n    if (updating) {\r\n      this.throttle = setTimeout(function() {\r\n        let fontSize = that.state.fontSize;\r\n        that.updateFont(fontSize);\r\n      }, 100);\r\n    } else {\r\n      this.setState({ updating: true });\r\n      this.updateFont(val);\r\n    }\r\n  };\r\n\r\n  updateSkipTitle = () => {\r\n    if (this.props.item.skipTitle) this.props.updateSkipTitle(false);\r\n    else this.props.updateSkipTitle(true);\r\n  };\r\n\r\n  updateNextOnFinish = () => {\r\n    if (this.props.item.nextOnFinish) this.props.updateNextOnFinish(false);\r\n    else this.props.updateNextOnFinish(true);\r\n  };\r\n\r\n  render() {\r\n    let { cPickerOpen, fontSize, brightness } = this.state;\r\n    let sliderStyle = { width: \"5vw\", margin: \".5vw 1vw\" };\r\n    let { item } = this.props;\r\n    let showSkipTitle = false;\r\n    if (item.type === \"song\")\r\n      if (item.arrangements[item.selectedArrangement].slides.length > 1)\r\n        showSkipTitle = true;\r\n\r\n    return (\r\n      <div>\r\n        <div style={{ display: \"flex\" }}>\r\n          <img\r\n            className=\"imgButton\"\r\n            style={\r\n              !cPickerOpen\r\n                ? {\r\n                    marginRight: \"1vw\",\r\n                    fontSize: \"calc(8px + 0.4vw)\",\r\n                    width: \"1.5vw\",\r\n                    height: \"1.5vw\"\r\n                  }\r\n                : { display: \"none\" }\r\n            }\r\n            alt=\"cPicker\"\r\n            src={cPicker}\r\n            onClick={this.openColors}\r\n          />\r\n          <img\r\n            className=\"imgButton\"\r\n            style={\r\n              !cPickerOpen\r\n                ? { display: \"none\" }\r\n                : {\r\n                    marginRight: \"1vw\",\r\n                    fontSize: \"calc(8px + 0.4vw)\",\r\n                    width: \"1.5vw\",\r\n                    height: \"1.5vw\"\r\n                  }\r\n            }\r\n            alt=\"cPickerClose\"\r\n            src={cPickerClose}\r\n            onClick={this.closeColors}\r\n          />\r\n          {cPickerOpen && (\r\n            <div\r\n              style={{\r\n                position: \"absolute\",\r\n                zIndex: 5,\r\n                top: \"5vh\",\r\n                backgroundColor: \"#EEE\",\r\n                padding: \"5px\"\r\n              }}\r\n            >\r\n              <ChromePicker\r\n                color={this.state.color}\r\n                onChange={this.colorChange}\r\n              />\r\n            </div>\r\n          )}\r\n          <input\r\n            style={{\r\n              width: \"1.25vw\",\r\n              height: \"1.25vw\",\r\n              textAlign: \"center\",\r\n              marginRight: \"1vw\",\r\n              fontSize: \"calc(7px + 0.25vw)\"\r\n            }}\r\n            value={String(fontSize * 10)}\r\n            onChange={this.fontSizeChange}\r\n          />\r\n          <img\r\n            className=\"imgButton\"\r\n            style={{ width: \"1.25vw\", height: \"1.25vw\", marginRight: \"1vw\" }}\r\n            onClick={this.fontSizeUP}\r\n            alt=\"fsUP\"\r\n            src={fsUP}\r\n          />\r\n          <img\r\n            className=\"imgButton\"\r\n            style={{ width: \"1.25vw\", height: \"1.25vw\", marginRight: \"1vw\" }}\r\n            onClick={this.fontSizeDOWN}\r\n            alt=\"fsDOWN\"\r\n            src={fsDOWN}\r\n          />\r\n          <img\r\n            style={{ marginTop: \".25vw\", width: \"1.5vw\", height: \"1.5vw\" }}\r\n            alt=\"brightness\"\r\n            src={brightness_img}\r\n          />\r\n          <Slider\r\n            style={sliderStyle}\r\n            min={1}\r\n            value={brightness}\r\n            onChange={this.changeBrightness}\r\n            onAfterChange={() => this.props.updateBrightness(brightness)}\r\n          />\r\n        </div>\r\n        <div style={{ display: \"flex\" }}>\r\n          {showSkipTitle && (\r\n            <div\r\n              onClick={this.updateSkipTitle}\r\n              className=\"imgButton\"\r\n              style={{\r\n                fontSize: \"calc(5px + 0.35vw)\",\r\n                height: \"5vh\",\r\n                marginRight: \"0.5vw\"\r\n              }}\r\n            >\r\n              {item.skipTitle && (\r\n                <img\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"1.25vw\",\r\n                    height: \"1.25vw\",\r\n                    margin: \"auto\",\r\n                    padding: \"0.25vh 0.25vw\"\r\n                  }}\r\n                  alt=\"skipTitle\"\r\n                  src={skipTitle}\r\n                />\r\n              )}\r\n              {!item.skipTitle && (\r\n                <img\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"1.25vw\",\r\n                    height: \"1.25vw\",\r\n                    margin: \"auto\",\r\n                    padding: \"0.25vh 0.25vw\"\r\n                  }}\r\n                  alt=\"skipTitleOff\"\r\n                  src={skipTitleOff}\r\n                />\r\n              )}\r\n              <div>Skip Title</div>\r\n            </div>\r\n          )}\r\n          {item.type === \"timer\" && (\r\n            <div\r\n              onClick={this.updateNextOnFinish}\r\n              className=\"imgButton\"\r\n              style={{\r\n                fontSize: \"calc(5px + 0.35vw)\",\r\n                height: \"5vh\",\r\n                marginRight: \"0.5vw\"\r\n              }}\r\n            >\r\n              {item.nextOnFinish && (\r\n                <img\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"1.25vw\",\r\n                    height: \"1.25vw\",\r\n                    margin: \"auto\",\r\n                    padding: \"0.25vh 0.25vw\"\r\n                  }}\r\n                  alt=\"skipTitle\"\r\n                  src={skipTitle}\r\n                />\r\n              )}\r\n              {!item.nextOnFinish && (\r\n                <img\r\n                  style={{\r\n                    display: \"block\",\r\n                    width: \"1.25vw\",\r\n                    height: \"1.25vw\",\r\n                    margin: \"auto\",\r\n                    padding: \"0.25vh 0.25vw\"\r\n                  }}\r\n                  alt=\"skipTitleOff\"\r\n                  src={skipTitleOff}\r\n                />\r\n              )}\r\n              <div>Next On Finish</div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FormatEditor;\r\n","import React from 'react'\r\n\r\nconst DeleteConfirmation = function(props) {\r\n  let {name} = props;\r\n  let message = \"Are you sure you want to delete?\"\r\n  let miniMessage = \"This cannot be undone and will clear your undo history\";\r\n\r\n  let style = { position:'absolute', top:'45%', width:'100vw', right:0, backgroundColor:'#2f3133',\r\n    zIndex: 10, color:'#FFF'\r\n  }\r\n\r\n  let buttonStyle = {fontSize: \"calc(10px + 0.7vmax)\", margin:\"auto\", backgroundColor:'#383838',\r\n     border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.25vw',\r\n     width: '9vw'}\r\n\r\n  let wordStyle = {width:\"50%\", margin:'auto', textAlign:'center'}\r\n  let nameStyle = Object.assign({}, wordStyle);\r\n  nameStyle.fontSize = '1.25vmax';\r\n  let messageStyle = Object.assign({}, wordStyle);\r\n  messageStyle.fontSize = '1vmax'\r\n  let miniStyle = Object.assign({}, wordStyle);\r\n  miniStyle.fontSize = '0.75vmax';\r\n  miniStyle.color = '#f0f986'\r\n\r\n  return(\r\n    <div style={style}>\r\n      <div style={nameStyle}>{name}</div>\r\n      <div style={messageStyle}>{message}</div>\r\n      <div style={miniStyle} >{miniMessage}</div>\r\n      <div style={{width:\"20%\", margin:'auto', textAlign:'center', display:'flex'}}>\r\n        <button style={buttonStyle} onClick={props.confirm}>Delete</button>\r\n        <button style={buttonStyle} onClick={props.cancel}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n\r\n}\r\nexport default DeleteConfirmation\r\n","import React, {Component} from 'react'\r\nimport deleteX from '../assets/deleteX.png';\r\nimport edit from '../assets/edit.png';\r\nimport add from '../assets/addItem.png';\r\nimport check from '../assets/check.png';\r\nimport cancel from '../assets/cancel-icon.png';\r\nimport bookmark from '../assets/bookmark.png';\r\nimport closeIcon from '../assets/closeIcon.png'\r\nimport DeleteConfirmation from '../DeleteConfirmation'\r\nimport * as DateFunctions from '../HelperFunctions/DateFunctions'\r\nimport MakeUnique from '../HelperFunctions/MakeUnique';\r\n\r\n\r\nexport default class ItemListEditor extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n\r\n    this.state = {\r\n      selectedIndex: -1,\r\n      name: '',\r\n      deleteOverlay: false,\r\n      deleteIndex: -1,\r\n      ailsSearch: '',\r\n      ilsSearch: '',\r\n      message: {msg: '', index: -1},\r\n    }\r\n\r\n    this.messageDisplay = null;\r\n  }\r\n\r\n  addToList = (id) => {\r\n    let {itemLists, allItemLists, needsUpdate} = this.props;\r\n    let index = allItemLists.findIndex(e => e.id === id);\r\n    let name = allItemLists[index].name;\r\n    let val = itemLists.find(e => e.id === allItemLists[index].id);\r\n    if(val){\r\n      let mes = {msg: val.name + ' has already been added', index: index}\r\n      this.setState({message: mes});\r\n      let that = this;\r\n      clearTimeout(this.messageDisplay)\r\n      this.messageDisplay = setTimeout(function(){\r\n        let rmes = {msg: '', index: -1}\r\n        that.setState({message: rmes})\r\n      }, 3000)\r\n      return;\r\n    }\r\n    let obj = {\r\n      id: id,\r\n      name: name\r\n    }\r\n    itemLists.push(obj)\r\n    needsUpdate.updateItemLists = true;\r\n    this.props.updateState({itemLists: itemLists, selectedItemList: obj})\r\n    this.props.selectItemList(name)\r\n  }\r\n\r\n  cancel = () => {\r\n    this.setState({\r\n      selectedIndex: -1,\r\n      name: '',\r\n      deleteOverlay: false,\r\n      deleteIndex: -1\r\n    })\r\n  }\r\n\r\n  confirm = (id, e) => {\r\n    if(e)\r\n      e.preventDefault()\r\n    let {name} = this.state;\r\n    let {itemLists, allItemLists, needsUpdate} = this.props;\r\n    let index = itemLists.findIndex(e => e.id === id)\r\n    let indexAll = allItemLists.findIndex(e => e.id === id)\r\n    name = MakeUnique({name: name, property: 'name', list: allItemLists, id: allItemLists[indexAll].id});\r\n    itemLists[index].name = name;\r\n    allItemLists[indexAll].name = name;\r\n    needsUpdate.updateItemLists = true;\r\n    needsUpdate.updateAllItemLists = true;\r\n    this.props.updateState({ itemLists: itemLists, allItemLists: allItemLists, needsUpdate: needsUpdate})\r\n    this.setState({selectedIndex: -1, name: ''})\r\n  }\r\n\r\n  deleteList = (type, id) => {\r\n    let {itemLists, allItemLists, needsUpdate} = this.props;\r\n    let {deleteIndex} = this.state;\r\n    if(type==='one'){\r\n      let index = itemLists.findIndex(e => e.id === id)\r\n      itemLists.splice(index, 1);\r\n      if(itemLists.length > 0)\r\n        this.props.selectItemList(itemLists[0].name)\r\n      needsUpdate.updateItemLists = true;\r\n      this.props.updateState({itemLists: itemLists, needsUpdate: needsUpdate})\r\n    }\r\n    if(type==='all'){\r\n      let id = allItemLists[deleteIndex].id\r\n      let index = itemLists.findIndex(e => e.id === id)\r\n      this.props.deleteItemList(id)\r\n      allItemLists.splice(deleteIndex, 1);\r\n      if(index !== -1){\r\n        itemLists.splice(index, 1);\r\n      }\r\n      needsUpdate.updateItemLists = true;\r\n      needsUpdate.updateAllItemLists = true;\r\n      this.props.updateState({itemLists: itemLists, allItemLists: allItemLists, needsUpdate: needsUpdate})\r\n      this.setState({deleteOverlay: false})\r\n    }\r\n\r\n  }\r\n\r\n  duplicateOutline = () => {\r\n    let {allItemLists} = this.props;\r\n    let index = allItemLists.findIndex(e => e.outline === true)\r\n    if(index !== -1)\r\n      this.props.duplicateList(allItemLists[index].id)\r\n    else\r\n      this.newItemList();\r\n  }\r\n\r\n  edit = (index, name) => {\r\n    this.setState({\r\n      selectedIndex: index,\r\n      name: name\r\n    })\r\n  }\r\n\r\n  editName = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  newItemList = () => {\r\n    let {itemLists, allItemLists, needsUpdate} = this.props;\r\n    let newID;\r\n    let name = DateFunctions.getDateofNextDay('Saturday');\r\n    let newNumber = 1;\r\n    if(allItemLists.length) {\r\n      let id = allItemLists[allItemLists.length-1].id;\r\n      newNumber = parseInt(id.split(' ')[2], 10) + 1;\r\n      name = MakeUnique({name: name, property: 'name', list: allItemLists});\r\n    }\r\n    \r\n    newID = \"Item List \" + newNumber;\r\n    let newList = {id: newID, name: name};\r\n\r\n    itemLists.push(newList);\r\n    allItemLists.push(newList);\r\n    needsUpdate.updateItemLists = true;\r\n    needsUpdate.updateAllItemLists = true;\r\n    this.props.updateState({itemLists: itemLists, allItemLists: allItemLists, needsUpdate: needsUpdate})\r\n    this.props.newItemList(newList);\r\n  }\r\n\r\n  openConfirmation = (name, id) => {\r\n    let index = this.props.allItemLists.findIndex(e => e.id === id)\r\n    this.setState({\r\n      deleteOverlay: true,\r\n      name: name,\r\n      deleteIndex: index\r\n    })\r\n  }\r\n\r\n  setAsOutline = (id) => {\r\n    let {itemLists, allItemLists, needsUpdate} = this.props;\r\n    for(let i = 0; i < itemLists.length; ++i){\r\n        if(itemLists[i].id === id)\r\n          itemLists[i].outline = true;\r\n        else\r\n          itemLists[i].outline = false;\r\n    }\r\n    for(let i = 0; i < allItemLists.length; ++i){\r\n        if(allItemLists[i].id === id)\r\n          allItemLists[i].outline = true;\r\n        else\r\n          allItemLists[i].outline = false;\r\n    }\r\n    needsUpdate.updateItemLists = true;\r\n    needsUpdate.updateAllItemLists = true;\r\n    this.props.updateState({itemLists: itemLists, allItemLists: allItemLists, needsUpdate: needsUpdate})\r\n  }\r\n\r\n  updateAilsSearch = (event) => {\r\n    this.setState({ailsSearch: event.target.value})\r\n  }\r\n\r\n  updateIlsSearch = (event) => {\r\n    this.setState({ilsSearch: event.target.value})\r\n  }\r\n\r\n  render(){\r\n\r\n    let {itemLists, allItemLists} = this.props;\r\n    // console.log('itemLists', itemLists);\r\n    // console.log('allItemLists', allItemLists);\r\n    let {selectedIndex, name, deleteOverlay, ailsSearch, ilsSearch, message} = this.state;\r\n\r\n    let outlineName = 'Service Outline'\r\n    let index = allItemLists.findIndex(e => e.outline === true)\r\n    if(index !== -1)\r\n      outlineName = allItemLists[index].name;\r\n    if(outlineName.length > 18){\r\n      outlineName = outlineName.substring(0, 19);\r\n      outlineName+=\"...\";\r\n    }\r\n\r\n    let imageButtonStyle={\r\n      display:'block', margin:\"0% 1% 0% 1%\",width:'1.5vw', height:'1.5vw'\r\n    }\r\n\r\n    let itemStyle = {display:'flex', marginBottom: '0.15vh', border:'0.075vw', borderColor: '#383838',\r\n    borderStyle: 'solid', borderRadius: '0.25vw', padding: '0.35vmax'};\r\n    let outlineStyle = Object.assign({}, itemStyle);\r\n    outlineStyle.borderColor = 'yellow';\r\n\r\n    let filteredILS = [], filteredAILS = [];\r\n    if(ilsSearch.length > 0){\r\n      filteredILS = itemLists.filter(ele => ele.name.toLowerCase().includes(ilsSearch.toLowerCase()))\r\n    }\r\n    else{\r\n      filteredILS = itemLists.slice(0);\r\n    }\r\n    if(ailsSearch.length > 0){\r\n      filteredAILS = allItemLists.filter(ele => ele.name.toLowerCase().includes(ailsSearch.toLowerCase()))\r\n    }\r\n    else{\r\n      filteredAILS = allItemLists.slice(0);\r\n    }\r\n\r\n    let ils = filteredILS.map((item, index) => {\r\n\r\n      let selected = (selectedIndex === index);\r\n\r\n      return(\r\n        <div style={item.outline ? outlineStyle: itemStyle} key={index}>\r\n          {!selected && <div style={{width: '70%'}}>{item.name}</div>}\r\n          {selected &&\r\n            <form style={{width: '70%', margin:\"0% 1% 0% 1%\"}} onSubmit={(e) => (this.confirm(item.id, e))}>\r\n            <input style={{width: '100%'}} onChange={this.editName} value={name}/>\r\n            </form>\r\n          }\r\n          {(!selected && !item.outline) && <img className='imgButton' style={imageButtonStyle}\r\n             onClick={() => this.setAsOutline(item.id)}\r\n             alt=\"bookmark\" src={bookmark}\r\n             />}\r\n          {!selected && <img className='imgButton' style={imageButtonStyle}\r\n           onClick={() => this.edit(index, item.name)}\r\n           alt=\"edit\" src={edit}\r\n           />}\r\n           {!selected && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.deleteList('one', item.id)}\r\n            alt=\"delete\" src={deleteX}\r\n            />}\r\n           {selected && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.confirm(item.id)}\r\n            alt=\"check\" src={check}\r\n            />}\r\n           {selected && <img className='imgButton' style={imageButtonStyle}\r\n            onClick={() => this.cancel()}\r\n            alt=\"cancel\" src={cancel}\r\n            />}\r\n        </div>\r\n      )\r\n    })\r\n\r\n    let ails = filteredAILS.map((item, index) => {\r\n      return(\r\n        <div key={item.name}>\r\n          <div style={item.outline ? outlineStyle: itemStyle}>\r\n            <div style={{width: '70%'}}>{item.name}</div>\r\n            {!item.outline &&<img className='imgButton' style={imageButtonStyle}\r\n              onClick={() => this.setAsOutline(item.id)}\r\n              alt=\"bookmark\" src={bookmark}\r\n              />}\r\n            <img className='imgButton' style={imageButtonStyle}\r\n             onClick={() => this.addToList(item.id)}\r\n             alt=\"add\" src={add}\r\n             />\r\n           <img className='imgButton' style={imageButtonStyle}\r\n               onClick={() => this.openConfirmation(item.name, item.id)}\r\n               alt=\"delete\" src={deleteX}\r\n               />\r\n          </div>\r\n          {(message.msg.length > 0 && message.index === index) &&\r\n            <div style={{color: '#f98b66', fontSize:\"calc(7.5px + 0.35vw)\"}}>{message.msg}</div>}\r\n        </div>\r\n      )\r\n    })\r\n\r\n    let style={\r\n      position:'absolute',    zIndex:6,     left:'25%',     top:'15%',\r\n      backgroundColor: '#383838',           boxShadow: '0 5px 10px rgb(0, 0, 0)',\r\n      border: '0.1vw solid white',          borderRadius: '1vw',\r\n      padding: 10,            height: '45vh',               width: '45vw',\r\n      color: 'white'\r\n    }\r\n\r\n    let buttonStyle = {fontSize: \"calc(7px + 0.4vw)\", margin:\"1vh 0.25vw\", backgroundColor:'#383838',\r\n       border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white', padding:'0.25vw',\r\n       width: '9vw', display: 'flex', justifyContent: 'center', alignItems: 'center'}\r\n\r\n    let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n       zIndex: 5, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n\r\n    return(\r\n      <div style={windowBackground}>\r\n        <div style={style}>\r\n          <div style={{display:'flex'}}>\r\n            <div style={{width:'21vw', height: '40vh'}}>\r\n              <div style={{fontSize:'1.5vw'}}>Loaded Item Lists</div>\r\n              <input type='text' value={ilsSearch} onChange={this.updateIlsSearch}\r\n                style={{width:'95%', padding:'1%'}}/>\r\n              <div style={{paddingTop: '5%', fontSize:'1.15vw', height: '75%', overflowX: 'hidden'}}>{ils}</div>\r\n            </div>\r\n            <div style={{width:'21vw', height: '40vh', marginLeft:'1vw'}}>\r\n              <div style={{fontSize:'1.5vw'}}>All Item Lists</div>\r\n              <input type='text' value={ailsSearch} onChange={this.updateAilsSearch}\r\n                style={{width:'95%', padding:'1%'}}/>\r\n              <div style={{paddingTop: '5%', fontSize:'1.15vw', height: '75%', overflowX: 'hidden'}}>{ails}</div>\r\n            </div>\r\n            <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw',\r\n              padding: '0.25vh 0.25vw', position: 'absolute', right: '1vw'}}\r\n               alt=\"closeIcon\" src={closeIcon}\r\n              onClick={this.props.close}\r\n              />\r\n          </div>\r\n          <div>\r\n            <div>\r\n            <button style={{...buttonStyle, float:'left'}} onClick={this.duplicateOutline}>\r\n              <div>New</div>\r\n              <div style={{fontSize: 'calc(5px + 0.3vw)', marginLeft: '0.15vw'}}>\r\n                ({outlineName})</div>\r\n            </button>\r\n            <button style={{...buttonStyle, float:'left'}} onClick={this.newItemList}>\r\n              <div>New</div>\r\n              <div style={{fontSize: 'calc(5px + 0.3vw)', marginLeft: '0.15vw'}}>\r\n                (Blank)</div>\r\n            </button>\r\n             </div>\r\n          </div>\r\n        </div>\r\n        {deleteOverlay &&\r\n          <div style={{position:'fixed', top:0, left:0, height:'100vh', width:'100vw',\r\n             zIndex: 9, backgroundColor:'rgba(62, 64, 66, 0.5)'}}>\r\n             <DeleteConfirmation confirm={() => this.deleteList('all')}\r\n               cancel={this.cancel} name={name}  />\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport blank from '../assets/blank.png';\r\nimport brightness_img from '../assets/brightness.png';\r\nimport closeIcon from '../assets/closeIcon.png'\r\nimport deleteX from '../assets/deleteX.png';\r\nimport Slider from 'rc-slider';\r\n\r\nexport default class UserSettings extends React.Component{\r\n\r\n  constructor () {\r\n    super();\r\n\r\n    this.state = {\r\n      selectedSetting: 'defaultBibleBackground',\r\n      brightness: 100,\r\n      showDelete: false\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    let {userSettings} = this.props.state;\r\n    let brightness = userSettings.defaultBibleBackground ? userSettings.defaultBibleBackground.brightness : 100;\r\n    this.setState({brightness: brightness})\r\n  }\r\n\r\n  changeBrightness = (brightness) => {\r\n    this.setState({brightness: brightness})\r\n  }\r\n\r\n  changeSetting = (background) => {\r\n    let {selectedSetting, brightness} = this.state;\r\n    let obj = {type: selectedSetting, settings: {brightness: brightness, name: background}}\r\n    this.props.updateUserSetting(obj)\r\n  }\r\n  updateBrightness = (brightness) => {\r\n    let {userSettings} = this.props.state;\r\n    let {selectedSetting} = this.state;\r\n    let background = userSettings[selectedSetting].name;\r\n    let obj = {type: selectedSetting, settings: {brightness: brightness, name: background}}\r\n    this.props.updateUserSetting(obj)\r\n  }\r\n\r\n  getBackgroundStyle(setting){\r\n    let {backgrounds} = this.props.state;\r\n    let img = blank, asset;\r\n    if(backgrounds.some(e => e.name === setting.name)){\r\n      asset = backgrounds.find(e => e.name === setting.name);\r\n      img = asset.image.src;\r\n    }\r\n\r\n    let level = \"100%\";\r\n    if(setting.brightness)\r\n      level = setting.brightness+\"%\"\r\n\r\n    let backgroundStyle= {backgroundImage: 'url('+img+')', backgroundSize: '100% 100%',\r\n      filter: `brightness(${level})`, width: '4vw', height: '2.25vw', marginRight: '0.25vw'}\r\n\r\n    return backgroundStyle;\r\n  }\r\n\r\n\r\n  render(){\r\n    let { selectedSetting, brightness, showDelete } = this.state;\r\n    let {backgrounds, userSettings} = this.props.state;\r\n\r\n    let settingObjs = [\r\n      {name: 'defaultBibleBackground', type: 'Bible'},\r\n      {name: 'defaultSongBackground', type: 'Song'},\r\n      {name: 'defaultScreenBackground', type: 'Default'},\r\n      {name: 'defaultWelcomeBackground', type: 'Welcome'},\r\n      {name: 'defaultFarewellBackground', type: 'Farewell'},\r\n      {name: 'defaultAnnouncementsBackground', type: 'Announcements'},\r\n      {name: 'defaultTimerBackground', type: 'Timer'}\r\n    ]\r\n\r\n    let fullArray= [], row = []\r\n    let numCols = 8;\r\n    let style={\r\n      position:'absolute',    zIndex:6,                   left:'8%',\r\n      top:'10%',              backgroundColor: '#383838', border: '0.1vw solid white',\r\n      boxShadow: '0 5px 10px rgb(0, 0, 0)',               borderRadius: '1vw',\r\n      padding: 10,            width: '82vw',              height: '75vh',\r\n      color: 'white'\r\n    }\r\n\r\n    let backgroundTableStyle = {\r\n        overflowY: 'scroll',    height: '65vh',\r\n        background: '#383838',  marginTop: '1vh',   border: '0.25vw solid #c4c4c4',\r\n        position:'relative',    marginLeft: '2vw'\r\n    }\r\n\r\n    let buttonStyle = {\r\n      fontSize: \"calc(8px + 0.6vw)\", margin:'0.25%', width:'11vw', backgroundColor:'#383838',\r\n          borderRadius:'0.5vw', color: 'white', overflow: 'hidden',\r\n          borderWidth: '0.2vw', borderStyle: 'solid', borderColor: '#06d1d1'\r\n    }\r\n\r\n    let itemStyle = {\r\n        border:'0.25vw',   borderColor: '#383838',    borderStyle:'solid',\r\n        height: '3vmax',   width: '5.33vmax',         padding: '.1vmax'\r\n      }\r\n\r\n    let sectionWords = {\r\n      marginRight: '0.25vw', fontSize: \"0.75vw\", width: '6vw'\r\n    }\r\n\r\n    let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n      zIndex: 5, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n\r\n    let sliderStyle = {width: '5vw', margin: '.5vw 1vw'}\r\n\r\n    let sectionStyle = {display: 'flex', border: '2px solid #606060', height: '5vh',\r\n       marginTop: '8px', padding:'3px'}\r\n    let selectedSectionStyle = Object.assign({}, sectionStyle);\r\n    selectedSectionStyle.border = '2px solid #4286f4'\r\n\r\n    for(var i = 0; i < backgrounds.length; i+=numCols){\r\n      for(var j = i; j < i+numCols; ++j){\r\n        if(backgrounds[j])\r\n          row.push(backgrounds[j]);\r\n      }\r\n      fullArray.push(row);\r\n      row = [];\r\n    }\r\n\r\n    let that = this;\r\n    let BCKS = fullArray.map((element, index) => {\r\n      let row = element.map(function (pic, i){\r\n        return(\r\n          <div key={index*numCols+i + pic.name} style={{ display: 'flex', border: '1px solid gray', padding: '2px', margin: '2px'}}>\r\n            <img className='imgButton' onClick={ () => that.changeSetting(pic.name)}\r\n              style={itemStyle} alt={pic.name} src={pic.image.src}/>\r\n            {showDelete && <img className='imgButton' style={{marginTop:'12px', width:'1.5vw', height:'1.5vw'}}\r\n              onClick={ () => that.props.updateImageList(index*numCols+i)}\r\n              alt=\"delete\" src={deleteX}/> }\r\n          </div>\r\n        )\r\n      })\r\n      return (\r\n        <div style={{display:'flex', paddingBottom:'0.5vh', paddingRight: '0.5vw'}} key={index}> {row}</div>\r\n      );\r\n    })\r\n\r\n    let settings = settingObjs.map((element, index) => {\r\n      let loadedSetting = userSettings[element.name] || ''\r\n      let style = this.getBackgroundStyle(loadedSetting)\r\n      return(\r\n        <div onClick={ () => this.setState({\r\n            selectedSetting: element.name,\r\n            brightness: userSettings[element.name] ? userSettings[element.name].brightness : 100\r\n            })}\r\n            style={selectedSetting === element.name ? selectedSectionStyle : sectionStyle}\r\n            key={element.name}\r\n          >\r\n          <div style={sectionWords}>{element.type}</div>\r\n          <div style={style}></div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n      return (\r\n        <div style={windowBackground}>\r\n          <div style={style}>\r\n            <div style={{display: 'flex'}}>\r\n              <img style={{marginLeft:'1vw', marginTop:'.25vw', width:'1.5vw', height:'1.5vw'}}\r\n                  alt=\"brightness\" src={brightness_img}\r\n                  />\r\n                <Slider style={sliderStyle} min={1} value={brightness} onChange={this.changeBrightness}\r\n                onAfterChange={() => this.updateBrightness(brightness)}/>\r\n                <button onClick={() => this.setState({ showDelete: !this.state.showDelete })} style={buttonStyle}>Show Delete</button>\r\n                <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw',\r\n                  padding: '0.25vh 0.25vw', position: 'absolute', right: '1vw'}}\r\n                   alt=\"closeIcon\" src={closeIcon}\r\n                  onClick={this.props.close}\r\n                  />\r\n            </div>\r\n            <div style={{display: 'flex'}}>\r\n              <div>\r\n                {settings}\r\n              </div>\r\n              <div style={backgroundTableStyle}>{BCKS}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport textbox_full from '../assets/textbox_full.png';\r\nimport textbox_leftHalf from '../assets/textbox_leftHalf.png';\r\nimport textbox_lowerThird from '../assets/textbox_lowerThird.png';\r\nimport textbox_match from '../assets/textbox_match.png';\r\nimport textbox_midThird from '../assets/textbox_midThird.png';\r\nimport textbox_rightHalf from '../assets/textbox_rightHalf.png';\r\nimport textbox_upperThird from '../assets/textbox_upperThird.png';\r\n\r\nexport default class TextBoxEditor extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      applyAll: false,\r\n    }\r\n  }\r\n\r\n  textboxFull = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 0, y: 0, width: 100, height: 100, applyAll: applyAll})\r\n  }\r\n\r\n  textboxLeftHalf = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 0, y: 0, width: 54.5, height: 100, applyAll: applyAll})\r\n  }\r\n\r\n  textboxRightHalf = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 45.5, y: 0, width: 54.5, height: 100, applyAll: applyAll})\r\n  }\r\n\r\n  textboxMatch = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({applyAll: applyAll, match:true})\r\n  }\r\n\r\n  textboxLowerThird = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 0, y: 62, width: 100, height: 37.5, applyAll: applyAll})\r\n  }\r\n\r\n  textboxMidThird = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 0, y: 31.5, width: 100, height: 37.5, applyAll: applyAll})\r\n  }\r\n\r\n  textboxUpperThird = () => {\r\n    let {applyAll} = this.state;\r\n    this.props.updateBoxPosition({x: 0, y: 0, width: 100, height: 37.5, applyAll: applyAll})\r\n  }\r\n\r\n  applyAll = () => {\r\n    this.setState({applyAll: true})\r\n  }\r\n\r\n  applySelected = () => {\r\n    this.setState({applyAll: false})\r\n  }\r\n\r\n  render(){\r\n\r\n    return(\r\n      <div style={{display: 'flex'}}>\r\n        <div style={{width:'14vw'}}>\r\n          <div style={{display:'flex'}}>\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_full\" src={textbox_full} onClick={this.textboxFull}\r\n              />\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_leftHalf\" src={textbox_leftHalf} onClick={this.textboxLeftHalf}\r\n              />\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_rightHalf\" src={textbox_rightHalf} onClick={this.textboxRightHalf}\r\n              />\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_match\" src={textbox_match} onClick={this.textboxMatch}\r\n              />\r\n          </div>\r\n          <div style={{display:'flex'}}>\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_lowerThird\" src={textbox_lowerThird} onClick={this.textboxLowerThird}\r\n              />\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_midThird\" src={textbox_midThird} onClick={this.textboxMidThird}\r\n              />\r\n            <img className='imgButton' style={{ margin:'1%', width:'2.5vw', height:'1.41vw'}}\r\n               alt=\"textbox_upperThird\" src={textbox_upperThird} onClick={this.textboxUpperThird}\r\n              />\r\n          </div>\r\n        </div>\r\n        <div style={{width:'8vw'}}>\r\n          <div style={{fontSize: \"calc(5px + 0.35vw)\", marginBottom: '3%'}} onClick={this.applyAll}>\r\n            <input style={{width: '0.75vw'}} type=\"checkbox\" readOnly checked={this.state.applyAll}/>\r\n            Apply To All\r\n          </div>\r\n          <div style={{fontSize: \"calc(5px + 0.35vw)\"}} onClick={this.applySelected}>\r\n            <input style={{width: '0.75vw'}} type=\"checkbox\" readOnly checked={!this.state.applyAll}/>\r\n            Apply Selected\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport blank from '../assets/blank.png';\r\n\r\nimport on from '../assets/on.png';\r\nimport off from '../assets/off.png';\r\n\r\nexport default class ProjectorControl extends Component {\r\n\r\n  getBackgroundStyle(setting){\r\n    let {backgrounds} = this.props;\r\n    let img = blank, asset;\r\n    if(backgrounds.some(e => e.name === setting.name)){\r\n      asset = backgrounds.find(e => e.name === setting.name);\r\n      img = asset.image.src;\r\n    }\r\n\r\n    let level = \"100%\";\r\n    if(setting.brightness)\r\n      level = setting.brightness+\"%\"\r\n\r\n    let backgroundStyle= {backgroundImage: 'url('+img+')', backgroundSize: '100% 100%',\r\n      filter: `brightness(${level})`, width: '3vw', height: '1.69vw'}\r\n\r\n    return backgroundStyle;\r\n  }\r\n\r\n  render(){\r\n\r\n    let {toggleFreeze, freeze, userSettings, updateCurrent} = this.props;\r\n    let defaultScreenBackground = userSettings.defaultScreenBackground || {};\r\n    let defaultWelcomeBackground = userSettings.defaultWelcomeBackground || {};\r\n    let defaultFarewellBackground = userSettings.defaultFarewellBackground || {};\r\n\r\n    let buttonStyle = {\r\n       fontSize: \"calc(5px + 0.35vw)\", margin:'.25vw', width:'6vw', height: '2.5vh',\r\n       border: '0.15vw solid #474747'\r\n    }\r\n\r\n    let blankBackgroundStyle = this.getBackgroundStyle('');\r\n    let screenBackgroundStyle = this.getBackgroundStyle(defaultScreenBackground);\r\n    let welcomeBackgroundStyle = this.getBackgroundStyle(defaultWelcomeBackground);\r\n    let farewellBackgroundStyle = this.getBackgroundStyle(defaultFarewellBackground);\r\n\r\n    return(\r\n      <div>\r\n        {freeze && <div style={{display:'flex', margin: 'auto', width: '70%'}}>\r\n         <div>\r\n           <button style={buttonStyle} onClick={toggleFreeze}>Unfreeze</button>\r\n         </div>\r\n          <img style={{paddingTop:'0.35vh', width:'2.75vw', height:'1.25vw'}}\r\n             alt=\"off\" src={off}\r\n            />\r\n          </div>\r\n        }\r\n        {!freeze && <div style={{display:'flex', margin: 'auto', width: '70%'}}>\r\n        <div>\r\n          <button style={buttonStyle} onClick={toggleFreeze}>Freeze</button>\r\n        </div>\r\n          <img style={{paddingTop:'0.35vh', width:'2.75vw', height:'1.25vw'}}\r\n             alt=\"on\" src={on}\r\n            />\r\n          </div>\r\n        }\r\n        <div style={{display: 'flex', marginTop: '1vh'}}>\r\n          <div className='imgButton' style={{marginRight: '0.5vw'}}>\r\n            <div onClick={ () => {updateCurrent({image: '', displayDirect: true})}}\r\n              style={blankBackgroundStyle}></div>\r\n            <div style={{fontSize: 'calc(5px + 0.25vw)', textAlign: 'center'}}>Black</div>\r\n          </div>\r\n          <div className='imgButton' style={{marginRight: '0.5vw'}}>\r\n            <div onClick={ () => {updateCurrent({image: defaultScreenBackground.name, displayDirect: true})}}\r\n              style={screenBackgroundStyle}></div>\r\n            <div style={{fontSize: 'calc(5px + 0.25vw)', textAlign: 'center'}}>Default</div>\r\n          </div>\r\n          <div className='imgButton' style={{marginRight: '0.5vw'}}>\r\n            <div onClick={ () => {updateCurrent({image: defaultWelcomeBackground.name, displayDirect: true})}}\r\n              style={welcomeBackgroundStyle}></div>\r\n            <div style={{fontSize: 'calc(5px + 0.25vw)', textAlign: 'center'}}>Welcome</div>\r\n          </div>\r\n          <div className='imgButton' style={{marginRight: '0.5vw'}}>\r\n            <div onClick={ () => {updateCurrent({image: defaultFarewellBackground.name, displayDirect: true})}}\r\n              style={farewellBackgroundStyle}></div>\r\n            <div style={{fontSize: 'calc(5px + 0.25vw)', textAlign: 'center'}}>Farewell</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport kjv from '../assets/kjv';\r\nimport nkjv from '../assets/nkjv';\r\nimport niv from '../assets/niv';\r\nimport nlt from '../assets/nlt';\r\nimport {HotKeys} from 'react-hotkeys';\r\nimport * as SlideCreation from '../HelperFunctions/SlideCreation';\r\nimport playVerse from '../assets/playVerse.png';\r\nimport on from '../assets/on.png';\r\nimport off from '../assets/off.png';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class Bible extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    const {state: {bibleSelection}} = props;\r\n    console.log({bibleSelection})\r\n    this.initialState = {\r\n      currentBook: 0,\r\n      currentChapter: 0,\r\n      startVerse: 0,\r\n      endVerse: 0,\r\n      bookSearch: '',\r\n      chapterSearch: '',\r\n      verseStartSearch: '',\r\n      verseEndSearch: '',\r\n      selectedVerses: [],\r\n      filteredBooks: [],\r\n      filteredChapters: [],\r\n      filteredVersesStart: [],\r\n      filteredVersesEnd: [],\r\n      allBooks: [],\r\n      allChapters: [],\r\n      allVerses: [],\r\n      versions: ['kjv', 'nkjv', 'niv', 'nlt'],\r\n      version: 'kjv',\r\n      bibles: {kjv, nkjv, niv, nlt},\r\n      displayedVerse: -1,\r\n    }\r\n\r\n    const stateNotEmpty = bibleSelection && Object.keys(bibleSelection).length !== 0;\r\n    this.state = stateNotEmpty ? {...bibleSelection} : this.initialState;\r\n    \r\n    this.handlers = {\r\n      // 'nextField': this.nextField,\r\n      'prevItem': this.prevItem,\r\n      'nextItem': this.nextItem,\r\n      'nextSlide': this.displayNextVerse,\r\n      'prevSlide': this.displayPrevVerse\r\n    }\r\n\r\n  }\r\n  componentDidMount(){\r\n    let bibleWindow = document.getElementById(\"bibleWindow\");\r\n    if(bibleWindow) bibleWindow.focus();\r\n    const {bibleSelection} = this.props.state;\r\n    const stateEmpty = !bibleSelection || Object.keys(bibleSelection).length === 0;\r\n    if (stateEmpty) this.selectVersion(this.state.version);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const {currentBook: prevBook, currentChapter: prevChapter, endVerse: prevEnd, startVerse: prevStart} = prevState;\r\n    const {currentBook, currentChapter, endVerse, startVerse} = this.state;\r\n    if (prevBook !== currentBook || prevChapter !== currentChapter || prevEnd !== endVerse || prevStart !== startVerse) {\r\n      this.props.functions.updateBibleSelection(this.state)\r\n      console.log(\"UPDATING Bible\");\r\n    }\r\n  }\r\n\r\n  resetState = () => this.setState({...this.initialState}, () => this.selectVersion(this.state.version))\r\n\r\n  selectVersion = (version) => {\r\n    const { bibles, bookSearch, currentBook, currentChapter, startVerse, endVerse } = this.state;\r\n    \r\n    this.setState({\r\n      version,\r\n      allBooks: bibles[version].books.map((e, index) => ({index: index, name: e.name})),\r\n      filteredBooks: bibles[version].books.map((e, index) => ({index: index, name: e.name})),\r\n      allChapters: bibles[version].books[0].chapters.map((e, index) => ({index: index, chapter: e.chapter})),\r\n      filteredChapters: bibles[version].books[0].chapters.map((e, index) => ({index: index, chapter: e.chapter})),\r\n      allVerses: bibles[version].books[0].chapters[0].verses.map((e, index) => ({index: index, verse: e})),\r\n      filteredVersesStart: bibles[version].books[0].chapters[0].verses.map((e, index) => ({index: index, verse: e})),\r\n      filteredVersesEnd: bibles[version].books[0].chapters[0].verses.map((e, index) => ({index: index, verse: e})),\r\n    }, () => {\r\n      this.filterBooks(bookSearch);\r\n      this.selectBook(currentBook);\r\n      this.selectChapter(currentChapter);\r\n      this.selectStartVerse(startVerse);\r\n      this.selectEndVerse(endVerse);\r\n    })\r\n  }\r\n\r\n  createVersesItem = () => {\r\n    let {currentBook, currentChapter, startVerse, endVerse, version, bibles} = this.state;\r\n    let verses = bibles[version].books[currentBook].chapters[currentChapter].verses.filter(\r\n      e => (e.verse >= startVerse+1 && e.verse <= endVerse+1)\r\n    );\r\n\r\n    let verseNum = (endVerse !== startVerse) ? (startVerse+1)+ \"-\" + (endVerse+1) : (startVerse+1)\r\n    let name = bibles[version].books[currentBook].name + \" \" + (currentChapter+1) + \":\" + verseNum\r\n    let defaultBibleBackground = this.props.state.userSettings.defaultBibleBackground;\r\n    let background = defaultBibleBackground ? defaultBibleBackground.name : '';\r\n    let brightness = defaultBibleBackground ? defaultBibleBackground.brightness : 100;\r\n    let item = {\r\n      \"_id\": name,\r\n      \"name\": name,\r\n      \"slides\": [\r\n        SlideCreation.newSlide({type: \"Title\", fontSize: 4.5, words: name,\r\n          background: background, brightness: brightness}),\r\n        SlideCreation.newSlide({type: \"Verse\", fontSize: 2.5, name, isBible: true,\r\n          background: background, brightness: brightness})\r\n      ],\r\n      \"type\": \"bible\",\r\n      \"background\": background\r\n    };\r\n\r\n    item = this.props.formatBible(item, 'create', verses);\r\n    this.props.functions.addItem(item);\r\n  }\r\n\r\n  nextField = () => {\r\n    console.log(document.activeElement);\r\n  }\r\n\r\n  nextItem = () => {\r\n    console.log('next')\r\n  }\r\n\r\n  prevItem = () => {\r\n    console.log('prev')\r\n  }\r\n\r\n  displayNextVerse = () => {\r\n    const { displayedVerse, filteredVersesEnd, endVerse} = this.state;\r\n    const nextVerse = displayedVerse + 1;\r\n    if (nextVerse < filteredVersesEnd.length) {\r\n      this.displayVerse(nextVerse);\r\n    }\r\n    if (nextVerse > endVerse) {\r\n      this.selectEndVerse(nextVerse)\r\n    }\r\n  }\r\n\r\n  displayPrevVerse = () => {\r\n    const { displayedVerse, startVerse } = this.state;\r\n    const nextVerse = displayedVerse - 1;\r\n    if (nextVerse>= 0) {\r\n      this.displayVerse(nextVerse);\r\n    }\r\n    if (nextVerse < startVerse) {\r\n      this.selectStartVerse(nextVerse)\r\n    }\r\n  }\r\n\r\n\r\n  displayVerse = (index) => {\r\n    let {currentBook, currentChapter, startVerse, bibles, version} = this.state;\r\n    let verseNum = startVerse + index;\r\n    let verse = [bibles[version].books[currentBook].chapters[currentChapter].verses[verseNum]]\r\n\r\n    let name = bibles[version].books[currentBook].name + \" \" + (currentChapter+1) + \":\" + (verseNum + 1)\r\n    let defaultBibleBackground = this.props.state.userSettings.defaultBibleBackground;\r\n    let background = defaultBibleBackground ? defaultBibleBackground.name : '';\r\n    let brightness = defaultBibleBackground ? defaultBibleBackground.brightness : 100;\r\n    let item = {\r\n      \"_id\": name,\r\n      \"name\": name,\r\n      \"slides\": [\r\n        SlideCreation.newSlide({type: \"Title\", fontSize: 4.5, words: name,\r\n          background: background, brightness: brightness}),\r\n        SlideCreation.newSlide({type: \"Verse\" + verseNum, fontSize: 2.5,\r\n          background: background, brightness: brightness})\r\n      ],\r\n      \"type\": \"bible\"\r\n    };\r\n\r\n    this.setState({displayedVerse: index})\r\n\r\n    item = this.props.formatBible(item, 'fit', verse);\r\n    this.props.functions.updateCurrent({slide: item.slides[1], displayDirect: true, isBible: true, name: name});\r\n  }\r\n\r\n  filterBooks = (bookSearch) => {\r\n    let {allBooks, filteredBooks} = this.state;\r\n    if(bookSearch.length > 0)\r\n      filteredBooks = allBooks.filter(ele => ele.name.toLowerCase().includes(bookSearch.toLowerCase()))\r\n    else\r\n      filteredBooks = allBooks.slice(0);\r\n    let element = filteredBooks[0];\r\n    let index = -1;\r\n    if(element){\r\n      index = allBooks.findIndex(e => e.name === element.name)\r\n      this.selectBook(index);\r\n    }\r\n    this.setState({filteredBooks: filteredBooks})\r\n  }\r\n  filterChapters = (currentBook, chapterSearch) => {\r\n    const {bibles, version} = this.state;\r\n    let allChapters = bibles[version].books[currentBook].chapters.map((e, index) => ({index: index, chapter: e.chapter}));\r\n    let filteredChapters = [];\r\n    if(chapterSearch.length > 0)\r\n      filteredChapters = allChapters.filter(ele => ele.chapter.toString().toLowerCase().includes(chapterSearch.toLowerCase()))\r\n    else\r\n      filteredChapters = allChapters.slice(0);\r\n    let element = filteredChapters[0];\r\n    let index = -1;\r\n    if(element){\r\n      index = allChapters.findIndex(e => e.chapter === element.chapter)\r\n      // console.log(\"chapter\", index)\r\n      this.selectChapter(index);\r\n    }\r\n    this.setState({allChapters: allChapters, filteredChapters: filteredChapters})\r\n  }\r\n  filterVersesStart = (currentBook, currentChapter, verseStartSearch) => {\r\n    const {bibles, version} = this.state;\r\n    let allVerses = bibles[version].books[currentBook].chapters[currentChapter].verses.map((e, index) => ({index: index, verse: e}));\r\n    let filteredVersesStart = [];\r\n    if(verseStartSearch.length > 0)\r\n      filteredVersesStart = allVerses.filter(ele => ele.verse.verse.toString().toLowerCase().includes(verseStartSearch.toLowerCase()))\r\n    else\r\n      filteredVersesStart = allVerses.slice(0);\r\n    let element = filteredVersesStart[0];\r\n    let index = -1;\r\n    if(element){\r\n      index = allVerses.findIndex(e => e.verse === element.verse)\r\n      this.selectStartVerse(index);\r\n    }\r\n    this.setState({allVerses: allVerses, filteredVersesStart: filteredVersesStart})\r\n  }\r\n  filterVersesEnd = (currentBook, currentChapter, verseEndSearch) => {\r\n    const {bibles, version} = this.state;\r\n    let allVerses = bibles[version].books[currentBook].chapters[currentChapter].verses.map((e, index) => ({index: index, verse: e}));\r\n    let filteredVersesEnd = [];\r\n    if(verseEndSearch.length > 0)\r\n      filteredVersesEnd = allVerses.filter(ele => ele.verse.verse.toString().toLowerCase().includes(verseEndSearch.toLowerCase()))\r\n    else\r\n      filteredVersesEnd = allVerses.slice(0);\r\n    let element = filteredVersesEnd[0];\r\n    let index = -1;\r\n    if(element){\r\n      index = allVerses.findIndex(e => e.verse === element.verse)\r\n      this.selectEndVerse(index);\r\n    }\r\n    this.setState({filteredVersesEnd: filteredVersesEnd})\r\n  }\r\n\r\n  selectBook = (index) => {\r\n    let {chapterSearch, verseStartSearch, verseEndSearch} = this.state;\r\n    // console.log(index, chapterSearch)\r\n    this.filterChapters(index, chapterSearch);\r\n    this.filterVersesStart(index, 0, verseStartSearch);\r\n    this.filterVersesEnd(index, 0, verseEndSearch);\r\n    this.setState({\r\n      currentBook: index,\r\n      currentChapter: 0,\r\n      startVerse: 0,\r\n      endVerse: 0,\r\n      displayedVerse: -1\r\n    })\r\n  }\r\n  selectChapter = (index) => {\r\n    let {currentBook, verseStartSearch, verseEndSearch} = this.state;\r\n    this.filterVersesStart(currentBook, index, verseStartSearch);\r\n    this.filterVersesEnd(currentBook, index, verseEndSearch);\r\n    this.setState({\r\n      currentChapter: index,\r\n      startVerse: 0,\r\n      endVerse: 0,\r\n      displayedVerse: -1\r\n    })\r\n  }\r\n  selectStartVerse = (index) => {\r\n    let {endVerse, allVerses} = this.state;\r\n    let filteredVersesEnd = allVerses.filter(e => e.verse.verse >= index+1);\r\n    this.setState({startVerse: index, filteredVersesEnd: filteredVersesEnd})\r\n    if(endVerse < index)\r\n      this.setState({endVerse: index})\r\n  }\r\n  selectEndVerse = (index) => {\r\n    this.setState({endVerse: index})\r\n  }\r\n\r\n  updateBook = (bookSearch) => {\r\n    this.updateChapter('');\r\n    this.filterBooks(bookSearch);\r\n    this.setState({bookSearch: bookSearch});\r\n  }\r\n  updateChapter = (chapterSearch) => {\r\n    let {currentBook} = this.state;\r\n    this.updateStartVerse('');\r\n    this.filterChapters(currentBook, chapterSearch)\r\n    this.setState({chapterSearch: chapterSearch});\r\n  }\r\n  updateStartVerse = (verseStartSearch) =>{\r\n    let {currentBook, currentChapter} = this.state;\r\n    this.updateEndVerse('');\r\n    this.filterVersesStart(currentBook, currentChapter, verseStartSearch);\r\n    this.setState({verseStartSearch: verseStartSearch});\r\n  }\r\n  updateEndVerse = (verseEndSearch) => {\r\n    let {currentBook, currentChapter} = this.state;\r\n    this.filterVersesEnd(currentBook, currentChapter, verseEndSearch);\r\n    this.setState({verseEndSearch: verseEndSearch})\r\n  }\r\n\r\n  render(){\r\n    let {currentBook, currentChapter, startVerse, endVerse,\r\n      bookSearch, chapterSearch, verseStartSearch, verseEndSearch,\r\n      filteredBooks, filteredChapters, filteredVersesStart, filteredVersesEnd,\r\n      allVerses, allBooks, version, displayedVerse} = this.state;\r\n\r\n    let {freeze, backgrounds, currentInfo} = this.props.state;\r\n    let {toggleFreeze, updateCurrent } = this.props.functions;\r\n\r\n    if(!allBooks[0])\r\n      return null;\r\n\r\n    let text = allVerses.filter(e => (e.verse.verse >= startVerse+1 && e.verse.verse <= endVerse+1));\r\n    let displayText = text.map((element, index) => {\r\n      const selected = index === displayedVerse;\r\n      return(\r\n        <div style={{margin: '0.5vmax', display: 'flex', background: selected ? '#347373' : ''}} key={index}>\r\n          <img className='imgButton' style={{display:'block', width:'1.5vw', height:'1.5vw'}}\r\n             onClick={ () => this.displayVerse(index)} alt=\"playVerse\" src={playVerse}\r\n            />\r\n          <div>{element.verse.verse} {element.verse.text}</div>\r\n        </div>\r\n      )\r\n    })\r\n\r\n    let style = {border:'0.1vmax', borderColor: '#383838', borderStyle:'solid'};\r\n    let selectedStyle = Object.assign({}, style);\r\n        selectedStyle.borderColor = '#06d1d1'\r\n\r\n    let books = filteredBooks.map((element, index) => {\r\n      let tStyle = Object.assign({}, style);;\r\n      tStyle.width = \"7.5vw\";\r\n      tStyle.marginLeft = '0.5vw';\r\n      let sStyle = Object.assign({}, selectedStyle);;\r\n      sStyle.width = \"7.5vw\";\r\n      sStyle.marginLeft = '0.5vw';\r\n      let selected = (element.index === currentBook);\r\n      return(\r\n        <div key={index} style={selected ? sStyle : tStyle} onClick={() => this.selectBook(element.index)}>\r\n          {element.name}\r\n        </div>\r\n      )\r\n    })\r\n    let chapters = filteredChapters.map((element, index) => {\r\n      let tStyle = Object.assign({}, style);;\r\n      tStyle.width = \"3vw\";\r\n      tStyle.marginLeft = '0.25vw';\r\n      let sStyle = Object.assign({}, selectedStyle);;\r\n      sStyle.width = \"3vw\";\r\n      sStyle.marginLeft = '0.25vw';\r\n      let selected = (element.index === currentChapter);\r\n      return(\r\n        <div key={index} style={selected ? sStyle : tStyle} onClick={() => this.selectChapter(element.index)}>\r\n          {element.chapter}\r\n        </div>\r\n      )\r\n    })\r\n    let versesStart = filteredVersesStart.map((element, index) => {\r\n      let tStyle = Object.assign({}, style);;\r\n      tStyle.width = \"3vw\";\r\n      tStyle.marginLeft = '0.25vw';\r\n      let sStyle = Object.assign({}, selectedStyle);;\r\n      sStyle.width = \"3vw\";\r\n      sStyle.marginLeft = '0.25vw';\r\n      let selected = (element.index === startVerse);\r\n      return(\r\n        <div key={index} style={selected ? sStyle : tStyle} onClick={() => this.selectStartVerse(element.index)}>\r\n          {element.verse.verse}\r\n        </div>\r\n      )\r\n    })\r\n    let versesEnd = filteredVersesEnd.map((element, index) => {\r\n      let tStyle = Object.assign({}, style);;\r\n      tStyle.width = \"3vw\";\r\n      tStyle.marginLeft = '0.25vw';\r\n      let sStyle = Object.assign({}, selectedStyle);;\r\n      sStyle.width = \"3vw\";\r\n      sStyle.marginLeft = '0.25vw';\r\n      let selected = (element.index === endVerse);\r\n      return(\r\n        <div key={index} style={selected ? sStyle : tStyle} onClick={() => this.selectEndVerse(element.index)}>\r\n          {element.verse.verse}\r\n        </div>\r\n      )\r\n    })\r\n\r\n    let buttonStyle = {\r\n       fontSize: \"calc(8px + 0.6vw)\", margin:'0.25%', width:'8vw', backgroundColor:'#383838',\r\n          border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white',\r\n    }\r\n\r\n    let freezeButton = {\r\n      fontSize: \"calc(5px + 0.35vw)\", marginRight:'.25vw', width:'6vw',backgroundColor:'#383838',\r\n         border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white',\r\n    }\r\n\r\n    return(\r\n      <HotKeys handlers={this.handlers} tabIndex=\"-1\" id='bibleWindow'>\r\n          <div style={{position:'relative', height: '75vh', backgroundColor:\"#383838\",\r\n            margin: '1vh 0', color: 'white'}}>\r\n              <select value={version} onChange={ (e) => this.selectVersion(e.target.value)}>\r\n                <option value='kjv'>King James Version</option>\r\n                <option value='nkjv'>New King James Version</option>\r\n                <option value='niv'>New International Version</option>\r\n                <option value='nlt'>New Living Translation</option>\r\n              </select>\r\n              <button style={{...buttonStyle, fontSize: \"calc(8px + 0.4vw)\", marginLeft: '16px' }} onClick={this.resetState} >Reset</button>\r\n            <div style={{display:'flex'}}>\r\n              <div style={{display: 'flex', width:'27vw', height:'70vh',\r\n                fontSize: \"calc(8px + 0.4vmax)\", textAlign: 'center'}}>\r\n                <div style={{display: 'block', width:'9vw', margin:'0.5vw'}}>\r\n                  <div >Book</div>\r\n                  <input id='bible-book-search' style={{width:'90%'}} type='text' value={bookSearch} onChange={(e) => this.updateBook(e.target.value)}/>\r\n                  <div style={{overflowX: 'hidden', height: '90%', width: '100%'}}>{books}</div>\r\n                </div>\r\n                <div style={{display: 'block', width:'4vw', margin:'0.5vw'}}>\r\n                  <div>Chapter</div>\r\n                  <input id='bible-chapter-search' style={{width:'80%', margin:'auto'}} type='text' value={chapterSearch} onChange={(e) => this.updateChapter(e.target.value)}/>\r\n                  <div style={{overflowX: 'hidden', height: '90%', width: '100%'}}>{chapters}</div>\r\n                </div>\r\n                <div style={{display: 'block', width:'4vw', margin:'0.5vw'}}>\r\n                  <div>Start</div>\r\n                  <input id='bible-verse-start-search' style={{width:'80%', margin:'auto'}} type='text' value={verseStartSearch} onChange={(e) => this.updateStartVerse(e.target.value)}/>\r\n                  <div style={{overflowX: 'hidden', height: '90%', width: '100%'}}>{versesStart}</div>\r\n                </div>\r\n                <div style={{display: 'block', width:'4vw', margin:'0.5vw'}}>\r\n                  <div>End</div>\r\n                  <input id='bible-verse-end-search' style={{width:'80%', margin:'auto'}} type='text' value={verseEndSearch} onChange={(e) => this.updateEndVerse(e.target.value)}/>\r\n                  <div style={{overflowX: 'hidden', height: '90%', width: '100%'}}>{versesEnd}</div>\r\n                </div>\r\n              </div>\r\n              <div style={{width: '36vw'}}>\r\n                <div style={{display: 'flex'}}>\r\n                  <div style={{color: 'yellow'}}>\r\n                    {(endVerse !== startVerse) && <div style={{display: 'flex'}}>\r\n                      <div style={{fontWeight: 'bold', marginRight: '0.5vw'}}>Selected Verses: </div>\r\n                      <div>{allBooks[currentBook].name} {currentChapter+1}:{startVerse+1}-{endVerse+1}</div>\r\n                    </div>}\r\n                    {(endVerse === startVerse) && <div style={{display: 'flex'}}>\r\n                      <div style={{fontWeight: 'bold', marginRight: '0.5vw'}}>Selected Verse: </div>\r\n                      <div>{allBooks[currentBook].name} {currentChapter+1}:{startVerse+1}</div>\r\n                    </div>}\r\n                  </div>\r\n                  <div style={{position: 'absolute', right: '0.5vw', width: '9.5vw'}}>\r\n                    {freeze && <div style={{display:'flex'}}>\r\n                     <div>\r\n                       <button style={freezeButton} onClick={toggleFreeze}>Unfreeze</button>\r\n                     </div>\r\n                      <img style={{width:'2.75vw', height:'1.25vw'}}\r\n                         alt=\"off\" src={off}\r\n                        />\r\n                      </div>\r\n                    }\r\n                    {!freeze && <div style={{display:'flex'}}>\r\n                    <div>\r\n                      <button style={freezeButton} onClick={toggleFreeze}>Freeze</button>\r\n                    </div>\r\n                      <img style={{width:'2.75vw', height:'1.25vw'}}\r\n                         alt=\"on\" src={on}\r\n                        />\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                </div>\r\n                <div style={{overflowX: 'hidden', height: '40vh', backgroundColor:'#5b5b5b',\r\n                   top: '1vh', position: 'relative'}}>{displayText}</div>\r\n                <div style={{display:'flex', position: 'relative', top: '2vh'}}>\r\n                  <DisplayWindow backgrounds={backgrounds} slide={currentInfo.slide} width={\"16vw\"} title={\"Presentation \"}\r\n                    titleSize=\"1.25vw\"\r\n                    />\r\n                  <button style={{...buttonStyle, position: 'absolute', right: '0.5vw', top: '0.5vh'}}\r\n                     onClick={ () => updateCurrent({image: '', displayDirect: true})}>Clear Verse</button>\r\n                  <button style={{...buttonStyle, position: 'absolute', right: '0.5vw', bottom: '0.5vh'}}\r\n                     onClick={this.createVersesItem}>Add Verses</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n      </HotKeys>\r\n    )\r\n\r\n\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport add from '../assets/addItem.png';\r\nimport DeleteConfirmation from '../DeleteConfirmation';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\n\r\nexport default class ExistingItems extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      text: \"\",\r\n      deleteOverlay: false,\r\n      name: \"\"\r\n    }\r\n\r\n  }\r\n\r\n  updateText = (event) => {\r\n    this.setState({text: event.target.value})\r\n  }\r\n\r\n  openConfirmation = (name) => {\r\n    this.setState({\r\n      deleteOverlay: true,\r\n      name: name\r\n    })\r\n  }\r\n\r\n  cancel = () => {\r\n    this.setState({deleteOverlay: false})\r\n  }\r\n\r\n  confirm = () => {\r\n    this.setState({deleteOverlay: false})\r\n    this.props.functions.deleteItem(this.state.name)\r\n  }\r\n\r\n  render(){\r\n  let {allItems, backgrounds} = this.props.state;\r\n  let {text, deleteOverlay, name} = this.state;\r\n\r\n  let filteredList = [];\r\n  if(text.length > 0){\r\n    filteredList = allItems.filter(ele => ele.name.toLowerCase().includes(text.toLowerCase()))\r\n  }\r\n  else{\r\n    filteredList = allItems.slice(0);\r\n  }\r\n\r\n  let width = '3.5vw';\r\n\r\n\r\n  let SL = filteredList.map((element, index) => {\r\n    let imageStyle = {fontSize: 4.5, fontColor: element.nameColor}\r\n    let slide = {boxes: [{words: '',  background: element.background, ...imageStyle}]}\r\n    return(\r\n      <div className='tableRow' style={{display:'flex'}}\r\n        key={index}>\r\n        <div style={{width:'18.5vw',display: 'flex', alignItems: 'center', fontSize:'0.75vw',\r\n          borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n          {element.name}</div>\r\n        <div style={{width:'7vw', display: 'flex', justifyContent:'center', alignItems: 'center',\r\n          fontSize:'0.75vw', borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n          {element.type}</div>\r\n        <div style={{width:'8vw', display: 'flex', justifyContent:'center', alignItems: 'center',\r\n          borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n          <DisplayWindow slide={slide} backgrounds={backgrounds} width={width} title={''} titleSize={''}/>\r\n        </div>\r\n        <div style={{width:'10vw', marginLeft: '1.5vw', paddingTop: '0.5vh'}}>\r\n          <img className='imgButton' style={{width:'1.5vw', height:'1.5vw'}}\r\n             onClick={() => this.props.functions.addItemToList(element)}\r\n             alt=\"add\" src={add}\r\n            />\r\n          <img className='imgButton' style={{marginLeft:'1vw', width:'1.5vw', height:'1.5vw'}}\r\n             onClick={ () => this.openConfirmation(element.name)}\r\n             alt=\"delete\" src={deleteX}\r\n            />\r\n        </div>\r\n      </div>\r\n    )\r\n  })\r\n    return (\r\n      <div style={{color: 'white', margin: '2vh auto', width: '80%'}}>\r\n        <div style={{display: 'flex', marginBottom: '1.5vh'}}>\r\n          <div style={{fontSize: '1vw', marginRight: '1vw'}}>Search</div>\r\n          <input type='text' value={this.state.text} onChange={this.updateText}\r\n            style={{width:'20vw', padding: '0.25vh 0.25vw'}}/>\r\n        </div>\r\n        <div style={{overflowX: 'hidden', height:'70vh', width: '80%'}}>\r\n          <div style={{display: 'flex', paddingBottom: '1vh', borderBottom: '0.1vw solid #c4c4c4'}}>\r\n            <div style={{fontSize: '1.15vw', width: '20vw', display: 'flex', justifyContent:'center'}}>\r\n              Name</div>\r\n            <div style={{fontSize: '1.15vw', width: '5vw', display: 'flex', justifyContent:'center'}}>\r\n              Type</div>\r\n            <div style={{fontSize: '1.15vw', width: '8vw', display: 'flex',  justifyContent:'center'}}>\r\n              Background</div>\r\n          </div>\r\n          {SL}\r\n        </div>\r\n        {deleteOverlay &&\r\n          <div style={{position:'fixed', top:0, left:0, height:'100vh', width:'100vw',\r\n             zIndex: 9, backgroundColor:'rgba(62, 64, 66, 0.5)'}}>\r\n             <DeleteConfirmation confirm={this.confirm}\r\n               cancel={this.cancel} name={name}  />\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport add from '../assets/addItem.png';\r\nimport DeleteConfirmation from '../DeleteConfirmation';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\nimport MakeUnique from '../HelperFunctions/MakeUnique';\r\nimport * as DateFunctions from '../HelperFunctions/DateFunctions';\r\nimport * as SlideCreation from '../HelperFunctions/SlideCreation';\r\nimport * as Overflow from '../HelperFunctions/Overflow'\r\n\r\nexport default class Announcements extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      deleteOverlay: false,\r\n      name: \"\",\r\n      nameToDelete: \"\",\r\n      text: \"\"\r\n    }\r\n\r\n  }\r\n\r\n  updateName = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  openConfirmation = (name) => {\r\n    this.setState({\r\n      deleteOverlay: true,\r\n      nameToDelete: name\r\n    })\r\n  }\r\n\r\n  cancel = () => {\r\n    this.setState({deleteOverlay: false})\r\n  }\r\n\r\n  confirm = () => {\r\n    this.setState({deleteOverlay: false})\r\n    this.props.functions.deleteItem(this.state.nameToDelete)\r\n  }\r\n\r\n  formatAnnouncements = () => {\r\n    let {userSettings} = this.props.state;\r\n    let defaultAnnouncementsBackground = userSettings.defaultAnnouncementsBackground;\r\n    let brightness = defaultAnnouncementsBackground ? defaultAnnouncementsBackground.brightness : 100;\r\n    let image = defaultAnnouncementsBackground ? defaultAnnouncementsBackground.name : '';\r\n    let slide = SlideCreation.newSlide({type: \"Announcement\", background: image, brightness: brightness});\r\n    let slides = Overflow.formatAnnouncements({text: this.state.text, slide: slide})\r\n    this.newAnnouncements(slides);\r\n  }\r\n\r\n  newAnnouncements = (slides) => {\r\n    let {userSettings, allItems} = this.props.state;\r\n\r\n    let name = DateFunctions.getDateofNextDay('Saturday');\r\n    name = MakeUnique({name: name, property: '_id', list: allItems});\r\n\r\n    let firstSlide = 'Announcements ' + name;\r\n    let defaultAnnouncementsBackground = userSettings.defaultAnnouncementsBackground;\r\n    let brightness = defaultAnnouncementsBackground ? defaultAnnouncementsBackground.brightness : 100;\r\n    let image = defaultAnnouncementsBackground ? defaultAnnouncementsBackground.name : '';\r\n    let blankSlides = [\r\n      SlideCreation.newSlide({type: \"Announcement Title\", fontSize: 4.0, words: '\\nWeekly Announcements',\r\n        background: image, brightness: brightness}),\r\n      SlideCreation.newSlide({type: \"Announcement\"})\r\n    ];\r\n    if(slides)\r\n      slides.unshift(SlideCreation.newSlide({type: \"Announcement Title\", fontSize: 4.0, words: '\\nWeekly Announcements',\r\n              background: image, brightness: brightness}))\r\n    let item = {\r\n        \"_id\": name,\r\n        \"name\": firstSlide,\r\n        \"slides\": slides || blankSlides,\r\n        \"type\": 'announcements',\r\n        \"background\": image\r\n      }\r\n      this.props.functions.firebaseSetAnnouncements(name);\r\n      this.props.functions.addItem(item);\r\n  }\r\n\r\n  render(){\r\n    let {allItems, backgrounds} = this.props.state;\r\n    let {deleteOverlay, name, nameToDelete, text} = this.state;\r\n\r\n    let filteredList = [];\r\n    let allAnnouncements = allItems.filter(e => e.type === 'announcements');\r\n    if(name.length > 0){\r\n      filteredList = allAnnouncements.filter(ele => ele.name.toLowerCase().includes(name.toLowerCase()))\r\n    }\r\n    else{\r\n      filteredList = allAnnouncements.slice(0);\r\n    }\r\n\r\n    let width = '3.5vw';\r\n\r\n    let buttonStyle = {\r\n       fontSize: \"0.7vw\", margin:'0 1vw', width:'8vw', backgroundColor:'#383838',\r\n          border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white',\r\n    }\r\n\r\n    let SL = filteredList.map((element, index) => {\r\n      let imageStyle = {fontSize: 4.5, fontColor: element.nameColor}\r\n      let slide = {boxes: [{words: '',  background: element.background, ...imageStyle}]}\r\n      return(\r\n        <div className='tableRow' style={{display:'flex'}}\r\n          key={index}>\r\n          <div style={{width:'12vw',display: 'flex', alignItems: 'center', fontSize:'0.75vw',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            {element.name}</div>\r\n          <div style={{width:'6vw', display: 'flex', justifyContent:'center', alignItems: 'center',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            <DisplayWindow slide={slide} backgrounds={backgrounds} width={width} title={''} titleSize={''}/>\r\n          </div>\r\n          <div style={{width:'5vw', marginLeft: '1.5vw', paddingTop: '0.5vh'}}>\r\n            <img className='imgButton' style={{width:'1.5vw', height:'1.5vw'}}\r\n               onClick={() => this.props.functions.addItemToList(element)}\r\n               alt=\"add\" src={add}\r\n              />\r\n            <img className='imgButton' style={{marginLeft:'1vw', width:'1.5vw', height:'1.5vw'}}\r\n               onClick={ () => this.openConfirmation(element.name)}\r\n               alt=\"delete\" src={deleteX}\r\n              />\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div style={{color: 'white', margin: '2vh 4vw', width: '90%', display: 'flex'}}>\r\n        <div>\r\n          <div style={{display: 'flex', marginBottom: '1.5vh'}}>\r\n            <div style={{fontSize: '1vw', marginRight: '1vw', display: 'flex', alignItems: 'center'}}>\r\n              Name</div>\r\n            <input type='text' value={this.state.name} onChange={this.updateName}\r\n              style={{width:'15vw', padding: '0.25vh 0.25vw'}}/>\r\n            <button style={buttonStyle} onClick={() => this.newAnnouncements(null)}>Blank Announcements</button>\r\n          </div>\r\n          <div style={{overflowX: 'hidden', height:'70vh', width: '75%'}}>\r\n            <div style={{display: 'flex', paddingBottom: '1vh', borderBottom: '0.1vw solid #c4c4c4'}}>\r\n              <div style={{fontSize: '1vw', width: '12vw', display: 'flex', justifyContent:'center'}}>\r\n                Name</div>\r\n              <div style={{fontSize: '1vw', width: '8vw', display: 'flex',  justifyContent:'center'}}>\r\n                Background</div>\r\n            </div>\r\n            {SL}\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div style={{textAlign: 'center', fontSize: \"calc(10px + 0.65vmax)\",\r\n          marginBottom: '0.65vh'}}>Paste Announcements Here</div>\r\n          <textarea style={{width:'20vw', height:'50vh', whiteSpace:'pre-wrap', resize:'none'}}\r\n          value={text} onChange={(e) => (this.setState({text: e.target.value}))}/>\r\n        <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n          <button style={buttonStyle} onClick={this.formatAnnouncements}>Format Announcements</button>\r\n        </div>\r\n\r\n        </div>\r\n        {deleteOverlay &&\r\n          <div style={{position:'fixed', top:0, left:0, height:'100vh', width:'100vw',\r\n             zIndex: 9, backgroundColor:'rgba(62, 64, 66, 0.5)'}}>\r\n             <DeleteConfirmation confirm={this.confirm}\r\n               cancel={this.cancel} name={nameToDelete}  />\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport add from '../assets/addItem.png';\r\nimport DeleteConfirmation from '../DeleteConfirmation';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\nimport MakeUnique from '../HelperFunctions/MakeUnique';\r\nimport * as SlideCreation from '../HelperFunctions/SlideCreation'\r\n\r\nexport default class Songs extends React.Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      deleteOverlay: false,\r\n      name: \"\",\r\n      nameToDelete: \"\",\r\n    }\r\n\r\n  }\r\n\r\n  updateName = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  openConfirmation = (name) => {\r\n    this.setState({\r\n      deleteOverlay: true,\r\n      nameToDelete: name\r\n    })\r\n  }\r\n\r\n  cancel = () => {\r\n    this.setState({deleteOverlay: false})\r\n  }\r\n\r\n  confirm = () => {\r\n    this.setState({deleteOverlay: false})\r\n    this.props.functions.deleteItem(this.state.nameToDelete)\r\n  }\r\n\r\n  newSong = () => {\r\n    let {name} = this.state;\r\n    let {userSettings, allItems} = this.props.state;\r\n    if(name === '')\r\n      name = \"New Song\"\r\n\r\n    name = MakeUnique({name: name, property: '_id', list: allItems});\r\n\r\n    let firstSlide = name;\r\n    let defaultSongBackground = userSettings.defaultSongBackground;\r\n    let brightness = defaultSongBackground ? defaultSongBackground.brightness : 100;\r\n    let image = defaultSongBackground ? defaultSongBackground.name : '';\r\n\r\n    let item = {\r\n        \"_id\": name,\r\n        \"name\": name,\r\n        \"arrangements\": [{\r\n          name: 'Master',\r\n          formattedLyrics: [],\r\n          songOrder: [],\r\n          slides: [\r\n            SlideCreation.newSlide({type: \"Song Title\", fontSize: 4.5, words: firstSlide,\r\n           background: image, brightness: brightness}),\r\n           SlideCreation.newSlide({type: \"blank\", fontSize: 2.5, words: '',\r\n             background: image, brightness: brightness})\r\n           ]\r\n         }],\r\n        \"selectedArrangement\": 0,\r\n        \"type\": 'song',\r\n        \"background\": image,\r\n        \"skipTitle\": true\r\n      }\r\n      this.props.functions.addItem(item);\r\n  }\r\n\r\n  render(){\r\n    let {allItems, backgrounds} = this.props.state;\r\n    let {deleteOverlay, name, nameToDelete} = this.state;\r\n\r\n    let filteredList = [];\r\n    let allSongs = allItems.filter(e => e.type === 'song');\r\n    if(name.length > 0){\r\n      filteredList = allSongs.filter(ele => ele.name.toLowerCase().includes(name.toLowerCase()))\r\n    }\r\n    else{\r\n      filteredList = allSongs.slice(0);\r\n    }\r\n\r\n    let width = '3.5vw';\r\n\r\n    let buttonStyle = {\r\n       fontSize: \"0.7vw\", margin:'0 1vw', width:'8vw', backgroundColor:'#383838',\r\n          border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white',\r\n    }\r\n\r\n    let SL = filteredList.map((element, index) => {\r\n      let imageStyle = {fontSize: 4.5, fontColor: element.nameColor}\r\n      let slide = {boxes: [{words: '',  background: element.background, ...imageStyle}]}\r\n      return(\r\n        <div className='tableRow' style={{display:'flex'}}\r\n          key={index}>\r\n          <div style={{width:'15vw',display: 'flex', alignItems: 'center', fontSize:'0.75vw',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            {element.name}</div>\r\n          <div style={{width:'8vw', display: 'flex', justifyContent:'center', alignItems: 'center',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            <DisplayWindow slide={slide} backgrounds={backgrounds} width={width} title={''} titleSize={''}/>\r\n          </div>\r\n          <div style={{width:'10vw', marginLeft: '1.5vw', paddingTop: '0.5vh'}}>\r\n            <img className='imgButton' style={{width:'1.5vw', height:'1.5vw'}}\r\n               onClick={() => this.props.functions.addItemToList(element)}\r\n               alt=\"add\" src={add}\r\n              />\r\n            <img className='imgButton' style={{marginLeft:'1vw', width:'1.5vw', height:'1.5vw'}}\r\n               onClick={ () => this.openConfirmation(element.name)}\r\n               alt=\"delete\" src={deleteX}\r\n              />\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div style={{color: 'white', margin: '2vh auto', width: '80%'}}>\r\n        <div style={{display: 'flex', marginBottom: '1.5vh'}}>\r\n          <div style={{fontSize: '1vw', marginRight: '1vw', display: 'flex', alignItems: 'center'}}>Song Name</div>\r\n          <input type='text' value={this.state.name} onChange={this.updateName}\r\n            style={{width:'15vw', padding: '0.25vh 0.25vw'}}/>\r\n          <button style={buttonStyle} onClick={this.newSong}>New Song</button>\r\n        </div>\r\n        <div style={{overflowX: 'hidden', height:'70vh', width: '60%'}}>\r\n          <div style={{display: 'flex', paddingBottom: '1vh', borderBottom: '0.1vw solid #c4c4c4'}}>\r\n            <div style={{fontSize: '1.15vw', width: '15vw', display: 'flex', justifyContent:'center'}}>\r\n              Name</div>\r\n            <div style={{fontSize: '1.15vw', width: '8vw', display: 'flex',  justifyContent:'center'}}>\r\n              Background</div>\r\n          </div>\r\n          {SL}\r\n        </div>\r\n        {deleteOverlay &&\r\n          <div style={{position:'fixed', top:0, left:0, height:'100vh', width:'100vw',\r\n             zIndex: 9, backgroundColor:'rgba(62, 64, 66, 0.5)'}}>\r\n             <DeleteConfirmation confirm={this.confirm}\r\n               cancel={this.cancel} name={nameToDelete}  />\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React, {Component} from 'react';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport add from '../assets/addItem.png';\r\nimport DeleteConfirmation from '../DeleteConfirmation';\r\nimport DisplayWindow from '../DisplayElements/DisplayWindow';\r\nimport MakeUnique from '../HelperFunctions/MakeUnique';\r\nimport * as SlideCreation from '../HelperFunctions/SlideCreation'\r\n\r\nexport default class Timer extends Component{\r\n\r\n  constructor(){\r\n    super();\r\n    this.state={\r\n      deleteOverlay: false,\r\n      name: \"\",\r\n      nameToDelete: \"\",\r\n      hours: 0,\r\n      minutes: 0,\r\n      seconds: 0,\r\n    }\r\n\r\n  }\r\n\r\n  updateName = (event) => {\r\n    this.setState({name: event.target.value})\r\n  }\r\n\r\n  openConfirmation = (name) => {\r\n    this.setState({\r\n      deleteOverlay: true,\r\n      nameToDelete: name\r\n    })\r\n  }\r\n\r\n  cancel = () => {\r\n    this.setState({deleteOverlay: false})\r\n  }\r\n\r\n  confirm = () => {\r\n    this.setState({deleteOverlay: false})\r\n    this.props.functions.deleteItem(this.state.nameToDelete)\r\n  }\r\n\r\n  newTimer = () => {\r\n    let {name} = this.state;\r\n    let {userSettings, allItems} = this.props.state;\r\n    if(name === '')\r\n      name = 'Timer'\r\n    name = MakeUnique({name: name, property: '_id', list: allItems});\r\n\r\n    // let firstSlide = name;\r\n    let defaultTimerBackground = userSettings.defaultTimerBackground;\r\n    let brightness = defaultTimerBackground ? defaultTimerBackground.brightness : 100;\r\n    let image = defaultTimerBackground ? defaultTimerBackground.name : '';\r\n\r\n    let item = {\r\n        \"_id\": name,\r\n        \"name\": name,\r\n        \"slides\": [\r\n         SlideCreation.newSlide({type: \"timer\", fontSize: 4.5, words: '00:00:00',\r\n           background: image, brightness: brightness})\r\n         ],\r\n        \"hours\": 0,\r\n        \"minutes\": 0,\r\n        \"seconds\": 0,\r\n        \"type\": 'timer',\r\n        \"background\": image,\r\n        \"nextOnFinish\": true\r\n      }\r\n      this.props.functions.addItem(item);\r\n  }\r\n\r\n  render(){\r\n    let {allItems, backgrounds} = this.props.state;\r\n    let {deleteOverlay, name, nameToDelete} = this.state;\r\n\r\n    let filteredList = [];\r\n    let allTimers = allItems.filter(e => e.type === 'timer');\r\n    if(name.length > 0){\r\n      filteredList = allTimers.filter(ele => ele.name.toLowerCase().includes(name.toLowerCase()))\r\n    }\r\n    else{\r\n      filteredList = allTimers.slice(0);\r\n    }\r\n\r\n    let width = '3.5vw';\r\n\r\n    let buttonStyle = {\r\n       fontSize: \"0.7vw\", margin:'0 1vw', width:'8vw', backgroundColor:'#383838',\r\n          border:'0.2vw solid #06d1d1', borderRadius:'0.5vw', color: 'white',\r\n    }\r\n\r\n    let SL = filteredList.map((element, index) => {\r\n      let imageStyle = {fontSize: 4.5, fontColor: element.nameColor}\r\n      let slide = {boxes: [{words: '',  background: element.background, ...imageStyle}]}\r\n      return(\r\n        <div className='tableRow' style={{display:'flex'}}\r\n          key={index}>\r\n          <div style={{width:'15vw',display: 'flex', alignItems: 'center', fontSize:'0.75vw',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            {element.name}</div>\r\n          <div style={{width:'8vw', display: 'flex', justifyContent:'center', alignItems: 'center',\r\n            borderRight:'0.1vw solid black', paddingTop: '0.5vh'}}>\r\n            <DisplayWindow slide={slide} backgrounds={backgrounds} width={width} title={''} titleSize={''}/>\r\n          </div>\r\n          <div style={{width:'10vw', marginLeft: '1.5vw', paddingTop: '0.5vh'}}>\r\n            <img className='imgButton' style={{width:'1.5vw', height:'1.5vw'}}\r\n               onClick={() => this.props.functions.addItemToList(element)}\r\n               alt=\"add\" src={add}\r\n              />\r\n            <img className='imgButton' style={{marginLeft:'1vw', width:'1.5vw', height:'1.5vw'}}\r\n               onClick={ () => this.openConfirmation(element.name)}\r\n               alt=\"delete\" src={deleteX}\r\n              />\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n    return (\r\n      <div style={{color: 'white', margin: '2vh auto', width: '80%'}}>\r\n        <div style={{display: 'flex', marginBottom: '1.5vh'}}>\r\n          <div style={{fontSize: '1vw', marginRight: '1vw', display: 'flex', alignItems: 'center'}}>Timer Name</div>\r\n          <input type='text' value={this.state.name} onChange={this.updateName}\r\n            style={{width:'15vw', padding: '0.25vh 0.25vw'}}/>\r\n          <button style={buttonStyle} onClick={this.newTimer}>New Timer</button>\r\n        </div>\r\n        <div style={{overflowX: 'hidden', height:'70vh', width: '60%'}}>\r\n          <div style={{display: 'flex', paddingBottom: '1vh', borderBottom: '0.1vw solid #c4c4c4'}}>\r\n            <div style={{fontSize: '1.15vw', width: '15vw', display: 'flex', justifyContent:'center'}}>\r\n              Name</div>\r\n            <div style={{fontSize: '1.15vw', width: '8vw', display: 'flex',  justifyContent:'center'}}>\r\n              Background</div>\r\n          </div>\r\n          {SL}\r\n        </div>\r\n        {deleteOverlay &&\r\n          <div style={{position:'fixed', top:0, left:0, height:'100vh', width:'100vw',\r\n             zIndex: 9, backgroundColor:'rgba(62, 64, 66, 0.5)'}}>\r\n             <DeleteConfirmation confirm={this.confirm}\r\n               cancel={this.cancel} name={nameToDelete}  />\r\n        </div>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n","import React, {Component} from 'react';\r\nimport Bible from './Bible';\r\nimport {HotKeys} from 'react-hotkeys';\r\nimport closeIcon from '../assets/closeIcon.png'\r\nimport ExistingItems from './ExistingItems';\r\nimport Announcements from './Announcements';\r\nimport Songs from './Songs';\r\nimport Timer from './Timer';\r\n\r\nexport default class AllItems extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      tab : 'Existing'\r\n    }\r\n    this.handlers = {\r\n      'close': this.close,\r\n      // 'nextField': this.nextField,\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.setState({tab: this.props.tab})\r\n  }\r\n\r\n  close = () => {\r\n    this.props.close();\r\n  }\r\n\r\n  render(){\r\n\r\n    let {tab} = this.state;\r\n\r\n    // let tabNames = ['Existing', 'Songs', 'Bible', 'Images', 'Videos', 'Announcements'];\r\n    let tabNames = ['Existing', 'Songs', 'Bible', 'Announcements', 'Timer'];\r\n\r\n    let tabStyle = {width: '8vw', padding: '0 1vw', height: '5vh', borderLeft:'0.15vw solid #06d1d1',\r\n      borderBottom:'0.15vw solid yellow', display: 'flex', alignItems: 'center', textAlign: 'center',\r\n      opacity: 0.75, fontSize: '1.15vw'};\r\n    let tabSelected = Object.assign({}, tabStyle);\r\n    tabSelected.opacity = 1;\r\n    tabSelected.borderBottom ='0.15vw solid #06d1d1';\r\n    tabSelected.backgroundColor = '#6b6a6a'\r\n\r\n    let tabs = tabNames.map((element, index) => {\r\n      let selected = element === tab;\r\n\r\n      return(\r\n        <div key={index} className='imgButton' style={selected ? tabSelected : tabStyle}\r\n          onClick={() => this.setState({tab: element})}>{element}\r\n        </div>\r\n      )\r\n    })\r\n\r\n    let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n      zIndex: 5, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n\r\n    let style = {position:'fixed', zIndex:6, right:'15%', top:'5%', color:'white',\r\n      width:'65vw', height: '80vh', backgroundColor:\"#383838\", padding:'1%', border: '0.1vw solid white',\r\n      borderRadius: '1vw'}\r\n\r\n    return(\r\n      <HotKeys handlers={this.handlers} style={windowBackground}>\r\n        <div style={style}>\r\n          <div style={{display: 'flex'}}>\r\n            {tabs}\r\n            <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw',\r\n              padding: '0.25vh 0.25vw', position: 'absolute', right: '1vw'}}\r\n               alt=\"closeIcon\" src={closeIcon}\r\n              onClick={this.close}\r\n              />\r\n          </div>\r\n          {tab === 'Bible' && <Bible formatBible={this.props.formatBible}\r\n          functions={this.props.functions} state={this.props.state} close={this.props.close}/>}\r\n          {tab === 'Existing' && <ExistingItems functions={this.props.functions} state={this.props.state}/>}\r\n          {tab === 'Songs' && <Songs functions={this.props.functions} state={this.props.state}/>}\r\n          {tab === 'Announcements' && <Announcements functions={this.props.functions} state={this.props.state}/>}\r\n          {tab === 'Timer' && <Timer functions={this.props.functions} state={this.props.state}/>}\r\n        </div>\r\n      </HotKeys>\r\n    )\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport {HotKeys} from 'react-hotkeys';\r\nimport deleteX from '../assets/deleteX.png';\r\nimport closeIcon from '../assets/closeIcon.png'\r\nimport checkOn from '../assets/checkOn.png';\r\n\r\nexport default class LiveStreamingHelper extends React.Component{\r\n\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n    const { overlayInfo: {info} } = props;\r\n    this.initialState = {\r\n\t\t\theading: '',\r\n\t\t\tsubHeading: '',\r\n\t\t\ttype: 'stick-to-bottom',\r\n      duration: 7,\r\n      sent: false,\r\n      index: -1,\r\n      isPreset: true,\r\n      showDelete: true,\r\n      mouseX: 0,\r\n      mouseY: 0,\r\n      indexBeingDragged:-1,\r\n      mouseDown: false,\r\n    }\r\n    const infoNotEmpty = info && Object.keys(info).length !== 0;\r\n    this.state = infoNotEmpty ? {...this.initialState, ...info} : this.initialState;\r\n  }\r\n\r\n  updateMouse = (e) => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    this.setState({\r\n      mouseX: e.clientX,\r\n      mouseY: e.clientY\r\n    })\r\n  }\r\n\r\n  insertElement = ( newIndex, oldIndex  ) => {\r\n    const { overlayQueue } = this.props;\r\n    const ele = overlayQueue.splice(oldIndex, 1)[0];\r\n    overlayQueue.splice(newIndex, 0, ele);\r\n  }\r\n\r\n  setElement = (index) => {\r\n    this.setState({\r\n      mouseDown: true\r\n    });\r\n\r\n    console.log(\"INDEX\", index, this.state)\r\n\r\n    this.checkHeld = setTimeout(function() {\r\n      let {mouseDown, indexBeingDragged } = this.state;\r\n      if(mouseDown && indexBeingDragged === -1){\r\n        this.setState({indexBeingDragged: index})\r\n      }\r\n    }.bind(this), 250);\r\n\r\n  }\r\n\r\n  setTarget = (index) => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n\r\n    let {indexBeingDragged} = this.state;\r\n    if((indexBeingDragged !== -1) && (indexBeingDragged !== index)){\r\n      this.getFromQueue(index);\r\n      this.insertElement(index, indexBeingDragged);\r\n      this.setState({indexBeingDragged: index})\r\n    }\r\n  }\r\n\r\n  releaseElement = () => {\r\n    if(!this.state.mouseDown)\r\n      return;\r\n    const { firebaseUpdateOverlayPresets, overlayQueue } = this.props;\r\n    firebaseUpdateOverlayPresets(overlayQueue, 'queue');\r\n    clearTimeout(this.checkHeld)\r\n    this.setState({\r\n      indexBeingDragged: -1,\r\n      mouseDown: false\r\n    })\r\n  }\r\n  \r\n  addToQueue = () => {\r\n    const {firebaseUpdateOverlayPresets, overlayQueue} = this.props;\r\n    const queue = [...overlayQueue];\r\n    const newItem = {...this.state, index: queue.length};\r\n    queue.push(newItem);\r\n    firebaseUpdateOverlayPresets(queue, 'queue');\r\n  }\r\n\r\n  removeFromQueue = (index) => {\r\n    const {firebaseUpdateOverlayPresets, overlayQueue} = this.props;\r\n    const queue = [...overlayQueue];\r\n    queue.splice(index, 1)\r\n    firebaseUpdateOverlayPresets(queue, 'queue');\r\n  }\r\n\r\n  // removeFromPresets = (index) => {\r\n  //   const { firebaseUpdateOverlayPresets, overlayPresets} = this.props;\r\n  //   const presets = [...overlayPresets];\r\n  //   presets.splice(index, 1)\r\n  //   setOverlayQueue(queue);\r\n  // }\r\n\r\n  getFromQueue = (index) => {\r\n    const { overlayQueue } = this.props;\r\n    const queue = [...overlayQueue];\r\n    this.setState({...queue[index], index, isPreset: false })\r\n  }\r\n\r\n  getFromPresets = (index) => {\r\n    const { overlayPresets } = this.props;\r\n    const queue = [...overlayPresets];\r\n    this.setState({...queue[index], index, isPreset: true })\r\n  }\r\n\r\n  sendOverlay = () => {\r\n    const { firebaseUpdateOverlay } = this.props;\r\n    firebaseUpdateOverlay({ action: 'set', info: this.state, time: Date.now()});\r\n    this.setState({sent: true});\r\n    setTimeout(() => {\r\n      this.setState({sent: false});\r\n    },1000)\r\n  }\r\n\r\n  clearOverlay = () => {\r\n    const { firebaseUpdateOverlay } = this.props;\r\n    firebaseUpdateOverlay({ action: 'clear' })\r\n    this.setState(this.initialState)\r\n  }\r\n\r\n  updatePreset = () => {\r\n    const { firebaseUpdateOverlayPresets, overlayPresets, overlayQueue } = this.props;\r\n    const { isPreset, index, heading, subHeading, type, duration, showDelete } = this.state;\r\n    console.log(\"STATE: \", this.state);\r\n\r\n    if (isPreset && index >= 0) {\r\n      overlayPresets[index] = {heading, subHeading, type, duration, showDelete };\r\n\r\n      firebaseUpdateOverlayPresets(overlayPresets, 'preset');\r\n    } else if (!isPreset && index >= 0) {\r\n      overlayQueue[index] = {heading, subHeading, type, duration, showDelete };\r\n\r\n      firebaseUpdateOverlayPresets(overlayQueue, 'queue');\r\n    }\r\n  }\r\n\r\n  toggleDelete = () => {\r\n    this.setState({showDelete: !this.state.showDelete});\r\n    setTimeout(() => this.updatePreset(), 0 )\r\n  }\r\n  \r\n\trender() {\r\n    const {close, overlayQueue = [], overlayPresets} = this.props;\r\n    const {heading, subHeading, type, duration, sent, isPreset, \r\n      showDelete, indexBeingDragged, index: currentIndex, mouseX, mouseY} = this.state\r\n\r\n    let windowBackground = {position: 'fixed',top: 0, left:0, height: '100vh', width: '100vw',\r\n    zIndex: 5, backgroundColor: 'rgba(62, 64, 66, 0.5)'}\r\n\r\n    let style = {position:'fixed', zIndex:6, right:'15%', top:'2%', color:'white',\r\n      width:'67vw', height: '92vh', backgroundColor:\"#383838\", padding:'1%', border: '0.1vw solid white',\r\n      borderRadius: '1vw'}\r\n\r\n    let buttonStyle = {\r\n      fontSize: \"calc(8px + 0.6vw)\", margin:'0.25%', width:'11vw', backgroundColor:'#383838',\r\n          borderRadius:'0.5vw', color: 'white', overflow: 'hidden',\r\n          borderWidth: '0.2vw', borderStyle: 'solid', borderColor: '#06d1d1'\r\n    }\r\n    \r\n    const stickyActive = type === 'stick-to-bottom';\r\n    const floatingActive = type === 'floating';\r\n\r\n    const buttonActiveStyle = { borderWidth: '0.2vw', borderStyle: 'solid', borderColor: 'yellow'}\r\n    \r\n    const previewStyle = {\r\n      width: '24vw', height: '13.5vw', border: '2px solid black', position: 'relative', margin: '16px 32px'\r\n    }\r\n\r\n    const stickyStyle = {\r\n      width: 'calc(100% - 16px)', backgroundColor: '#00009f', color: 'white', position: 'absolute', bottom: 0,\r\n      textAlign: 'center', display: 'flex', padding: '8px', justifyContent: 'center', fontWeight: 'bold', fontSize: '70%',\r\n    }\r\n\r\n    const floatingStyle = {\r\n      width: 'fit-content', backgroundColor: 'rgb(86 86 86)', color: 'white', position: 'absolute', bottom: '4px',\r\n      left: '4px', textAlign: 'left', padding: '8px', justifyContent: 'center', fontWeight: 'bold', borderLeft: '3px solid #00009f'\r\n    }\r\n\r\n    const Preview = () => {\r\n      const floating = (\r\n        <div style={floatingStyle}>\r\n          <div style={{marginBottom: '8px', textTransform: 'uppercase', fontSize: '90%'}}>{heading}</div>\r\n          <div style={{fontSize: '70%'}}>{subHeading}</div>\r\n      </div>\r\n      )\r\n      const sticky = (\r\n        <div style={stickyStyle}>\r\n          <div style={{marginRight: '8px', color: 'yellow'}}>{heading}</div>\r\n          <div>{subHeading}</div>\r\n      </div>\r\n      )\r\n      return(\r\n        <div>\r\n          <div style={previewStyle}>\r\n            <div style={{textAlign: 'center', borderBottom: '2px solid black', padding: '8px'}}>Preview</div>\r\n            {stickyActive ? sticky : floating}\r\n          </div>\r\n          <div style={{display: 'flex', margin: '16px 32px'}}>\r\n              <button style={buttonStyle} disabled={sent} onClick={this.sendOverlay} >Send</button>\r\n              <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw',\r\n                padding: '0.25vh 0.25vw', visibility: sent ? 'visible' : 'hidden'}}\r\n                  alt=\"checkOn\" src={checkOn} />\r\n              <button style={buttonStyle} onClick={this.clearOverlay} >Clear Overlay</button>\r\n            </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const queue = overlayQueue.map(({heading, subHeading, showDelete : qShowDelete}, index) => {\r\n      const beingDraggedStyle = { borderColor: '#ffdb3a', opacity:'0.5', position: 'fixed', \r\n      left: `calc(${mouseX}px - 5px)`, top: `calc(${mouseY}px - 5px)` };\r\n      const selectedStyle = { borderColor: '#06d117' };\r\n      return (\r\n        <div style={{display: 'flex', margin: '8px', width: '12vw'}} key={heading+index}>\r\n          <button \r\n            style={{...buttonStyle, borderRadius: '.25vw', maxHeight: '5vw',\r\n            ...(currentIndex === index && !isPreset && {...selectedStyle}),\r\n            ...(indexBeingDragged === index && {...beingDraggedStyle})}}\r\n            onClick={() => this.getFromQueue(index)} \r\n            onMouseDown={() => this.setElement(index)}\r\n            onMouseOver={() => this.setTarget(index)}\r\n          >\r\n                <div>\r\n                 {heading || subHeading}\r\n                </div>\r\n                {!!heading && subHeading && <div style={{fontSize: \"calc(5px + 0.4vw)\", borderTop: '1px solid gray', paddingTop: '1px', marginTop: '1px' }}>{subHeading}</div> }\r\n            </button>\r\n          {qShowDelete && <img className='imgButton' style={{marginTop:'12px', width:'1.5vw', height:'1.5vw'}}\r\n          onClick={ () => this.removeFromQueue(index)}\r\n          alt=\"delete\" src={deleteX}/> }\r\n        </div>\r\n      )\r\n    })\r\n\r\n    const presets = overlayPresets.map(({heading, subHeading}, index) => {\r\n      const selectedStyle = { borderColor: '#06d117' };\r\n      return (\r\n        <div style={{display: 'flex'}} key={heading+index}>\r\n          <button style={{...buttonStyle, margin: '8px', maxHeight: '5vw',\r\n           ...(currentIndex === index && isPreset && {...selectedStyle})}} \r\n           onClick={() => this.getFromPresets(index)} >{heading || subHeading}</button>\r\n          {/* <img className='imgButton' style={{margin:'0.5vw', width:'1.5vw', height:'1.5vw', visibility: 'hidden'}}\r\n          onClick={ () => this.removeFromPresets(index)}\r\n          alt=\"delete\" src={deleteX}/> */}\r\n        </div>\r\n      )\r\n    })\r\n    \r\n\t\treturn (\r\n      <HotKeys handlers={this.handlers} style={windowBackground}>\r\n        <div style={style} onMouseUp={this.releaseElement} onMouseMove={this.updateMouse}>\r\n          <div>\r\n          <img className='imgButton' style={{display:'block', width:'1.25vw', height:'1.25vw',\r\n                padding: '0.25vh 0.25vw', position: 'absolute', right: '1vw'}}\r\n                alt=\"closeIcon\" src={closeIcon}\r\n                onClick={close}\r\n                />\r\n          <div style={{marginBottom: '16px', fontSize: '110%'}}>Send Overlay To Stream</div>\r\n          <div style={{display: 'flex'}}>\r\n            <div>\r\n            <div>\r\n              <div>Heading:</div>\r\n              <input style={{width: '16vw'}} type=\"text\" value={heading} onChange={(e) => this.setState({heading: e.target.value})}/>\r\n            </div>\r\n            <div>\r\n              <div>Sub Heading:</div>\r\n              <input style={{width: '16vw'}} type=\"text\" value={subHeading} onChange={(e) => this.setState({subHeading: e.target.value})}/>\r\n            </div>\r\n            <div>\r\n              <div>Type</div>\r\n              <button style={{...buttonStyle, ...stickyActive && buttonActiveStyle}} onClick={() => this.setState({type: 'stick-to-bottom'})} disabled={stickyActive} >Stick To Bottom</button>\r\n              <button style={{...buttonStyle, ...floatingActive && buttonActiveStyle}} onClick={() => this.setState({type: 'floating'})} disabled={floatingActive} >Floating</button>\r\n            </div>\r\n            <div>\r\n              <div>Duration</div>\r\n              <input style={{width: '32px'}} type='number' value={duration} onChange={(e) => this.setState({duration: e.target.value})}/>\r\n            </div>\r\n            <div style={{display: 'flex', marginTop: '32px'}}>\r\n              <button style={{...buttonStyle}} disabled={sent} onClick={this.addToQueue} >Add to Queue</button>\r\n              <button style={{...buttonStyle, marginLeft: '16px' }} onClick={this.updatePreset} >Save</button>\r\n            </div>\r\n            <button style={{...buttonStyle, marginTop: '16px'}}  onClick={this.toggleDelete} >{showDelete ? 'Hide Delete' : 'Show Delete'}</button>\r\n            </div>\r\n            <div>\r\n             <Preview/>\r\n            </div>\r\n\r\n          </div>\r\n          <div style={{margin: '8px 0', borderTop: '2px solid black'}}>\r\n            <div style={{padding: '8px'}}>Presets</div>\r\n            <div style={{display: 'flex', flexWrap:'wrap', overflow:'auto'}}>{presets}</div>\r\n          </div>\r\n          </div>\r\n          <div style={{borderTop: '2px solid black'}}>\r\n          <div style={{padding: '8px'}}>Queue</div>\r\n          <div style={{display: 'flex', marginTop: '8px', flexWrap:'wrap', overflow:'auto', height: '16vw', position: 'relative'}}>{queue}</div>\r\n          \r\n        </div>\r\n        </div>\r\n      </HotKeys>\r\n\t\t);\r\n\t}\r\n\r\n}","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport FormatEditor from './FormatEditor';\r\nimport ItemListEditor from './ItemListEditor';\r\nimport UserSettings from './UserSettings';\r\nimport TextBoxEditor from './TextBoxEditor';\r\nimport ProjectorControl from './ProjectorControl'\r\nimport AllItems from './AllItems';\r\nimport LiveStreamingHelper from './LiveStreamingHelper';\r\n\r\nimport open from '../assets/open.png';\r\nimport bibleIcon from '../assets/bibleIcon.png'\r\nimport songIcon from '../assets/songIcon.png'\r\nimport allItemsIcon from '../assets/allItemsIcon.png';\r\nimport timerIcon from '../assets/timerIcon.png'\r\nimport liveStreamingIcon from '../assets/live_streaming_icon.png'\r\nimport announcementsIcon from '../assets/announcementsIcon.png'\r\nimport undoButton from '../assets/undo.png'\r\nimport redoButton from '../assets/redo.png'\r\n\r\nexport default class Toolbar extends Component {\r\n\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      tab: \"Existing\",\r\n      menuMousedOver: false,\r\n      itemListsOpen: false,\r\n      settingsOpen: false, \r\n      allItemsOpen: false,\r\n      liveStreamHelper: false\r\n    }\r\n  }\r\n\r\n  openLiveStreamHelper = () => {\r\n    this.setState({liveStreamHelper: true})\r\n  }\r\n\r\n  closeLiveStreamHelper = () => {\r\n    this.setState({liveStreamHelper: false})\r\n  }\r\n\r\n  openAllItems = (tab) => {\r\n    this.setState({allItemsOpen: true, tab: tab})\r\n  }\r\n\r\n  closeAllItems = () => {\r\n    this.setState({allItemsOpen: false})\r\n  }\r\n\r\n  openMenu = () => {\r\n    this.setState({menuMousedOver: true})\r\n  }\r\n\r\n  closeMenu = () => {\r\n    this.setState({menuMousedOver: false})\r\n  }\r\n\r\n  openItemLists = () => {\r\n    this.setState({itemListsOpen: true})\r\n  }\r\n\r\n  closeItemLists = () => {\r\n    this.setState({itemListsOpen: false})\r\n  }\r\n\r\n  openSettings = () => {\r\n    this.setState({settingsOpen: true})\r\n  }\r\n\r\n  closeSettings = () => {\r\n    this.setState({settingsOpen: false})\r\n  }\r\n\r\n  logout = () => {\r\n    this.setState({menuMousedOver: false})\r\n    this.props.parent.logout();\r\n  }\r\n\r\n  openPresentation = () => {\r\n    let url = window.location.origin;\r\n    window.open(url+'#localpresentation', \"Presentation\", \"height=200,width=250,alwaysRaised\");\r\n  }\r\n\r\n  render(){\r\n\r\n    let {formatBible} = this.props;\r\n    let {selectItemList, toggleFreeze, updateFontSize, updateFontColor,\r\n       updateBrightness, updateState, deleteItemList, newItemList, duplicateList, updateUserSetting, updateBoxPosition,\r\n        updateCurrent, undo, redo, updateSkipTitle, updateNextOnFinish, firebaseUpdateOverlay,\r\n        firebaseUpdateOverlayPresets, updateImageList } = this.props.parent; //updateItemStructure\r\n    let {selectedItemList, itemLists, wordIndex, freeze, item, user, isLoggedIn,\r\n      allItemLists, needsUpdate, userSettings, backgrounds, mode,\r\n      undoReady, redoReady, boxIndex, overlayInfo, overlayQueue, overlayPresets} = this.props.parent.state;\r\n    let {tab, menuMousedOver, itemListsOpen, settingsOpen, allItemsOpen, liveStreamHelper} = this.state;\r\n\r\n    let menuItem = {\r\n      display:'inline-block', width:'90%', padding: '2.5%', backgroundColor:'#fff', margin: '5%',\r\n      cursor: 'pointer', fontSize: \"calc(5px + 0.35vw)\", border: '0.15vw solid #474747'\r\n    }\r\n    let menuButton = {\r\n      width:'100%', padding: '5%', cursor: 'pointer',\r\n      fontSize: \"calc(5px + 0.35vw)\", height: '3vh', border: '0.15vw solid #474747'\r\n    }\r\n    let modeButton = {\r\n      width:'6vw', cursor: 'pointer', fontSize: \"calc(5px + 0.35vw)\",\r\n      height: '3vh', margin: '0 0.5vw', border: '0.15vw solid #474747'\r\n    }\r\n    let modeButtonSelected = Object.assign({}, modeButton);\r\n    modeButtonSelected.border = '0.15vw solid #06d1d1';\r\n\r\n    let undoRedo = {width:'1.25vw', height:'1.25vw', paddingLeft: '0.1vw'};\r\n    let undoRedoDisabled = Object.assign({}, undoRedo);\r\n    undoRedoDisabled.opacity = 0.25;\r\n\r\n    return(\r\n      <div style={window.location.hash===\"#/fullview\" ?\r\n        {display: 'flex', width:'100vw', height: '10.5vh', backgroundColor: '#c4c4c4',\r\n          borderBottom: '0.15vw solid #06d1d1', borderTop: '0.15vw solid #06d1d1',\r\n           marginBottom: '0.25vh'}\r\n        : {display:'none'}} >\r\n        <ul style={{display:'flex', zIndex: 3}}>\r\n          <li style={{width:'4vw'}}>\r\n            <div className='toolbarSection' onMouseLeave={this.closeMenu}>\r\n              <button onClick={this.openMenu} style={menuButton}>Menu</button>\r\n                <div style={menuMousedOver ? {backgroundColor:'#c4c4c4', position:'absolute', width:'9vw', zIndex: 4} : {display:'none'}}>\r\n                  <button style={menuItem} onClick={this.openPresentation}>Open Stage Display</button>\r\n                  <Link to=\"/\"><button style={menuItem}>Home</button></Link>\r\n                  <button style={menuItem} onClick={this.openSettings}> Open Settings </button>\r\n                  {!isLoggedIn && <Link to=\"/login\"><button style={menuItem}>Login</button></Link>}\r\n                  {isLoggedIn && <button style={menuItem} onClick={this.logout}>Logout</button>}\r\n                  {/*<button style={menuItem} onClick={updateItemStructure}>UPDATE ALL</button>*/}\r\n                  {/*<button onClick={test}>Test</button>*/}\r\n                </div>\r\n                <div style={{display: 'flex', marginTop: '2vh'}}>\r\n                  <img className='imgButton' style={undoReady? undoRedo: undoRedoDisabled}\r\n                     alt=\"undo\" src={undoButton}\r\n                    onClick={undo}\r\n                    />\r\n                  <img className='imgButton' style={redoReady? undoRedo: undoRedoDisabled}\r\n                     alt=\"redo\" src={redoButton}\r\n                    onClick={redo}\r\n                    />\r\n                </div>\r\n            </div>\r\n          </li>\r\n          <li style={{width: '12vw'}}>\r\n            <div className='toolbarSection'>\r\n              <div style={{display: 'flex'}}>\r\n                <select style={{fontSize: \"0.85vw\", width: '9vw', height: '2.5vh'}} value={selectedItemList.name}\r\n                  onChange={(e) => (selectItemList(e.target.value))}>\r\n                  {itemLists.map((element, index) =>\r\n                    <option key={index}> {element.name} </option>\r\n                  )}\r\n                </select>\r\n                <img className='imgButton' style={{width:'1.25vw', height:'1.25vw', marginLeft: '0.25vw'}}\r\n                   alt=\"open\" src={open}\r\n                  onClick={this.openItemLists}\r\n                  />\r\n              </div>\r\n              <div style={{display: 'flex', marginTop: '1vh'}}>\r\n                <button style={(mode === 'edit') ? modeButtonSelected : modeButton}\r\n                  onClick={() => this.props.parent.setState({mode: 'edit'})}>Edit</button>\r\n                <button style={(mode === 'display') ? modeButtonSelected : modeButton}\r\n                  onClick={() => this.props.parent.setState({mode: 'display'})}>Display</button>\r\n              </div>\r\n\r\n            </div>\r\n          </li>\r\n          <li style={{width: '13vw'}}>\r\n            {mode === 'edit' && <div className='toolbarSection'>\r\n            <div style={{display:'flex'}}>\r\n              <div onClick={ () => this.openAllItems('Bible')} className='imgButton'\r\n                 style={{fontSize: '0.65vw', height: '4.5vh', marginRight:'0.5vw', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"bibleIcon\" src={bibleIcon}\r\n                   />\r\n                 <div>Bible</div>\r\n              </div>\r\n              <div onClick={ () => this.openAllItems('Songs')} className='imgButton'\r\n                style={{fontSize: '0.65vw', marginRight:'0.5vw', height: '4.5vh', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"songIcon\" src={songIcon}\r\n                   />\r\n                 <div>Song</div>\r\n              </div>\r\n              <div onClick={ () => this.openAllItems('Existing')} className='imgButton'\r\n                style={{fontSize: '0.65vw', height: '4.5vh', marginRight:'0.5vw', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"allItemsIcon\" src={allItemsIcon}\r\n                   />\r\n                 <div>All</div>\r\n              </div>\r\n              <div onClick={ () => this.openAllItems('Announcements')} className='imgButton'\r\n                style={{fontSize: '0.65vw', height: '5vh', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"announcementsIcon\" src={announcementsIcon}\r\n                   />\r\n                 <div>Announcements</div>\r\n              </div>\r\n            </div>\r\n            <div style={{display:'flex'}}>\r\n              <div onClick={ () => this.openAllItems('Timer')} className='imgButton'\r\n                style={{fontSize: '0.65vw', height: '4.5vh', marginRight:'0.5vw', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"timerIcon\" src={timerIcon}\r\n                   />\r\n                 <div>Timer</div>\r\n              </div>\r\n              <div onClick={ () => this.openLiveStreamHelper()} className='imgButton'\r\n                style={{fontSize: '0.65vw', height: '4.5vh', marginRight:'0.5vw', textAlign: 'center'}}>\r\n                <img style={{display:'block', width:'1.25vw', height:'1.25vw', margin: 'auto',\r\n                  padding: '0.25vh 0.25vw'}}\r\n                   alt=\"liveStreamingIcon\" src={liveStreamingIcon}\r\n                   />\r\n                 <div>LS Helper</div>\r\n              </div>\r\n            </div>\r\n            </div>}\r\n          </li>\r\n          <li style={{width: '20vw'}}>\r\n            {mode === 'edit' && <div className='toolbarSection'>\r\n               <FormatEditor item={item} updateFontSize={updateFontSize} updateFontColor={updateFontColor}\r\n                 wordIndex={wordIndex} updateBrightness={updateBrightness} updateSkipTitle={updateSkipTitle}\r\n                 boxIndex={boxIndex} updateNextOnFinish={updateNextOnFinish}/>\r\n             </div>}\r\n          </li>\r\n          <li style={{width: '20vw'}}>\r\n            {mode === 'edit' && <div className='toolbarSection'>\r\n                <TextBoxEditor updateBoxPosition={updateBoxPosition}/>\r\n            </div>}\r\n          </li>\r\n          <li style={{width: '15vw'}}>\r\n            <div className='toolbarSection'>\r\n              <ProjectorControl freeze={freeze} toggleFreeze={toggleFreeze} userSettings={userSettings}\r\n                backgrounds={backgrounds} updateCurrent={updateCurrent}/>\r\n            </div>\r\n          </li>\r\n          <li style={{width: '16.5vw'}}>\r\n            <div className='toolbarSection' style={{display: 'flex'}}>\r\n              <div style={{display:'flex', backgroundColor: '#383838', color:'white', padding: '0.5vw', height: '2vh'}}>\r\n                <div style={{fontSize: \"calc(8px + 0.35vw)\", fontWeight: 'bold'}}>User:</div>\r\n                <div style={{fontSize: \"calc(8px + 0.25vw)\", color:'#06d1d1', marginLeft: '0.25vw'}}>{user}</div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        {itemListsOpen && <ItemListEditor updateState={updateState} close={this.closeItemLists}\r\n          itemLists={itemLists} allItemLists={allItemLists} deleteItemList={deleteItemList}\r\n          newItemList={newItemList} selectItemList={selectItemList} duplicateList={duplicateList}\r\n          needsUpdate={needsUpdate}\r\n        />}\r\n        {settingsOpen && <UserSettings state={this.props.parent.state} close={this.closeSettings}\r\n        updateUserSetting={updateUserSetting} updateImageList={updateImageList} />}\r\n        {liveStreamHelper && <LiveStreamingHelper close={this.closeLiveStreamHelper} \r\n        firebaseUpdateOverlay={firebaseUpdateOverlay} overlayInfo={overlayInfo}\r\n        overlayQueue={overlayQueue} firebaseUpdateOverlayPresets={firebaseUpdateOverlayPresets}\r\n         overlayPresets={overlayPresets} />}\r\n        {allItemsOpen && <AllItems close={this.closeAllItems} state={this.props.parent.state}\r\n        functions={this.props.parent} tab={tab} formatBible={formatBible}/>}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React, {Component} from 'react'\r\n\r\nexport default class Loading extends Component {\r\n\r\n  render(){\r\n    let {retrieved} = this.props;\r\n    let percent = (Object.keys(retrieved).length/6).toFixed(2)*100;\r\n\r\n    return(\r\n      <div style={{position:'fixed', top:0, left:0, height:'100vh',\r\n        zIndex: 10, backgroundColor:'rgba(62, 64, 66, 0.5)', width:'100vw'}}>\r\n        <div style={{display: 'flex', position:'absolute', top:'45%', right:'45%'}}>\r\n          <div style={{color: '#FFF', fontSize:\"calc(15px + 1vw)\", textAlign: 'center'}}>Loading Documents {percent}%</div>\r\n          <div className=\"loader\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { initializeApp } from 'firebase/app';\r\nimport { getDatabase } from 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyD8JdTmUVvAhQjBYnt59dOUqucnWiRMyMk',\r\n\tauthDomain: 'portable-media.firebaseapp.com',\r\n\tdatabaseURL: 'https://portable-media.firebaseio.com',\r\n\tprojectId: 'portable-media',\r\n\tstorageBucket: 'portable-media.appspot.com',\r\n\tmessagingSenderId: '456418139697',\r\n\tappId: '1:456418139697:web:02dabb94557dbf1dc07f10'\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport default getDatabase(app);","import React, { Component } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport RemotePresentation from \"./DisplayElements/RemotePresentation\";\r\nimport LocalPresentation from \"./DisplayElements/LocalPresentation\";\r\nimport FullView from \"./Controller/FullView\";\r\nimport Login from \"./Login\";\r\nimport PouchDB from \"pouchdb\";\r\nimport DBSetup from \"./HelperFunctions/DBSetup\";\r\nimport * as DBUpdater from \"./HelperFunctions/DBUpdater\";\r\nimport * as DBGetter from \"./HelperFunctions/DBGetter\";\r\nimport * as Overflow from \"./HelperFunctions/Overflow\";\r\nimport * as Formatter from \"./HelperFunctions/Formatter\";\r\nimport * as SlideUpdate from \"./HelperFunctions/SlideUpdate\";\r\nimport * as ItemUpdate from \"./HelperFunctions/ItemUpdate\";\r\nimport Home from \"./Home\";\r\nimport MobileView from \"./Mobile/MobileView\";\r\nimport Toolbar from \"./ToolbarElements/ToolBar\";\r\nimport Loading from \"./Loading\";\r\nimport cloudinary from \"cloudinary-core\";\r\nimport { HotKeys } from \"react-hotkeys\";\r\nimport { onValue, ref, set } from 'firebase/database';\r\nimport { getAuth, signInWithEmailAndPassword  } from \"firebase/auth\";\r\nimport firebaseDatabase from './Firebase';\r\nimport * as SlideCreation from \"./HelperFunctions/SlideCreation\";\r\nimport nkjv from './assets/nkjv.json';\r\nimport nlt from './assets/nlt.json';\r\n\r\nPouchDB.plugin(require(\"pouchdb-upsert\"));\r\n\r\nvar cloud = new cloudinary.Cloudinary({\r\n  cloud_name: \"portable-media\",\r\n  api_key: process.env.REACT_APP_CLOUDINARY_KEY,\r\n  api_secret: process.env.REACT_APP_CLOUDINARY_SECRET,\r\n  secure: true\r\n});\r\n\r\n\r\nvar conn;\r\n\r\n\r\n// let requestedBytes = 1024*1024*10; // 10MB\r\n//  window.requestFileSystem  = window.requestFileSystem || window.webkitRequestFileSystem;\r\n//\r\n// navigator.webkitPersistentStorage.requestQuota (\r\n//     requestedBytes, function(grantedBytes) {\r\n//         window.requestFileSystem(window.PERSISTENT, grantedBytes, onInitFs);\r\n//     }, function(e) { console.log('Error', e); }\r\n// );\r\n// let fileSystem = null\r\n// function onInitFs(fs){\r\n//   fileSystem = fs\r\n//   fs.root.getFile('log.txt', {create: true}, function(fileEntry) {\r\n//\r\n//   // Create a FileWriter object for our FileEntry (log.txt).\r\n//   fileEntry.createWriter(function(fileWriter) {\r\n//\r\n//     fileWriter.onwriteend = function(e) {\r\n//       console.log('Write completed.');\r\n//     };\r\n//\r\n//     fileWriter.onerror = function(e) {\r\n//       console.log('Write failed: ' + e.toString());\r\n//     };\r\n//\r\n//     // Create a new Blob and write it to log.txt.\r\n//     var blob = new Blob(['Lorem Ipsum'], {type: 'text/plain'});\r\n//\r\n//     fileWriter.write(blob);\r\n//   });\r\n//\r\n// });\r\n// }\r\nconst prevItem = [\"up\"];\r\nconst nextItem = [\"down\"];\r\nconst nextSlide = [\"right\", \"space\"];\r\nconst prevSlide = [\"left\", \"shift+space\"];\r\nconst close = \"esc\";\r\nconst submit = \"enter\";\r\nconst nextField = [\"tab\", \"enter\"];\r\nconst undo = [\"ctrl+z\"];\r\nconst redo = [\"ctrl+shift+z\", \"ctrl+y\"];\r\nconst map = {\r\n  // 'nextSlide': 'command+left',\r\n  // 'deleteNode': ['del', 'backspace']\r\n  nextSlide: nextSlide,\r\n  prevSlide: prevSlide,\r\n  nextItem: nextItem,\r\n  prevItem: prevItem,\r\n  close: close,\r\n  submit: submit,\r\n  nextField: nextField,\r\n  undo: undo,\r\n  redo: redo\r\n};\r\n\r\nconst initialState = {\r\n  isLoggedIn: false,\r\n  wordIndex: 0,\r\n  itemIndex: -1,\r\n  boxIndex: 0,\r\n  item: {},\r\n  itemList: [],\r\n  itemLists: [],\r\n  allItemLists: [],\r\n  backgrounds: [],\r\n  selectedItemList: {},\r\n  needsUpdate: {},\r\n  currentInfo: {\r\n    box: {\r\n      words: \"\",\r\n      background: \"\",\r\n      fontColor: \"rgba(0, 0, 0, 0)\",\r\n      fontSize: 2.5\r\n    },\r\n    time: -1\r\n  },\r\n  allItems: [],\r\n  freeze: true,\r\n  db: {},\r\n  remoteDB: {},\r\n  user: \"Demo\",\r\n  upload_preset: \"bpqu4ma5\",\r\n  retrieved: {},\r\n  attempted: {},\r\n  userSettings: {},\r\n  mode: \"edit\",\r\n  undoReady: false,\r\n  redoReady: false,\r\n  overlayInfo: {},\r\n  overlayPresets: [],\r\n  overlayQueue: [],\r\n  bibleSelection: {}\r\n};\r\n\r\nlet undoHistory = [];\r\nlet undoProperties = [\r\n  \"item\",\r\n  \"itemList\",\r\n  \"itemIndex\",\r\n  \"allItems\",\r\n  \"userSettings\",\r\n  \"selectedItemList\"\r\n];\r\nlet undoIndex = -1;\r\nlet historyUpdating = false;\r\n\r\n/* App component */\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = JSON.parse(JSON.stringify(initialState));\r\n\r\n    this.updateInterval = null;\r\n    this.connectorInterval = null;\r\n    this.sync = null;\r\n\r\n    this.handlers = {\r\n      undo: this.undo,\r\n      redo: this.redo\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.reactLoaded = true;\r\n    //grab current info for persistent login\r\n    let database = \"demo\";\r\n    localStorage.setItem(\"presentation\", \"null\");\r\n    let sLoggedIn = localStorage.getItem(\"loggedIn\");\r\n    let sUser = localStorage.getItem(\"user\");\r\n    let sDatabase = localStorage.getItem(\"database\");\r\n    let sUploadPreset = localStorage.getItem(\"upload_preset\");\r\n\r\n    if (sLoggedIn === \"true\") this.setState({ isLoggedIn: true });\r\n    else this.setState({ isLoggedIn: false });\r\n    if (sUser !== \"null\" && sUser !== null) {\r\n      this.setState({ user: sUser });\r\n      this.firebaseCurrent(sUser)\r\n      this.signIntoFirebase();\r\n    } \r\n    if (sDatabase && sDatabase !== \"null\") {\r\n      database = sDatabase;\r\n    }\r\n    if (sUploadPreset) this.setState({ upload_preset: sUploadPreset });\r\n\r\n    this.init(database, true);\r\n \r\n    let that = this;\r\n    setTimeout(function () {\r\n      let success = that.state.retrieved;\r\n\r\n      if (Object.keys(success).length < 6) {\r\n        window.location.reload(true);\r\n      }\r\n    }, 300000);\r\n\r\n    var uploadWidget = window.cloudinary.createUploadWidget(\r\n\t\t\t{\r\n\t\t\t\tcloudName: 'portable-media',\r\n\t\t\t\tuploadPreset: sUploadPreset\r\n\t\t\t},\r\n\t\t\t(error, result) => {\r\n\t\t\t\tif (!error && result && result.event === 'success') {\r\n          const { type: resultType, public_id, url } = result.info;\r\n          let type = resultType === \"mp4\" ? \"video\" : \"image\";\r\n          let upload = {\r\n            name: public_id,\r\n            type: type,\r\n            category: \"Uncategorized\",\r\n            url: url\r\n          };\r\n          DBUpdater.addImages({ db: that.state.db, upload });\r\n          setTimeout(function () {\r\n            DBGetter.retrieveImages({\r\n              parent: that,\r\n              db: that.state.db,\r\n              cloud: cloud\r\n            });\r\n          }, 1000);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n    this.setState({ uploadWidget })\r\n  }\r\n\r\n  firebaseCurrent = (user) => {\r\n    const query1 = ref(firebaseDatabase, `users/${user}/presentation`);\r\n    onValue(query1, (snap) => {\r\n      if (snap.val()) {\r\n        this.setState({currentInfo: snap.val()})\r\n      }\r\n    })\r\n\r\n    const query2 = ref(firebaseDatabase, `users/${user}/overlay`);\r\n    onValue(query2, (snap) => {\r\n      if (snap.val()) {\r\n        this.setState({overlayInfo: snap.val()})\r\n      }\r\n    })\r\n\r\n    const query3 = ref(firebaseDatabase, `users/${user}/overlayPresets`);\r\n    onValue(query3, (snap) => {\r\n      if (snap.val()) {\r\n        const { presets = [], queue = [] } = snap.val();\r\n        this.setState({ overlayPresets: presets, overlayQueue: queue })\r\n      }\r\n    })\r\n  }\r\n\r\n  firebaseSetAnnouncements = (id) => {\r\n    const query = ref(firebaseDatabase, `users/${this.state.user}/backend/announcementId`);\r\n    set(query, id)\r\n  }\r\n\r\n  firebaseUpdateOverlay = (info) => {\r\n    this.setState({overlayInfo: info})\r\n    const query = ref(firebaseDatabase, `users/${this.state.user}/overlay`);\r\n    set(query, {...info})\r\n  }\r\n \r\n  firebaseUpdateOverlayPresets = (arr, type) => {\r\n    if (type === 'preset') {\r\n      this.setState({overlayPresets: arr})\r\n      const presetQuery = ref(firebaseDatabase, `users/${this.state.user}/overlayPresets/presets`);\r\n      set(presetQuery, arr)\r\n    }\r\n    else if (type === 'queue') {\r\n      this.setState({overlayQueue: arr})\r\n      const presetQuery = ref(firebaseDatabase, `users/${this.state.user}/overlayPresets/queue`);\r\n      set(presetQuery, arr)\r\n    }\r\n  }\r\n\r\n  addItem = item => {\r\n    DBUpdater.addItem({ parent: this, item: item });\r\n  };\r\n\r\n  addItemToList = item => {\r\n    let itemObj = {\r\n      name: item.name,\r\n      _id: item._id,\r\n      background: item.background,\r\n      nameColor: item.nameColor,\r\n      type: item.type\r\n    };\r\n    //put item in current item list\r\n    DBUpdater.putInList({ parent: this, itemObj: itemObj });\r\n  };\r\n\r\n  addMedia = (name, background) => {\r\n    let item = {\r\n      _id: name,\r\n      name: name,\r\n      slides: [\r\n        SlideCreation.newSlide({\r\n          type: \"Image\",\r\n          background: background,\r\n          fontSize: 4.5\r\n        })\r\n      ],\r\n      type: \"image\",\r\n      background: background\r\n    };\r\n    DBUpdater.addItem({ parent: this, item: item });\r\n  };\r\n\r\n  DBReplicate = (db, remoteDB, localDB) => {\r\n    let that = this;\r\n    let opts = { live: true, retry: true };\r\n    that.setState({ db: db, remoteDB: remoteDB });\r\n    remoteDB.replicate.to(localDB, {\r\n      retry: true\r\n    }).on(\"complete\", function (info) {\r\n      DBSetup(db);\r\n      DBGetter.init({ parent: that, db: db });\r\n      DBGetter.retrieveImages({ parent: that, db: db, cloud: cloud });\r\n      DBGetter.changes({\r\n        parent: that,\r\n        db: db,\r\n        cloud: cloud,\r\n        remoteDB: remoteDB\r\n      });\r\n      if (that.state.user !== \"Demo\") {\r\n        that.sync = db.sync(remoteDB, opts);\r\n      }\r\n    });\r\n  };\r\n\r\n  deleteItem = name => {\r\n    let { allItems, item } = this.state;\r\n    if (name === item.name) {\r\n      this.setState({ item: {}, wordIndex: 0, itemIndex: -1 });\r\n    }\r\n    let index = allItems.findIndex(e => e.name === name);\r\n    DBUpdater.deleteItem({ parent: this, name: name, index: index });\r\n    this.updateHistory({ type: \"clear\" });\r\n  };\r\n\r\n  deleteItemFromList = index => {\r\n    let { itemIndex } = this.state;\r\n    if (index === itemIndex) this.setState({ item: {}, wordIndex: 0 });\r\n    DBUpdater.deleteItemFromList({ parent: this, index: index });\r\n  };\r\n\r\n  deleteItemList = id => {\r\n    DBUpdater.deleteItemList({\r\n      db: this.state.db,\r\n      id: id,\r\n      selectItemList: this.selectItemList,\r\n      itemLists: this.state.itemLists\r\n    });\r\n    this.updateHistory({ type: \"clear\" });\r\n  };\r\n\r\n  duplicateItem = id => {\r\n    let that = this;\r\n    this.state.db.get(id).then(function (doc) {\r\n      let slides;\r\n      if (doc.type === \"song\")\r\n        slides = doc.arrangements[doc.selectedArrangement].slides || null;\r\n      else slides = doc.slides || null;\r\n      //Change box\r\n      let itemObj = {\r\n        name: doc.name,\r\n        _id: doc._id,\r\n        background: doc.background,\r\n        nameColor: slides[0].boxes[0].fontColor,\r\n        type: doc.type\r\n      };\r\n      that.addItemToList(itemObj);\r\n    });\r\n  };\r\n\r\n  duplicateList = id => {\r\n    DBUpdater.duplicateList({ parent: this, id: id });\r\n  };\r\n\r\n  getAttempted = type => {\r\n    let { attempted, retrieved, remoteDB, db } = this.state;\r\n    attempted[type] = true;\r\n    if (Object.keys(attempted).length >= 5) {\r\n      if (!retrieved.finished) {\r\n        if (navigator.onLine) {\r\n          let that = this;\r\n          setTimeout(function () {\r\n            if (retrieved.finished) return;\r\n            let obj = JSON.parse(JSON.stringify(initialState));\r\n            that.setState(obj);\r\n            let localDB = \"portable-media\";\r\n            that.DBReplicate(db, remoteDB, localDB);\r\n          }, 10000);\r\n        } else if (navigator) {\r\n          alert(\"Please reconnect to the internet to continue\");\r\n        }\r\n      }\r\n    }\r\n    this.setState({ attempted: attempted });\r\n  };\r\n\r\n  getSelectedListId = () => {\r\n    return this.state.selectedItemList.id;\r\n  };\r\n\r\n  getItemId = () => {\r\n    return this.state.item._id;\r\n  };\r\n\r\n  getSuccess = type => {\r\n    let { retrieved } = this.state;\r\n    retrieved[type] = true;\r\n    //don't begin auto update until all values have been retrieved\r\n    if (Object.keys(retrieved).length >= 5) {\r\n      retrieved.finished = true;\r\n      this.updateInterval = setInterval(this.update, 250); //auto save to database every second if update has occurred\r\n      let that = this;\r\n      setTimeout(function () {\r\n        that.updateHistory({ type: \"init\" });\r\n      }, 10);\r\n    }\r\n    this.setState({ retrieved: retrieved });\r\n  };\r\n\r\n  getTime = () => {\r\n    return this.state.currentInfo.time;\r\n  };\r\n\r\n  historyToState = () => {\r\n    let { needsUpdate } = this.state;\r\n    let newState = undoHistory[undoIndex];\r\n    for (let property in newState) {\r\n      if (property === \"item\") needsUpdate.updateItem = true;\r\n      if (property === \"itemList\") needsUpdate.updateItemList = true;\r\n      if (property === \"allItems\") needsUpdate.updateAllItems = true;\r\n      if (property === \"userSettings\") needsUpdate.updateUserSettings = true;\r\n      let obj = JSON.parse(JSON.stringify(newState[property]));\r\n      this.setState({ [property]: obj });\r\n    }\r\n    this.setState({ needsUpdate: needsUpdate });\r\n    historyUpdating = false;\r\n    let u = undoIndex > 0;\r\n    let r = undoIndex < undoHistory.length - 1;\r\n    this.setState({ undoReady: u, redoReady: r });\r\n  };\r\n\r\n  init = (database, first) => {\r\n    let remoteURL =\r\n      process.env.REACT_APP_DATABASE_STRING + \"portable-media-\" + database;\r\n    let localDB = \"portable-media\";\r\n    let db = new PouchDB(localDB, {skip_setup: true});\r\n    let remoteDB = null;\r\n    try {\r\n      remoteDB = new PouchDB(remoteURL);\r\n    } catch (e) {\r\n      console.log(\"Problem is here\");\r\n    }\r\n    \r\n    let that = this;\r\n    if (!first) {\r\n      db.destroy().then(function () {\r\n        db = new PouchDB(localDB);\r\n        that.DBReplicate(db, remoteDB, localDB);\r\n      });\r\n    } else this.DBReplicate(db, remoteDB, localDB);\r\n  };\r\n\r\n  insertItemIntoList = targetIndex => {\r\n    let { itemList, itemIndex, needsUpdate } = this.state;\r\n    let item = itemList[itemIndex];\r\n    itemList.splice(itemIndex, 1);\r\n    itemList.splice(targetIndex, 0, item);\r\n    needsUpdate.updateItemList = true;\r\n    this.setState({\r\n      itemIndex: targetIndex,\r\n      itemList: itemList,\r\n      needsUpdate: needsUpdate\r\n    });\r\n  };\r\n\r\n  insertWords = targetIndex => {\r\n    ItemUpdate.insertWords({ targetIndex: targetIndex, parent: this });\r\n  };\r\n\r\n  login = (database, user, upload_preset) => {\r\n    //stop updating local and syncing to remote\r\n    clearInterval(this.updateInterval);\r\n    if (this.sync) this.sync.cancel();\r\n\r\n    //set current info for persistent login\r\n    localStorage.setItem(\"loggedIn\", true);\r\n    localStorage.setItem(\"user\", user);\r\n    localStorage.setItem(\"database\", database);\r\n    localStorage.setItem(\"upload_preset\", upload_preset);\r\n\r\n    let obj = JSON.parse(JSON.stringify(initialState));\r\n    this.setState(obj);\r\n    this.setState({\r\n      isLoggedIn: true,\r\n      user: user,\r\n      upload_preset: upload_preset\r\n    });\r\n\r\n    this.init(database);\r\n  };\r\n\r\n  logout = () => {\r\n    //stop updating local and syncing to remote\r\n    clearInterval(this.updateInterval);\r\n    if (this.sync) this.sync.cancel();\r\n\r\n    //reset current info for persistent login\r\n    localStorage.setItem(\"loggedIn\", false);\r\n    localStorage.setItem(\"user\", null);\r\n    localStorage.setItem(\"database\", null);\r\n    localStorage.setItem(\"upload_preset\", null);\r\n\r\n    let database = \"demo\";\r\n    //reset to initial state\r\n    let obj = JSON.parse(JSON.stringify(initialState));\r\n    this.setState(obj);\r\n    this.init(database);\r\n  };\r\n\r\n  newItemList = newList => {\r\n    DBUpdater.newList({\r\n      db: this.state.db,\r\n      newList: newList,\r\n      selectItemList: this.selectItemList\r\n    });\r\n  };\r\n\r\n  openUploader = () => {\r\n    let { uploadWidget } = this.state;\r\n    uploadWidget.open();\r\n  };\r\n\r\n  overrideUndoRedo = e => {\r\n    if (\r\n      (e.ctrlKey && e.key === \"z\") ||\r\n      (e.ctrlKey && e.key === \"y\") ||\r\n      (e.ctrlKey && e.shiftKey && e.key === \"z\")\r\n    ) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  redo = () => {\r\n    if (undoIndex >= undoHistory.length - 1 || historyUpdating) return;\r\n    ++undoIndex;\r\n    this.updateUndoIndex();\r\n  };\r\n\r\n  signIntoFirebase = () => {\r\n    // Authenticate for firebase\r\n    const auth = getAuth();\r\n    signInWithEmailAndPassword(auth, \"eliathahsdatechteam@gmail.com\", \"TamTam7550\");\r\n  }\r\n\r\n  setBoxIndex = index => {\r\n    this.setState({ boxIndex: index });\r\n  };\r\n\r\n  setItemBackground = background => {\r\n    ItemUpdate.setItemBackground({ background: background, parent: this });\r\n  };\r\n\r\n  selectItemList = name => {\r\n    let { itemLists } = this.state;\r\n    let id = itemLists.find(e => e.name === name).id;\r\n    let selectedItemList = { id: id, name: name };\r\n    DBGetter.selectItemList({\r\n      selectedItemList: selectedItemList,\r\n      parent: this\r\n    });\r\n  };\r\n\r\n  setItemIndex = index => {\r\n    let { itemList } = this.state;\r\n    ItemUpdate.setItemIndex({ index: index, parent: this });\r\n    if (itemList.length !== 0) {\r\n      let id = itemList[index] ? itemList[index]._id : 0;\r\n      DBGetter.getItem({ id: id, parent: this, index: index });\r\n    }\r\n  };\r\n\r\n  setSlideBackground = background => {\r\n    SlideUpdate.setSlideBackground({ background: background, parent: this });\r\n  };\r\n\r\n  setWordIndex = index => {\r\n    SlideUpdate.setWordIndex({ index: index, parent: this });\r\n  };\r\n\r\n  test = () => {\r\n    //   fileSystem.root.getFile('log.txt', {}, function(fileEntry) {\r\n    //\r\n    //   // Get a File object representing the file,\r\n    //   // then use FileReader to read its contents.\r\n    //   fileEntry.file(function(file) {\r\n    //      var reader = new FileReader();\r\n    //\r\n    //      reader.onloadend = function(e) {\r\n    //        // var txtArea = document.createElement('textarea');\r\n    //        // txtArea.value = this.result;\r\n    //        // document.body.appendChild(txtArea);\r\n    //        console.log(this.result);\r\n    //      };\r\n    //\r\n    //      reader.readAsText(file);\r\n    //   });\r\n    //\r\n    // });\r\n    // let url = 'https://www.azlyrics.com/'\r\n    // const html = (await (await fetch(url)).text());\r\n    // console.log(html);\r\n    // fetch('api/getLyrics', {\r\n    //    method: 'post',\r\n    //    body: JSON.stringify({name: 'William McDowell'}),\r\n    //    headers: {\r\n    //     'Accept': 'application/json',\r\n    //     'Content-Type': 'application/json'\r\n    //     },\r\n    // }).then((response) => response.json())\r\n    // .then(function(data){\r\n    //   console.log(data);\r\n    // })\r\n    fetch(\"api/getHymnal\", {\r\n      method: \"post\",\r\n      body: JSON.stringify({ number: \"528\" }),\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(function (data) {\r\n        console.log(data);\r\n      });\r\n  };\r\n\r\n  toggleFreeze = () => {\r\n    SlideUpdate.clearTimer();\r\n    SlideUpdate.clearCountdown();\r\n    this.setState({ freeze: !this.state.freeze });\r\n  };\r\n\r\n  undo = () => {\r\n    if (undoIndex <= 0 || historyUpdating) return;\r\n    --undoIndex;\r\n    this.updateUndoIndex();\r\n  };\r\n\r\n  update = () => {\r\n    let { needsUpdate } = this.state;\r\n    for (let property in needsUpdate) {\r\n      if (needsUpdate[property] && needsUpdate.hasOwnProperty(property)) {\r\n        let func = DBUpdater[property];\r\n        func(this.state, this.updateState);\r\n        needsUpdate[property] = false;\r\n      }\r\n    }\r\n  };\r\n\r\n  updateBibleSelection = (bibleSelection) => {\r\n    this.setState({bibleSelection})\r\n  }\r\n\r\n  updateBoxPosition = position => {\r\n    Formatter.updateBoxPosition({ position: position, parent: this });\r\n  };\r\n\r\n  updateBrightness = level => {\r\n    Formatter.updateBrightness({ level: level, parent: this });\r\n  };\r\n\r\n  updateCurrent = props => {\r\n    if (this.state.freeze) return;\r\n\r\n    let { slide, image, isBible = false, name = '', isAnnouncement = false } = props;\r\n\r\n    let date = new Date();\r\n    let time = date.getTime();\r\n    let update = { time, isBible, name, isAnnouncement };\r\n    if (image || image === \"\")\r\n      update.slide = { boxes: [{ words: \"\", background: image, style: {} }] };\r\n    else update.slide = JSON.parse(JSON.stringify(slide));\r\n\r\n    if (props.displayDirect) SlideUpdate.clearTimer();\r\n\r\n    if (conn) conn.send(update);\r\n    this.setState({ currentInfo: update });\r\n    const query = ref(firebaseDatabase, `users/${this.state.user}/presentation`);\r\n    set(query, {...update})\r\n    localStorage.setItem(\"presentation\", JSON.stringify(update));\r\n  };\r\n\r\n  updateFontColor = fontColor => {\r\n    Formatter.updateFontColor({ fontColor: fontColor, parent: this });\r\n  };\r\n\r\n  updateFontSize = fontSize => {\r\n    Formatter.updateFontSize({ fontSize: fontSize, parent: this });\r\n  };\r\n\r\n  updateHistory = props => {\r\n    let newState = {};\r\n    if (undoHistory.length > 0)\r\n      undoHistory = undoHistory.slice(0, undoIndex + 1);\r\n    let currentVal;\r\n    let updateNow = false;\r\n    switch (props.type) {\r\n      case \"init\":\r\n        undoHistory = [];\r\n        updateNow = true;\r\n        undoIndex = -1;\r\n        for (let property in undoProperties) {\r\n          if (!undoProperties.hasOwnProperty(property)) continue;\r\n          let prop = undoProperties[property];\r\n          newState[prop] = JSON.parse(JSON.stringify(this.state[prop]));\r\n        }\r\n        break;\r\n      case \"clear\":\r\n        newState = undoHistory[0];\r\n        updateNow = true;\r\n        undoHistory = [];\r\n        undoIndex = -1;\r\n        break;\r\n      case \"update\":\r\n        currentVal = undoHistory[undoIndex];\r\n        for (let property in undoProperties) {\r\n          if (!undoProperties.hasOwnProperty(property)) continue;\r\n          let prop = undoProperties[property];\r\n          if (\r\n            props[prop] &&\r\n            JSON.stringify(currentVal[prop]) !== JSON.stringify(props[prop])\r\n          ) {\r\n            updateNow = true;\r\n            newState[prop] = JSON.parse(JSON.stringify(props[prop]));\r\n          } else {\r\n            newState[prop] = JSON.parse(JSON.stringify(currentVal[prop]));\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        console.log(\"Incorrect Parameters\");\r\n    }\r\n    if (updateNow) {\r\n      undoHistory.push(newState);\r\n      ++undoIndex;\r\n    }\r\n    let u = undoIndex > 0;\r\n    let r = undoIndex < undoHistory.length - 1;\r\n    this.setState({ undoReady: u, redoReady: r });\r\n  };\r\n\r\n  runBibleConvert = () => {\r\n    let newNLT = {...nkjv};\r\n    let sum = 0;\r\n    for (let i = 0; i < nkjv.books.length; ++i) {\r\n      let currentBook = nkjv.books[i];\r\n      if (currentBook.name === 'Psalm') {\r\n        currentBook.name = 'Psalms';\r\n      }\r\n      for (let j = 0; j < currentBook.chapters.length; ++j) {\r\n        let currentChapter = currentBook.chapters[j];\r\n        for (let k = 0; k < currentChapter.verses.length; ++k){\r\n          let currentVerse = currentChapter.verses[k];\r\n          let text = \"\"\r\n          try {\r\n            text = nlt[currentBook.name][j+1][k+1];\r\n          }\r\n          catch(err) {\r\n            console.log(currentBook.name, j + 1, k + 1)\r\n          }\r\n          \r\n          if(text === \"See Footnote\") {\r\n            currentVerse.text = '[Excluded From NLT]'\r\n          }\r\n          else {\r\n            currentVerse.text = text;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    fetch(\"api/bible\", {\r\n      method: \"post\",\r\n      body: JSON.stringify(nkjv),\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n     \r\n    console.log(newNLT);\r\n  }\r\n\r\n  updateItem = item => {\r\n    ItemUpdate.updateItem({ item: item, parent: this });\r\n  };\r\n\r\n  updateImageList = (index) => {\r\n    DBUpdater.updateImageList({ db: this.state.db, index })\r\n  }\r\n\r\n  updateItemStructure = () => {\r\n    DBUpdater.updateItemStructure(this.state.db);\r\n  };\r\n\r\n  updateState = obj => {\r\n    for (let property in obj)\r\n      if (obj.hasOwnProperty(property))\r\n        this.setState({ [property]: obj[property] });\r\n  };\r\n\r\n  updateSkipTitle = val => {\r\n    ItemUpdate.updateSkipTitle({ val: val, parent: this });\r\n  };\r\n\r\n  updateNextOnFinish = val => {\r\n    ItemUpdate.updateNextOnFinish({ val: val, parent: this });\r\n  };\r\n\r\n  updateUndoIndex = () => {\r\n    let { itemLists } = this.state;\r\n    let newState = undoHistory[undoIndex];\r\n    let newId = newState.item._id;\r\n    let newListId = newState.selectedItemList.id;\r\n    historyUpdating = true;\r\n    if (newId && this.state.item._id !== newId) {\r\n      DBGetter.getItem({\r\n        id: newId,\r\n        parent: this,\r\n        history: true,\r\n        newItemIndex: newState.itemIndex\r\n      });\r\n      this.setState({ boxIndex: 0 });\r\n    } else if (newListId && newListId !== this.state.selectedItemList.id) {\r\n      let name = itemLists.find(e => e.id === newListId).name;\r\n      let selectedItemList = { id: newListId, name: name };\r\n      DBGetter.selectItemList({\r\n        selectedItemList: selectedItemList,\r\n        parent: this,\r\n        history: true\r\n      });\r\n    } else this.historyToState();\r\n  };\r\n\r\n  updateUserSetting = obj => {\r\n    let userSetting = { type: obj.type, obj: obj.settings };\r\n    DBUpdater.updateUserSetting({ userSetting: userSetting, parent: this });\r\n  };\r\n\r\n  render() {\r\n    let { backgrounds, currentInfo = {}, isLoggedIn, retrieved } = this.state;\r\n\r\n    let style = {\r\n      height: \"100vh\",\r\n      width: \"100vw\",\r\n      overflow: \"hidden\",\r\n      zIndex: 1,\r\n      position: \"fixed\"\r\n    };\r\n\r\n    if (\r\n      window.location.hash === \"#/localpresentation\" ||\r\n      window.location.hash === \"#/remotepresentation\"\r\n    )\r\n      style.backgroundColor = \"#000\";\r\n    else style.backgroundColor = \"#383838\";\r\n\r\n    return (\r\n      <HotKeys handlers={this.handlers} keyMap={map}>\r\n        <div id=\"fullApp\" style={style}>\r\n          <Toolbar parent={this} formatBible={Overflow.formatBible} />\r\n          {!retrieved.finished && <Loading retrieved={retrieved} />}\r\n          <div>\r\n            {/* Route components are rendered if the path prop matches the current URL */}\r\n            <Switch>\r\n              <Route\r\n                path=\"/fullview\"\r\n                render={props => (\r\n                  <FullView\r\n                    {...props}\r\n                    parent={this}\r\n                    formatSong={Overflow.formatSong}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/mobile\"\r\n                render={props => (\r\n                  <MobileView\r\n                    {...props}\r\n                    parent={this}\r\n                    formatSong={Overflow.formatSong}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/login\"\r\n                render={props => <Login {...props} login={this.login} />}\r\n              />\r\n              <Route\r\n                path=\"/localpresentation\"\r\n                render={props => (\r\n                  <LocalPresentation\r\n                    {...props}\r\n                    currentInfo={currentInfo}\r\n                    backgrounds={backgrounds}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                path=\"/remotepresentation\"\r\n                render={props => (\r\n                  <RemotePresentation\r\n                    {...props}\r\n                    currentInfo={currentInfo}\r\n                    backgrounds={backgrounds}\r\n                  />\r\n                )}\r\n              />\r\n              <Route\r\n                render={props => (\r\n                  <Home\r\n                    {...props}\r\n                    isLoggedIn={isLoggedIn}\r\n                    logout={this.logout}\r\n                  />\r\n                )}\r\n              />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </HotKeys>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","\r\nexport default function DBSetup(db){\r\n\r\n\tvar listCount = 5;\r\n\tlet options = {month: 'short', day: 'numeric', year: 'numeric'};\r\n\tvar date = new Date(Date.now());\r\n\tdate.setDate(date.getDate());\r\n\tvar dateString = date.toLocaleDateString('en-US', options);\r\n\r\n\tfunction SLists(i){\r\n\t\tdb.get('Item List '+i).catch(function (err) {\r\n\t\t\tvar SL = {\r\n\t\t\t\t'_id': 'Item List '+i,\r\n\t\t\t\t'items' : []\r\n\t\t\t};\r\n\t\t\tdb.put(SL);\r\n\t\t});\r\n\t}\r\n\r\n\tdb.get('allItems').catch(function (err) {\r\n\t\tvar SL = {\r\n\t\t\t'_id': 'allItems',\r\n\t\t\t'items' : []\r\n\t\t};\r\n\t\tdb.put(SL);\r\n\t});\r\n\r\n\tdb.get('ItemLists').catch(function (err) {\r\n\t\tlet SL = {\r\n\t\t\t'_id': 'ItemLists',\r\n\t\t\t'itemLists' : [\r\n\t\t\t\t{id: 'Item List 2', name: 'Service Outline', outline: true},\r\n\t\t\t\t{id: 'Item List 1', name: dateString},\r\n\t\t\t]\r\n\t\t};\r\n\t\tdb.put(SL);\r\n\t});\r\n\r\n\tdb.get('allItemLists').then(function(doc){\r\n\t\tlistCount = doc.itemLists.length;\r\n\t}).catch(function (err) {\r\n\t\tlet SL = {\r\n\t\t\t'_id': 'allItemLists',\r\n\t\t\t'itemLists' : [\r\n\t\t\t\t{id: 'Item List 2', name: 'Service Outline', outline: true},\r\n\t\t\t\t{id: 'Item List 1', name: dateString},\r\n\t\t\t]\r\n\t\t};\r\n\t\tdb.put(SL);\r\n\t}).then(function (){\r\n\t\tfor (var i = 1; i <= listCount; ++i){\r\n\t\t\tSLists(i);\r\n\t\t}\r\n\t});\r\n\r\n\tdb.get('currentInfo').catch(function(){\r\n\t\tlet upload = {\r\n\t\t\t_id: 'currentInfo',\r\n\t\t\tinfo: {\r\n\t\t\t\tbox: {words: '', background: '', fontColor: 'rgba(0, 0, 0, 0)', fontSize: 2.5},\r\n\t\t\t\ttime: -1\r\n\t\t\t}\r\n\t\t};\r\n\t\tdb.put(upload);\r\n\t\twindow.location.reload(false);\r\n\t});\r\n\r\n\tdb.get('images').catch(function(doc){\r\n\t\tlet upload = {\r\n\t\t\t_id: 'images',\r\n\t\t\tbackgrounds: []\r\n\t\t};\r\n\t\tdb.put(upload);\r\n\t});\r\n\r\n\tdb.get('userSettings').catch(function(doc){\r\n\t\tlet upload = {\r\n\t\t\t_id: 'userSettings',\r\n\t\t\tsettings: {}\r\n\t\t};\r\n\t\tdb.put(upload);\r\n\t});\r\n\r\n}\r\n","import * as Sort from './Sort';\r\nimport * as Overflow from './Overflow';\r\n\r\nexport function setItemBackground(props){\r\n\tlet {background} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {item, itemIndex, itemList, allItems, needsUpdate} = props.parent.state;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tif(!slides)\r\n\t\treturn;\r\n\r\n\tlet index = allItems.findIndex(e => e.name === item.name);\r\n\t//set all slides to match item background\r\n\tfor (var i = 0; i < slides.length; i++) {\r\n\t\tslides[i].boxes[0].background = background;\r\n\t}\r\n\t//update Item background in all places\r\n\titemList[itemIndex].background = background;\r\n\tallItems[index].background = background;\r\n\titem.background = background;\r\n\r\n\tneedsUpdate.updateItem = true;\r\n\tneedsUpdate.updateItemList = true;\r\n\tneedsUpdate.updateAllItems = true;\r\n\tupdateHistory({type: 'update', item: item, itemList: itemList, allItems: allItems});\r\n\tupdateState({item: item, itemList: itemList, allItems: allItems, needsUpdate: needsUpdate});\r\n}\r\n\r\nexport function setItemIndex(props){\r\n\tlet {index} = props;\r\n\tlet {updateState} = props.parent;\r\n\r\n\tvar mElement = document.getElementById('MItem'+index);\r\n\tvar element = document.getElementById('Item'+index);\r\n\tif(mElement)\r\n\t\tmElement.scrollIntoView({behavior: 'smooth', block: 'center', inline:'center'});\r\n\tif(element)\r\n\t\telement.scrollIntoView({behavior: 'instant', block: 'nearest', inline: 'nearest'});\r\n\tupdateState({itemIndex: index, boxIndex: 0});\r\n}\r\n\r\nexport function updateItem(props){\r\n\tlet {item} = props;\r\n\tlet {updateHistory, updateState} = props.parent;\r\n\tlet {itemList, allItems, needsUpdate} = props.parent.state;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tlet fontColor = slides[0].boxes[0].fontColor;\r\n\tlet name = item.name;\r\n\tlet itemIndex = itemList.findIndex(e => e._id === item._id);\r\n\tif(itemIndex !== -1 && (itemList[itemIndex].nameColor !== fontColor || itemList[itemIndex].name !== name)){\r\n\t\titemList[itemIndex].nameColor = fontColor;\r\n\t\titemList[itemIndex].name = name;\r\n\t\tneedsUpdate.updateItemList = true;\r\n\t}\r\n\tallItems = Sort.sortNamesInList(allItems);\r\n\tlet index = allItems.findIndex(e => e._id === item._id);\r\n\tif(index !== -1 && (allItems[index].nameColor !== fontColor || allItems[index].name !== name)){\r\n\t\tallItems[index].nameColor = fontColor;\r\n\t\tallItems[index].name = name;\r\n\t\tneedsUpdate.updateAllItems = true;\r\n\t}\r\n\tif(item.type === 'song')\r\n\t\titem = Overflow.formatSong(item);\r\n\tif(item.type === 'bible')\r\n\t\titem = Overflow.formatBible(item, 'edit');\r\n\tneedsUpdate.updateItem = true;\r\n\r\n\tupdateHistory({type: 'update', item: item, itemList: itemList, allItems: allItems});\r\n\tupdateState({item: item, itemList: itemList, allItems: allItems, needsUpdate: needsUpdate});\r\n}\r\n\r\nexport function insertWords(props){\r\n\tlet {targetIndex} = props;\r\n\tlet {updateHistory, setWordIndex, updateState} = props.parent;\r\n\tlet {item, wordIndex, needsUpdate, boxIndex} = props.parent.state;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tlet words = slides[wordIndex].boxes[boxIndex].words;\r\n\tslides.splice(wordIndex, 1);\r\n\tslides.splice(targetIndex, 0, words);\r\n\tneedsUpdate.updateItem = true;\r\n\tupdateState({item: item, needsUpdate: needsUpdate});\r\n\tupdateHistory({type: 'update', item: item});\r\n\tsetWordIndex(targetIndex);\r\n}\r\n\r\nexport function updateSkipTitle(props){\r\n\tlet {val} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {item, needsUpdate} = props.parent.state;\r\n\titem.skipTitle = val;\r\n\tneedsUpdate.updateItem = true;\r\n\tupdateState({item: item, needsUpdate: needsUpdate});\r\n\tupdateHistory({type: 'update', item: item});\r\n}\r\n\r\nexport function updateNextOnFinish(props){\r\n\tlet {val} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {item, needsUpdate} = props.parent.state;\r\n\titem.nextOnFinish = val;\r\n\tneedsUpdate.updateItem = true;\r\n\tupdateState({item: item, needsUpdate: needsUpdate});\r\n\tupdateHistory({type: 'update', item: item});\r\n}\r\n","import * as Overflow from './Overflow';\r\n\r\nexport function updateFontSize(props){\r\n\r\n\tlet {fontSize} = props;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {item, wordIndex, boxIndex, needsUpdate} = props.parent.state;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\tlet slide = slides ? slides[wordIndex] : null;\r\n\r\n\tif(!slide)\r\n\t\treturn;\r\n\r\n\tif(wordIndex !== 0 && item.type !== 'image'){\r\n\t\tfor(let i = 1; i < slides.length; ++i){\r\n\t\t\tif(!slides[i].boxes[boxIndex].excludeFromOverflow)\r\n\t\t\t\tslides[i].boxes[boxIndex].fontSize = fontSize;\r\n\t\t}\r\n\t}\r\n\telse\r\n\t\tslides[wordIndex].boxes[boxIndex].fontSize = fontSize;\r\n\r\n\r\n\r\n\tif(item.type === 'bible' && wordIndex !== 0)\r\n\t\titem = Overflow.formatBible(item, 'edit');\r\n\r\n\tif(item.type === 'song' && wordIndex !== 0)\r\n\t\titem = Overflow.formatSong(item);\r\n\r\n\tif(wordIndex >= slides.length)\r\n\t\twordIndex = slides.length-1;\r\n\r\n\tneedsUpdate.updateItem = true;\r\n\tupdateHistory({type: 'update', item: item});\r\n\tupdateState({item: item, wordIndex: wordIndex, needsUpdate: needsUpdate});\r\n\r\n}\r\n\r\nexport function updateFontColor(props){\r\n\r\n\tlet {item, itemList, itemIndex, allItems, wordIndex, boxIndex, needsUpdate} = props.parent.state;\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet c = props.fontColor;\r\n\r\n\tlet color = 'rgba('+c.r+' , ' +c.g+' , '+c.b+' , '+c.a+')';\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\tlet slide = slides ? slides[wordIndex] : null;\r\n\r\n\tif(!slide)\r\n\t\treturn;\r\n\r\n\tslide.boxes[boxIndex].fontColor = color;\r\n\tlet index = allItems.findIndex(e => e._id === item._id);\r\n\r\n\tlet background = slide.boxes[boxIndex].background;\r\n\r\n\tfor(let i = 0; i < slides.length; ++i){\r\n\t\tif(slides[i].boxes[0].background === background){\r\n\t\t\tslides[i].boxes[0].fontColor = color;\r\n\t\t\tif(i === 0)\r\n\t\t\t{\r\n\t\t\t\titemList[itemIndex].nameColor = color;\r\n\t\t\t\tallItems[index].nameColor = color;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tif(wordIndex === 0 && boxIndex === 0){\r\n\t\t//update color of item in current list\r\n\t\titemList[itemIndex].nameColor = color;\r\n\t\t//update color of item in full list\r\n\t\tallItems[index].nameColor = color;\r\n\t}\r\n\r\n\tif(item.type === 'bible' && wordIndex !== 0){\r\n\t\tfor(let i = 1; i < slides.length; ++i){\r\n\t\t\tslides[i].boxes[boxIndex].fontColor = color;\r\n\t\t}\r\n\t}\r\n\tneedsUpdate.updateItem = true;\r\n\tneedsUpdate.updateItemList = true;\r\n\tneedsUpdate.updateAllItems = true;\r\n\tupdateHistory({type: 'update', item: item});\r\n\tupdateState({item: item, itemList: itemList, allItems: allItems, needsUpdate: needsUpdate});\r\n\r\n\r\n}\r\n\r\nexport function updateBrightness(props){\r\n\tlet {item, wordIndex, needsUpdate} = props.parent.state;\r\n\t//use boxIndex\r\n\tlet {updateState, updateHistory} = props.parent;\r\n\tlet {level} = props;\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tlet slide = slides ? slides[wordIndex] : null;\r\n\r\n\tif(!slide)\r\n\t\treturn;\r\n\r\n\tslide.boxes[0].brightness = level;\r\n\tlet background = slide.boxes[0].background;\r\n\tlet words = slide.boxes[1].words || slide.boxes[0].words;\r\n\r\n\tfor(let i = 0; i < slides.length; ++i){\r\n\t\tif(slides[i].boxes[0].background === background && words !== ' ')\r\n\t\t\tslides[i].boxes[0].brightness = level;\r\n\t}\r\n\r\n\tneedsUpdate.updateItem = true;\r\n\tupdateHistory({type: 'update', item: item});\r\n\tupdateState({item: item,needsUpdate: needsUpdate});\r\n\r\n}\r\n\r\nexport function updateBoxPosition(props){\r\n\tlet {item, wordIndex, boxIndex} = props.parent.state;\r\n\tlet {x, y, width, height, applyAll, match} = props.position;\r\n\r\n\tlet slides;\r\n\tif (item.type === 'song')\r\n\t\tslides = item.arrangements[item.selectedArrangement].slides || null;\r\n\telse\r\n\t\tslides = item.slides || null;\r\n\r\n\tlet slide = slides ? slides[wordIndex] : null;\r\n\r\n\tif(!slide)\r\n\t\treturn;\r\n\r\n\tif(match){\r\n\t\tlet box = slides[wordIndex].boxes[boxIndex];\r\n\t\tx = box.x;\r\n\t\ty = box.y;\r\n\t\twidth = box.width;\r\n\t\theight = box.height;\r\n\t}\r\n\r\n\tif (!applyAll){\r\n\t\tlet box = slides[wordIndex].boxes[boxIndex];\r\n\t\tbox.x = x;\r\n\t\tbox.y = y;\r\n\t\tbox.width = width;\r\n\t\tbox.height = height;\r\n\t\tslides[wordIndex].boxes[boxIndex] = box;\r\n\t}\r\n\telse{\r\n\t\tfor(let i = 1; i < slides.length; ++i){\r\n\t\t\tlet box = slides[i].boxes[boxIndex];\r\n\t\t\tbox.x = x;\r\n\t\t\tbox.y = y;\r\n\t\t\tbox.width = width;\r\n\t\t\tbox.height = height;\r\n\t\t}\r\n\t}\r\n\tprops.parent.updateItem(item);\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport {HashRouter} from 'react-router-dom';\r\n\r\n\r\nReactDOM.render(<HashRouter>\r\n\t<App/>\r\n</HashRouter>\r\n,document.getElementById('root'));\r\n\r\nregisterServiceWorker();\r\n","module.exports = __webpack_public_path__ + \"static/media/closeIcon.fe6198ec.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABkAAAAOECAMAAADOkw2QAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMw9IgAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAFi0lEQVR4Xu3BAQ0AAADCoPdPbQ8HBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHCvBv2/AAFqM6jOAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/edit.0dd83694.png\";","module.exports = __webpack_public_path__ + \"static/media/on.82b554ba.png\";","module.exports = __webpack_public_path__ + \"static/media/off.01b2530c.png\";"],"sourceRoot":""}